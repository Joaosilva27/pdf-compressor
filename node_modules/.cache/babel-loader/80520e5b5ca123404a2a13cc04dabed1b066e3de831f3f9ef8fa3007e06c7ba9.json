{"ast":null,"code":"import React,{useState,useRef,useCallback}from\"react\";import\"./App.css\";import ConectysLogo from\"./conectys.png\";import{PDFDocument,PDFName,PDFDict,PDFRawStream}from\"pdf-lib\";/* ------------------- PDF‑JS IMPORT ------------------- */import*as pdfjsLib from\"pdfjs-dist/legacy/build/pdf\";// Use local worker file from public folder\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";pdfjsLib.GlobalWorkerOptions.workerSrc=\"/pdf.worker.min.js\";/* ------------------- ICON COMPONENTS ------------------- */// … (your Icon components – unchanged) …\nconst IconUpload=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon icon-large\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"17 8 12 3 7 8\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"3\",x2:\"12\",y2:\"15\"})]});const IconDownload=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"7 10 12 15 17 10\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"15\",x2:\"12\",y2:\"3\"})]});const IconMoon=()=>/*#__PURE__*/_jsx(\"svg\",{className:\"icon\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\"})});const IconSun=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"5\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"1\",x2:\"12\",y2:\"3\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"21\",x2:\"12\",y2:\"23\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"4.22\",y1:\"4.22\",x2:\"5.64\",y2:\"5.64\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"18.36\",y1:\"18.36\",x2:\"19.78\",y2:\"19.78\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"1\",y1:\"12\",x2:\"3\",y2:\"12\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"21\",y1:\"12\",x2:\"23\",y2:\"12\"})]});const IconGitHub=()=>/*#__PURE__*/_jsx(\"svg\",{className:\"github-icon\",viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 .5C5.73.5.5 5.74.5 12.02c0 5.11 3.29 9.45 7.86 10.98.58.11.79-.25.79-.56v-2.02c-3.2.7-3.87-1.55-3.87-1.55-.52-1.33-1.28-1.68-1.28-1.68-1.04-.71.08-.7.08-.7 1.15.08 1.75 1.18 1.75 1.18 1.02 1.75 2.67 1.24 3.32.95.1-.74.4-1.24.72-1.53-2.55-.29-5.23-1.28-5.23-5.69 0-1.26.45-2.3 1.18-3.11-.12-.29-.51-1.45.11-3.02 0 0 .97-.31 3.18 1.19a11.05 11.05 0 0 1 5.8 0c2.2-1.5 3.17-1.19 3.17-1.19.63 1.57.24 2.73.12 3.02.73.81 1.17 1.85 1.17 3.11 0 4.42-2.69 5.39-5.25 5.67.41.35.77 1.04.77 2.1v3.12c0 .31.21.67.8.56A11.52 11.52 0 0 0 23.5 12C23.5 5.74 18.27.5 12 .5z\"})});const IconTrash=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon icon-danger\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"polyline\",{points:\"3 6 5 6 21 6\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M19 6l-1 14a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M10 11v6\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M14 11v6\"})]});const IconFile=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"13 2 13 9 20 9\"})]});const IconCompress=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"polyline\",{points:\"4 14 10 14 10 20\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"20 10 14 10 14 4\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"14\",y1:\"10\",x2:\"21\",y2:\"3\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"3\",y1:\"21\",x2:\"10\",y2:\"14\"})]});const IconInfo=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"10\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"16\",x2:\"12\",y2:\"12\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"8\",x2:\"12.01\",y2:\"8\"})]});const IconCheck=()=>/*#__PURE__*/_jsx(\"svg\",{className:\"icon icon-success\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:/*#__PURE__*/_jsx(\"polyline\",{points:\"20 6 9 17 4 12\"})});const IconAlert=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon icon-warning\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"9\",x2:\"12\",y2:\"13\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"17\",x2:\"12.01\",y2:\"17\"})]});/* ------------------- HELPERS ------------------- */function arrayBufferToBlobUrl(buf,mime){const blob=new Blob([buf],{type:mime});return URL.createObjectURL(blob);}/**\n * Re‑encode an image using a hidden canvas.\n *\n * @param {Uint8Array} imgBytes   Raw bytes from the PDF (already decoded).\n * @param {boolean} isJpeg        true if the original filter is DCTDecode.\n * @param {number} maxDim         Max width/height (pixels).\n * @param {number} jpegQuality    JPEG quality (0‑1).\n *\n * @returns {Uint8Array} New JPEG bytes.\n */async function reEncodeImage(imgBytes,isJpeg,maxDim,jpegQuality){const mimeIn=isJpeg?\"image/jpeg\":\"image/png\";const url=arrayBufferToBlobUrl(imgBytes,mimeIn);const img=await new Promise((res,rej)=>{const i=new Image();i.onload=()=>res(i);i.onerror=e=>rej(e);i.src=url;});URL.revokeObjectURL(url);// Down‑scale if needed\nlet{width,height}=img;if(Math.max(width,height)>maxDim){const scale=maxDim/Math.max(width,height);width=Math.round(width*scale);height=Math.round(height*scale);}const canvas=document.createElement(\"canvas\");canvas.width=width;canvas.height=height;const ctx=canvas.getContext(\"2d\");ctx.drawImage(img,0,0,width,height);const dataUrl=canvas.toDataURL(\"image/jpeg\",jpegQuality);const base64=dataUrl.split(\",\")[1];const outBytes=Uint8Array.from(atob(base64),c=>c.charCodeAt(0));canvas.remove();return outBytes;}/* --------------------------------------------------------------\n   1️⃣  Fast (image‑only) compression – primary path\n   -------------------------------------------------------------- */async function compressPDFFast(pdfBytes,onProgress){const MAX_DIMENSION=1500;// px\nconst JPEG_QUALITY=0.6;// 60 %\nconst pdfDoc=await PDFDocument.load(pdfBytes,{ignoreEncryption:true});const pageCount=pdfDoc.getPageCount();// 1️⃣ Strip metadata\nonProgress(5,\"Stripping metadata…\");pdfDoc.setTitle(\"\");pdfDoc.setAuthor(\"\");pdfDoc.setSubject(\"\");pdfDoc.setCreator(\"\");pdfDoc.setProducer(\"\");pdfDoc.setKeywords([]);pdfDoc.setCreationDate(new Date(0));pdfDoc.setModificationDate(new Date(0));// 2️⃣ Clean catalog\nonProgress(15,\"Cleaning catalog…\");const catalog=pdfDoc.catalog;[\"Metadata\",\"PieceInfo\",\"StructTreeRoot\",\"SpiderInfo\",\"OutputIntents\",\"MarkInfo\"].forEach(key=>{try{catalog.delete(PDFName.of(key));}catch(_){}});// 3️⃣ Re‑encode image XObjects\nonProgress(30,\"Optimising images…\");for(let i=0;i<pageCount;i++){const page=pdfDoc.getPage(i);const resources=page.node.Resources();const xObjDict=resources.lookupMaybe(PDFName.of(\"XObject\"));if(!xObjDict)continue;const entries=xObjDict instanceof PDFDict?xObjDict.entries():[];for(const[key,ref]of entries){var _filter$toString;const obj=pdfDoc.context.lookup(ref);if(!obj||typeof obj.getContents!==\"function\")continue;// not a stream\nconst subtype=obj.dict.get(PDFName.of(\"Subtype\"));if(!subtype||subtype.toString()!==\"/Image\")continue;// not an image\nconst filter=obj.dict.get(PDFName.of(\"Filter\"));const filterStr=(_filter$toString=filter===null||filter===void 0?void 0:filter.toString())!==null&&_filter$toString!==void 0?_filter$toString:\"\";const isJpeg=filterStr.includes(\"DCTDecode\");const imgBytes=obj.getContents();// already decoded\ntry{const newBytes=await reEncodeImage(imgBytes,isJpeg,MAX_DIMENSION,JPEG_QUALITY);obj.setContents(newBytes);obj.dict.set(PDFName.of(\"Filter\"),PDFName.of(\"DCTDecode\"));}catch(e){console.warn(\"Failed to re\\u2011encode image \".concat(key,\":\"),e);}}// progress: 30 % → 70 %\nonProgress(30+(i+1)/pageCount*40,\"Optimised page \".concat(i+1,\"/\").concat(pageCount));}// 4️⃣ Save\nonProgress(85,\"Saving compressed PDF…\");const compressed=await pdfDoc.save({useObjectStreams:true});onProgress(100,\"Done!\");return{bytes:compressed,pageCount,success:true};}/* --------------------------------------------------------------\n   2️⃣  Raster fallback – uses pdfjs to render each page\n   -------------------------------------------------------------- */async function compressPDFRaster(pdfBytes,onProgress){const uint8=new Uint8Array(pdfBytes);const loadingTask=pdfjsLib.getDocument({data:uint8,disableAutoFetch:true});const pdf=await loadingTask.promise;const pageCount=pdf.numPages;async function rasterisePage(pageNumber){const page=await pdf.getPage(pageNumber);const viewport=page.getViewport({scale:1});const canvas=document.createElement(\"canvas\");canvas.width=viewport.width;canvas.height=viewport.height;const ctx=canvas.getContext(\"2d\");await page.render({canvasContext:ctx,viewport}).promise;const dataUrl=canvas.toDataURL(\"image/jpeg\",0.7);const base64=dataUrl.split(\",\")[1];const imgBytes=Uint8Array.from(atob(base64),c=>c.charCodeAt(0));canvas.remove();return{imgBytes,width:canvas.width,height:canvas.height};}const newPdf=await PDFDocument.create();for(let i=1;i<=pageCount;i++){onProgress(10+(i-1)/pageCount*80,\"Rasterising page \".concat(i,\"/\").concat(pageCount));const{imgBytes,width,height}=await rasterisePage(i);const jpg=await newPdf.embedJpg(imgBytes);const pg=newPdf.addPage([width,height]);pg.drawImage(jpg,{x:0,y:0,width,height});}onProgress(95,\"Saving rasterised PDF…\");const out=await newPdf.save({useObjectStreams:true});onProgress(100,\"Done!\");return{bytes:out,pageCount,success:true};}/* --------------------------------------------------------------\n   Unified entry point – try fast, fall back to raster\n   -------------------------------------------------------------- */async function compressPDFUnified(pdfBytes,onProgress){try{return await compressPDFFast(pdfBytes,onProgress);}catch(fastErr){console.warn(\"Fast compression failed, falling back to rasterisation:\",fastErr);try{return await compressPDFRaster(pdfBytes,onProgress);}catch(rasterErr){console.error(\"Raster fallback also failed:\",rasterErr);throw new Error(\"Both compression methods failed \\u2013 \".concat(rasterErr instanceof Error?rasterErr.message:rasterErr));}}}/* ------------------- VALIDATION ------------------- */function validatePDF(file){if(!file)return{valid:false,error:\"No file selected\"};if(file.type!==\"application/pdf\"&&!file.name.toLowerCase().endsWith(\".pdf\"))return{valid:false,error:\"Please select a valid PDF file\"};if(file.size===0)return{valid:false,error:\"File is empty\"};if(file.size>500*1024*1024)return{valid:false,error:\"File is too large (max 500 MB)\"};return{valid:true};}/* ------------------- MAIN APP COMPONENT ------------------- */function App(){/* ---------- Theme ---------- */const[darkMode,setDarkMode]=useState(()=>{const saved=localStorage.getItem(\"theme\");return saved===\"dark\"||!saved&&window.matchMedia(\"(prefers-color-scheme: dark)\").matches;});React.useEffect(()=>{localStorage.setItem(\"theme\",darkMode?\"dark\":\"light\");document.documentElement.classList.toggle(\"dark\",darkMode);},[darkMode]);/* ---------- State ---------- */const[file,setFile]=useState(null);const[compressing,setCompressing]=useState(false);const[progress,setProgress]=useState(0);const[progressMessage,setProgressMessage]=useState(\"\");const[originalSize,setOriginalSize]=useState(0);const[compressedSize,setCompressedSize]=useState(0);const[compressedBlob,setCompressedBlob]=useState(null);const[pageCount,setPageCount]=useState(0);const[error,setError]=useState(null);const[warning,setWarning]=useState(null);const fileInputRef=useRef(null);const dragCounter=useRef(0);const[isDragging,setIsDragging]=useState(false);const TARGET_SIZE=10*1024*1024;// 10 MB\nconst formatBytes=useCallback(bytes=>{if(bytes===0)return\"0 Bytes\";const k=1024;const dm=2;const sizes=[\"Bytes\",\"KB\",\"MB\",\"GB\",\"TB\"];const i=Math.floor(Math.log(bytes)/Math.log(k));return parseFloat((bytes/Math.pow(k,i)).toFixed(dm))+\" \"+sizes[i];},[]);/* ---------- File handling ---------- */const handleFileSelect=async selectedFile=>{const validation=validatePDF(selectedFile);if(!validation.valid){setError(validation.error);return;}setFile(selectedFile);setError(null);setWarning(null);setCompressedBlob(null);setOriginalSize(selectedFile.size);setCompressing(true);setProgress(0);setProgressMessage(\"Preparing…\");try{const arrayBuffer=await selectedFile.arrayBuffer();const onProgress=(pct,msg)=>{setProgress(Math.round(pct));setProgressMessage(msg);};const result=await compressPDFUnified(arrayBuffer,onProgress);const blob=new Blob([result.bytes],{type:\"application/pdf\"});setCompressedBlob(blob);setCompressedSize(blob.size);setPageCount(result.pageCount);setCompressing(false);// ---- Warnings -------------------------------------------------\nif(blob.size>TARGET_SIZE){setWarning(\"Compressed file is \".concat(formatBytes(blob.size),\" \\u2013 still above the 10 MB target. \")+\"The PDF may contain complex graphics that cannot be reduced further without quality loss.\");}else if(blob.size>=selectedFile.size*0.95){setWarning(\"Only a \".concat(((1-blob.size/selectedFile.size)*100).toFixed(1),\" % size reduction. \")+\"The original PDF may already be optimised.\");}}catch(e){console.error(e);setError(e instanceof Error?e.message:\"Failed to compress PDF.\");setCompressing(false);setProgress(0);setProgressMessage(\"\");}};/* ---------- Download ---------- */const handleDownload=()=>{if(!compressedBlob||!file)return;try{const url=URL.createObjectURL(compressedBlob);const a=document.createElement(\"a\");a.href=url;const name=file.name.replace(/\\.pdf$/i,\"\");a.download=\"\".concat(name,\"_compressed.pdf\");document.body.appendChild(a);a.click();document.body.removeChild(a);setTimeout(()=>URL.revokeObjectURL(url),100);}catch(e){console.error(e);setError(\"Failed to download file. Please try again.\");}};/* ---------- Reset ---------- */const handleReset=()=>{setFile(null);setCompressedBlob(null);setOriginalSize(0);setCompressedSize(0);setPageCount(0);setError(null);setWarning(null);setProgress(0);setProgressMessage(\"\");if(fileInputRef.current)fileInputRef.current.value=\"\";};/* ---------- Drag & Drop ---------- */const handleDragEnter=e=>{e.preventDefault();e.stopPropagation();dragCounter.current++;if(e.dataTransfer.items&&e.dataTransfer.items.length>0)setIsDragging(true);};const handleDragLeave=e=>{e.preventDefault();e.stopPropagation();dragCounter.current--;if(dragCounter.current===0)setIsDragging(false);};const handleDragOver=e=>{e.preventDefault();e.stopPropagation();};const handleDrop=e=>{e.preventDefault();e.stopPropagation();setIsDragging(false);dragCounter.current=0;const files=e.dataTransfer.files;if(files&&files.length>0)handleFileSelect(files[0]);};/* ---------- Statistics ---------- */const compressionRatio=originalSize?((1-compressedSize/originalSize)*100).toFixed(1):0;const savedBytes=originalSize-compressedSize;const metTarget=compressedSize<=TARGET_SIZE;/*===================== RENDER =====================*/return/*#__PURE__*/_jsxs(\"div\",{className:\"app-container \".concat(darkMode?\"dark\":\"\"),children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"nav-brand\",children:[/*#__PURE__*/_jsx(\"img\",{src:ConectysLogo,alt:\"Conectys Logo\",className:\"brand-logo\"}),/*#__PURE__*/_jsx(\"span\",{className:\"brand-text\",children:\"PDF Compressor\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"nav-actions\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon\",onClick:()=>setDarkMode(!darkMode),\"aria-label\":\"Toggle theme\",title:darkMode?\"Switch to light mode\":\"Switch to dark mode\",children:darkMode?/*#__PURE__*/_jsx(IconSun,{}):/*#__PURE__*/_jsx(IconMoon,{})})})]}),/*#__PURE__*/_jsx(\"main\",{className:\"main-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"compress-container\",children:[!file?/*#__PURE__*/_jsxs(\"div\",{className:\"upload-area \".concat(isDragging?\"dragging\":\"\"),onClick:()=>{var _fileInputRef$current;return(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();},onDragEnter:handleDragEnter,onDragLeave:handleDragLeave,onDragOver:handleDragOver,onDrop:handleDrop,children:[/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",accept:\".pdf,application/pdf\",hidden:true,onChange:e=>{var _e$target$files;return handleFileSelect((_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0]);}}),/*#__PURE__*/_jsx(IconUpload,{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Select or Drop PDF to Compress\"}),/*#__PURE__*/_jsx(\"p\",{className:\"upload-subtitle\",children:isDragging?\"Drop your PDF here\":\"Fast, secure, client‑side compression\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary btn-upload\",onClick:e=>{var _fileInputRef$current2;e.stopPropagation();(_fileInputRef$current2=fileInputRef.current)===null||_fileInputRef$current2===void 0?void 0:_fileInputRef$current2.click();},children:\"Choose File\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"card compression-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"file-info\",children:[/*#__PURE__*/_jsx(IconFile,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-details\",children:[/*#__PURE__*/_jsx(\"h3\",{children:file.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Original size: \",formatBytes(originalSize)]}),pageCount>0&&/*#__PURE__*/_jsxs(\"p\",{className:\"page-count\",children:[pageCount,\" page\",pageCount!==1?\"s\":\"\"]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon btn-danger\",onClick:handleReset,title:\"Remove file\",disabled:compressing,children:/*#__PURE__*/_jsx(IconTrash,{})})]}),compressing&&/*#__PURE__*/_jsxs(\"div\",{className:\"progress-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill\",style:{width:\"\".concat(progress,\"%\")}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"progress-info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"progress-text\",children:progressMessage}),/*#__PURE__*/_jsxs(\"p\",{className:\"progress-percent\",children:[progress,\"%\"]})]})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"error-message\",children:[/*#__PURE__*/_jsx(IconAlert,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Error\"}),/*#__PURE__*/_jsx(\"p\",{children:error})]})]}),warning&&!error&&/*#__PURE__*/_jsxs(\"div\",{className:\"warning-message\",children:[/*#__PURE__*/_jsx(IconInfo,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Note\"}),/*#__PURE__*/_jsx(\"p\",{children:warning})]})]}),compressedBlob&&!compressing&&!error&&/*#__PURE__*/_jsxs(\"div\",{className:\"result-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"success-banner \".concat(metTarget?\"target-met\":\"\"),children:[metTarget?/*#__PURE__*/_jsx(IconCheck,{}):/*#__PURE__*/_jsx(IconInfo,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:metTarget?\"Compression Successful!\":\"Compression Complete\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Reduced by \",formatBytes(savedBytes),\" (\",compressionRatio,\"%)\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"result-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Original Size\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:formatBytes(originalSize)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Compressed Size\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value \".concat(metTarget?\"success\":\"warning\"),children:formatBytes(compressedSize)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Size Reduction\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-value success\",children:[compressionRatio,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Bytes Saved\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:formatBytes(savedBytes)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"10 MB Target\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value \".concat(metTarget?\"success\":\"warning\"),children:metTarget?\"✓ Met\":\"⚠ Exceeded\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Page Count\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:pageCount})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn-download btn-primary\",onClick:handleDownload,children:[/*#__PURE__*/_jsx(IconDownload,{}),/*#__PURE__*/_jsx(\"span\",{children:\"Download Compressed PDF\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-action btn-secondary\",onClick:handleReset,children:[/*#__PURE__*/_jsx(IconCompress,{}),/*#__PURE__*/_jsx(\"span\",{children:\"Compress Another File\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-header\",children:[/*#__PURE__*/_jsx(IconInfo,{}),/*#__PURE__*/_jsx(\"h3\",{children:\"How It Works\"})]}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Upload:\"}),\" select your PDF or drag & drop.\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Compress:\"}),\" metadata is stripped, images are down\\u2011scaled & re\\u2011encoded, with an automatic raster fallback.\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Download:\"}),\" get the smaller PDF instantly.\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Privacy:\"}),\" all processing happens in the browser; nothing leaves the client.\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-header\",children:[/*#__PURE__*/_jsx(IconCheck,{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Features\"})]}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Fast, client\\u2011side processing\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Metadata stripping & object\\u2011stream compression\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Smart image optimisation (down\\u2011scale, JPEG quality)\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Automatic raster fallback for stubborn PDFs\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Free, open\\u2011source, no\\u2011tracking\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Works offline\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-header\",children:[/*#__PURE__*/_jsx(IconAlert,{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Best Results\"})]}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Works best on:\"}),\" PDFs that contain uncompressed raster images or duplicated objects.\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Limited on:\"}),\" PDFs already optimised or vector\\u2011only documents.\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Maximum size:\"}),\" 500 MB (browser memory limit).\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Supported formats:\"}),\" Standard PDF (encrypted PDFs may not work).\"]})]})]})]})]})}),/*#__PURE__*/_jsx(\"footer\",{className:\"footer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"footer-content\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\xA9 2026 PDF Compressor. Free & Open Source.\"}),/*#__PURE__*/_jsxs(\"a\",{href:\"https://github.com/Joaosilva27/pdf-compressor\",target:\"_blank\",rel:\"noopener noreferrer\",className:\"github-link\",\"aria-label\":\"GitHub Repository\",children:[/*#__PURE__*/_jsx(IconGitHub,{}),/*#__PURE__*/_jsx(\"span\",{children:\"View on GitHub\"})]})]})})]});}/*====================================================================*/export default App;","map":{"version":3,"names":["React","useState","useRef","useCallback","ConectysLogo","PDFDocument","PDFName","PDFDict","PDFRawStream","pdfjsLib","jsx","_jsx","jsxs","_jsxs","GlobalWorkerOptions","workerSrc","IconUpload","className","viewBox","fill","stroke","children","d","points","x1","y1","x2","y2","IconDownload","strokeWidth","IconMoon","IconSun","cx","cy","r","IconGitHub","IconTrash","IconFile","IconCompress","IconInfo","IconCheck","IconAlert","arrayBufferToBlobUrl","buf","mime","blob","Blob","type","URL","createObjectURL","reEncodeImage","imgBytes","isJpeg","maxDim","jpegQuality","mimeIn","url","img","Promise","res","rej","i","Image","onload","onerror","e","src","revokeObjectURL","width","height","Math","max","scale","round","canvas","document","createElement","ctx","getContext","drawImage","dataUrl","toDataURL","base64","split","outBytes","Uint8Array","from","atob","c","charCodeAt","remove","compressPDFFast","pdfBytes","onProgress","MAX_DIMENSION","JPEG_QUALITY","pdfDoc","load","ignoreEncryption","pageCount","getPageCount","setTitle","setAuthor","setSubject","setCreator","setProducer","setKeywords","setCreationDate","Date","setModificationDate","catalog","forEach","key","delete","of","_","page","getPage","resources","node","Resources","xObjDict","lookupMaybe","entries","ref","_filter$toString","obj","context","lookup","getContents","subtype","dict","get","toString","filter","filterStr","includes","newBytes","setContents","set","console","warn","concat","compressed","save","useObjectStreams","bytes","success","compressPDFRaster","uint8","loadingTask","getDocument","data","disableAutoFetch","pdf","promise","numPages","rasterisePage","pageNumber","viewport","getViewport","render","canvasContext","newPdf","create","jpg","embedJpg","pg","addPage","x","y","out","compressPDFUnified","fastErr","rasterErr","error","Error","message","validatePDF","file","valid","name","toLowerCase","endsWith","size","App","darkMode","setDarkMode","saved","localStorage","getItem","window","matchMedia","matches","useEffect","setItem","documentElement","classList","toggle","setFile","compressing","setCompressing","progress","setProgress","progressMessage","setProgressMessage","originalSize","setOriginalSize","compressedSize","setCompressedSize","compressedBlob","setCompressedBlob","setPageCount","setError","warning","setWarning","fileInputRef","dragCounter","isDragging","setIsDragging","TARGET_SIZE","formatBytes","k","dm","sizes","floor","log","parseFloat","pow","toFixed","handleFileSelect","selectedFile","validation","arrayBuffer","pct","msg","result","handleDownload","a","href","replace","download","body","appendChild","click","removeChild","setTimeout","handleReset","current","value","handleDragEnter","preventDefault","stopPropagation","dataTransfer","items","length","handleDragLeave","handleDragOver","handleDrop","files","compressionRatio","savedBytes","metTarget","alt","onClick","title","_fileInputRef$current","onDragEnter","onDragLeave","onDragOver","onDrop","accept","hidden","onChange","_e$target$files","target","_fileInputRef$current2","disabled","style","rel"],"sources":["/Users/joaosilva/Documents/GitHub/pdf-compressor/src/App.js"],"sourcesContent":["import React, { useState, useRef, useCallback } from \"react\";\nimport \"./App.css\";\nimport ConectysLogo from \"./conectys.png\";\nimport { PDFDocument, PDFName, PDFDict, PDFRawStream } from \"pdf-lib\";\n\n/* ------------------- PDF‑JS IMPORT ------------------- */\nimport * as pdfjsLib from \"pdfjs-dist/legacy/build/pdf\";\n\n// Use local worker file from public folder\npdfjsLib.GlobalWorkerOptions.workerSrc = \"/pdf.worker.min.js\";\n\n/* ------------------- ICON COMPONENTS ------------------- */\n// … (your Icon components – unchanged) …\nconst IconUpload = () => (\n  <svg className='icon icon-large' viewBox='0 0 24 24' fill='none' stroke='currentColor'>\n    <path d='M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4'></path>\n    <polyline points='17 8 12 3 7 8'></polyline>\n    <line x1='12' y1='3' x2='12' y2='15'></line>\n  </svg>\n);\nconst IconDownload = () => (\n  <svg className='icon' viewBox='0 0 24 24' fill='none' stroke='currentColor' strokeWidth='2'>\n    <path d='M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4'></path>\n    <polyline points='7 10 12 15 17 10'></polyline>\n    <line x1='12' y1='15' x2='12' y2='3'></line>\n  </svg>\n);\nconst IconMoon = () => (\n  <svg className='icon' viewBox='0 0 24 24' fill='none' stroke='currentColor' strokeWidth='2'>\n    <path d='M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z' />\n  </svg>\n);\nconst IconSun = () => (\n  <svg className='icon' viewBox='0 0 24 24' fill='none' stroke='currentColor' strokeWidth='2'>\n    <circle cx='12' cy='12' r='5' />\n    <line x1='12' y1='1' x2='12' y2='3' />\n    <line x1='12' y1='21' x2='12' y2='23' />\n    <line x1='4.22' y1='4.22' x2='5.64' y2='5.64' />\n    <line x1='18.36' y1='18.36' x2='19.78' y2='19.78' />\n    <line x1='1' y1='12' x2='3' y2='12' />\n    <line x1='21' y1='12' x2='23' y2='12' />\n  </svg>\n);\nconst IconGitHub = () => (\n  <svg className='github-icon' viewBox='0 0 24 24' fill='currentColor'>\n    <path d='M12 .5C5.73.5.5 5.74.5 12.02c0 5.11 3.29 9.45 7.86 10.98.58.11.79-.25.79-.56v-2.02c-3.2.7-3.87-1.55-3.87-1.55-.52-1.33-1.28-1.68-1.28-1.68-1.04-.71.08-.7.08-.7 1.15.08 1.75 1.18 1.75 1.18 1.02 1.75 2.67 1.24 3.32.95.1-.74.4-1.24.72-1.53-2.55-.29-5.23-1.28-5.23-5.69 0-1.26.45-2.3 1.18-3.11-.12-.29-.51-1.45.11-3.02 0 0 .97-.31 3.18 1.19a11.05 11.05 0 0 1 5.8 0c2.2-1.5 3.17-1.19 3.17-1.19.63 1.57.24 2.73.12 3.02.73.81 1.17 1.85 1.17 3.11 0 4.42-2.69 5.39-5.25 5.67.41.35.77 1.04.77 2.1v3.12c0 .31.21.67.8.56A11.52 11.52 0 0 0 23.5 12C23.5 5.74 18.27.5 12 .5z' />\n  </svg>\n);\nconst IconTrash = () => (\n  <svg className='icon icon-danger' viewBox='0 0 24 24' fill='none' stroke='currentColor' strokeWidth='2'>\n    <polyline points='3 6 5 6 21 6'></polyline>\n    <path d='M19 6l-1 14a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6'></path>\n    <path d='M10 11v6'></path>\n    <path d='M14 11v6'></path>\n  </svg>\n);\nconst IconFile = () => (\n  <svg className='icon' viewBox='0 0 24 24' fill='none' stroke='currentColor' strokeWidth='2'>\n    <path d='M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z'></path>\n    <polyline points='13 2 13 9 20 9'></polyline>\n  </svg>\n);\nconst IconCompress = () => (\n  <svg className='icon' viewBox='0 0 24 24' fill='none' stroke='currentColor' strokeWidth='2'>\n    <polyline points='4 14 10 14 10 20'></polyline>\n    <polyline points='20 10 14 10 14 4'></polyline>\n    <line x1='14' y1='10' x2='21' y2='3'></line>\n    <line x1='3' y1='21' x2='10' y2='14'></line>\n  </svg>\n);\nconst IconInfo = () => (\n  <svg className='icon' viewBox='0 0 24 24' fill='none' stroke='currentColor' strokeWidth='2'>\n    <circle cx='12' cy='12' r='10'></circle>\n    <line x1='12' y1='16' x2='12' y2='12'></line>\n    <line x1='12' y1='8' x2='12.01' y2='8'></line>\n  </svg>\n);\nconst IconCheck = () => (\n  <svg className='icon icon-success' viewBox='0 0 24 24' fill='none' stroke='currentColor' strokeWidth='2'>\n    <polyline points='20 6 9 17 4 12'></polyline>\n  </svg>\n);\nconst IconAlert = () => (\n  <svg className='icon icon-warning' viewBox='0 0 24 24' fill='none' stroke='currentColor' strokeWidth='2'>\n    <path d='M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z'></path>\n    <line x1='12' y1='9' x2='12' y2='13'></line>\n    <line x1='12' y1='17' x2='12.01' y2='17'></line>\n  </svg>\n);\n\n/* ------------------- HELPERS ------------------- */\n\nfunction arrayBufferToBlobUrl(buf, mime) {\n  const blob = new Blob([buf], { type: mime });\n  return URL.createObjectURL(blob);\n}\n\n/**\n * Re‑encode an image using a hidden canvas.\n *\n * @param {Uint8Array} imgBytes   Raw bytes from the PDF (already decoded).\n * @param {boolean} isJpeg        true if the original filter is DCTDecode.\n * @param {number} maxDim         Max width/height (pixels).\n * @param {number} jpegQuality    JPEG quality (0‑1).\n *\n * @returns {Uint8Array} New JPEG bytes.\n */\nasync function reEncodeImage(imgBytes, isJpeg, maxDim, jpegQuality) {\n  const mimeIn = isJpeg ? \"image/jpeg\" : \"image/png\";\n  const url = arrayBufferToBlobUrl(imgBytes, mimeIn);\n\n  const img = await new Promise((res, rej) => {\n    const i = new Image();\n    i.onload = () => res(i);\n    i.onerror = e => rej(e);\n    i.src = url;\n  });\n  URL.revokeObjectURL(url);\n\n  // Down‑scale if needed\n  let { width, height } = img;\n  if (Math.max(width, height) > maxDim) {\n    const scale = maxDim / Math.max(width, height);\n    width = Math.round(width * scale);\n    height = Math.round(height * scale);\n  }\n\n  const canvas = document.createElement(\"canvas\");\n  canvas.width = width;\n  canvas.height = height;\n  const ctx = canvas.getContext(\"2d\");\n  ctx.drawImage(img, 0, 0, width, height);\n  const dataUrl = canvas.toDataURL(\"image/jpeg\", jpegQuality);\n  const base64 = dataUrl.split(\",\")[1];\n  const outBytes = Uint8Array.from(atob(base64), c => c.charCodeAt(0));\n  canvas.remove();\n  return outBytes;\n}\n\n/* --------------------------------------------------------------\n   1️⃣  Fast (image‑only) compression – primary path\n   -------------------------------------------------------------- */\nasync function compressPDFFast(pdfBytes, onProgress) {\n  const MAX_DIMENSION = 1500; // px\n  const JPEG_QUALITY = 0.6; // 60 %\n\n  const pdfDoc = await PDFDocument.load(pdfBytes, { ignoreEncryption: true });\n  const pageCount = pdfDoc.getPageCount();\n\n  // 1️⃣ Strip metadata\n  onProgress(5, \"Stripping metadata…\");\n  pdfDoc.setTitle(\"\");\n  pdfDoc.setAuthor(\"\");\n  pdfDoc.setSubject(\"\");\n  pdfDoc.setCreator(\"\");\n  pdfDoc.setProducer(\"\");\n  pdfDoc.setKeywords([]);\n  pdfDoc.setCreationDate(new Date(0));\n  pdfDoc.setModificationDate(new Date(0));\n\n  // 2️⃣ Clean catalog\n  onProgress(15, \"Cleaning catalog…\");\n  const catalog = pdfDoc.catalog;\n  [\"Metadata\", \"PieceInfo\", \"StructTreeRoot\", \"SpiderInfo\", \"OutputIntents\", \"MarkInfo\"].forEach(key => {\n    try {\n      catalog.delete(PDFName.of(key));\n    } catch (_) {}\n  });\n\n  // 3️⃣ Re‑encode image XObjects\n  onProgress(30, \"Optimising images…\");\n  for (let i = 0; i < pageCount; i++) {\n    const page = pdfDoc.getPage(i);\n    const resources = page.node.Resources();\n    const xObjDict = resources.lookupMaybe(PDFName.of(\"XObject\"));\n    if (!xObjDict) continue;\n\n    const entries = xObjDict instanceof PDFDict ? xObjDict.entries() : [];\n\n    for (const [key, ref] of entries) {\n      const obj = pdfDoc.context.lookup(ref);\n      if (!obj || typeof obj.getContents !== \"function\") continue; // not a stream\n\n      const subtype = obj.dict.get(PDFName.of(\"Subtype\"));\n      if (!subtype || subtype.toString() !== \"/Image\") continue; // not an image\n\n      const filter = obj.dict.get(PDFName.of(\"Filter\"));\n      const filterStr = filter?.toString() ?? \"\";\n      const isJpeg = filterStr.includes(\"DCTDecode\");\n\n      const imgBytes = obj.getContents(); // already decoded\n\n      try {\n        const newBytes = await reEncodeImage(imgBytes, isJpeg, MAX_DIMENSION, JPEG_QUALITY);\n        obj.setContents(newBytes);\n        obj.dict.set(PDFName.of(\"Filter\"), PDFName.of(\"DCTDecode\"));\n      } catch (e) {\n        console.warn(`Failed to re‑encode image ${key}:`, e);\n      }\n    }\n\n    // progress: 30 % → 70 %\n    onProgress(30 + ((i + 1) / pageCount) * 40, `Optimised page ${i + 1}/${pageCount}`);\n  }\n\n  // 4️⃣ Save\n  onProgress(85, \"Saving compressed PDF…\");\n  const compressed = await pdfDoc.save({ useObjectStreams: true });\n  onProgress(100, \"Done!\");\n  return { bytes: compressed, pageCount, success: true };\n}\n\n/* --------------------------------------------------------------\n   2️⃣  Raster fallback – uses pdfjs to render each page\n   -------------------------------------------------------------- */\nasync function compressPDFRaster(pdfBytes, onProgress) {\n  const uint8 = new Uint8Array(pdfBytes);\n  const loadingTask = pdfjsLib.getDocument({ data: uint8, disableAutoFetch: true });\n  const pdf = await loadingTask.promise;\n  const pageCount = pdf.numPages;\n\n  async function rasterisePage(pageNumber) {\n    const page = await pdf.getPage(pageNumber);\n    const viewport = page.getViewport({ scale: 1 });\n    const canvas = document.createElement(\"canvas\");\n    canvas.width = viewport.width;\n    canvas.height = viewport.height;\n    const ctx = canvas.getContext(\"2d\");\n\n    await page.render({ canvasContext: ctx, viewport }).promise;\n\n    const dataUrl = canvas.toDataURL(\"image/jpeg\", 0.7);\n    const base64 = dataUrl.split(\",\")[1];\n    const imgBytes = Uint8Array.from(atob(base64), c => c.charCodeAt(0));\n    canvas.remove();\n    return { imgBytes, width: canvas.width, height: canvas.height };\n  }\n\n  const newPdf = await PDFDocument.create();\n\n  for (let i = 1; i <= pageCount; i++) {\n    onProgress(10 + ((i - 1) / pageCount) * 80, `Rasterising page ${i}/${pageCount}`);\n    const { imgBytes, width, height } = await rasterisePage(i);\n    const jpg = await newPdf.embedJpg(imgBytes);\n    const pg = newPdf.addPage([width, height]);\n    pg.drawImage(jpg, { x: 0, y: 0, width, height });\n  }\n\n  onProgress(95, \"Saving rasterised PDF…\");\n  const out = await newPdf.save({ useObjectStreams: true });\n  onProgress(100, \"Done!\");\n  return { bytes: out, pageCount, success: true };\n}\n\n/* --------------------------------------------------------------\n   Unified entry point – try fast, fall back to raster\n   -------------------------------------------------------------- */\nasync function compressPDFUnified(pdfBytes, onProgress) {\n  try {\n    return await compressPDFFast(pdfBytes, onProgress);\n  } catch (fastErr) {\n    console.warn(\"Fast compression failed, falling back to rasterisation:\", fastErr);\n    try {\n      return await compressPDFRaster(pdfBytes, onProgress);\n    } catch (rasterErr) {\n      console.error(\"Raster fallback also failed:\", rasterErr);\n      throw new Error(`Both compression methods failed – ${rasterErr instanceof Error ? rasterErr.message : rasterErr}`);\n    }\n  }\n}\n\n/* ------------------- VALIDATION ------------------- */\nfunction validatePDF(file) {\n  if (!file) return { valid: false, error: \"No file selected\" };\n  if (file.type !== \"application/pdf\" && !file.name.toLowerCase().endsWith(\".pdf\")) return { valid: false, error: \"Please select a valid PDF file\" };\n  if (file.size === 0) return { valid: false, error: \"File is empty\" };\n  if (file.size > 500 * 1024 * 1024) return { valid: false, error: \"File is too large (max 500 MB)\" };\n  return { valid: true };\n}\n\n/* ------------------- MAIN APP COMPONENT ------------------- */\nfunction App() {\n  /* ---------- Theme ---------- */\n  const [darkMode, setDarkMode] = useState(() => {\n    const saved = localStorage.getItem(\"theme\");\n    return saved === \"dark\" || (!saved && window.matchMedia(\"(prefers-color-scheme: dark)\").matches);\n  });\n  React.useEffect(() => {\n    localStorage.setItem(\"theme\", darkMode ? \"dark\" : \"light\");\n    document.documentElement.classList.toggle(\"dark\", darkMode);\n  }, [darkMode]);\n\n  /* ---------- State ---------- */\n  const [file, setFile] = useState(null);\n  const [compressing, setCompressing] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [progressMessage, setProgressMessage] = useState(\"\");\n\n  const [originalSize, setOriginalSize] = useState(0);\n  const [compressedSize, setCompressedSize] = useState(0);\n  const [compressedBlob, setCompressedBlob] = useState(null);\n  const [pageCount, setPageCount] = useState(0);\n\n  const [error, setError] = useState(null);\n  const [warning, setWarning] = useState(null);\n\n  const fileInputRef = useRef(null);\n  const dragCounter = useRef(0);\n  const [isDragging, setIsDragging] = useState(false);\n\n  const TARGET_SIZE = 10 * 1024 * 1024; // 10 MB\n\n  const formatBytes = useCallback(bytes => {\n    if (bytes === 0) return \"0 Bytes\";\n    const k = 1024;\n    const dm = 2;\n    const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\"];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + \" \" + sizes[i];\n  }, []);\n\n  /* ---------- File handling ---------- */\n  const handleFileSelect = async selectedFile => {\n    const validation = validatePDF(selectedFile);\n    if (!validation.valid) {\n      setError(validation.error);\n      return;\n    }\n\n    setFile(selectedFile);\n    setError(null);\n    setWarning(null);\n    setCompressedBlob(null);\n    setOriginalSize(selectedFile.size);\n    setCompressing(true);\n    setProgress(0);\n    setProgressMessage(\"Preparing…\");\n\n    try {\n      const arrayBuffer = await selectedFile.arrayBuffer();\n\n      const onProgress = (pct, msg) => {\n        setProgress(Math.round(pct));\n        setProgressMessage(msg);\n      };\n\n      const result = await compressPDFUnified(arrayBuffer, onProgress);\n\n      const blob = new Blob([result.bytes], { type: \"application/pdf\" });\n\n      setCompressedBlob(blob);\n      setCompressedSize(blob.size);\n      setPageCount(result.pageCount);\n      setCompressing(false);\n\n      // ---- Warnings -------------------------------------------------\n      if (blob.size > TARGET_SIZE) {\n        setWarning(\n          `Compressed file is ${formatBytes(blob.size)} – still above the 10 MB target. ` +\n            `The PDF may contain complex graphics that cannot be reduced further without quality loss.`,\n        );\n      } else if (blob.size >= selectedFile.size * 0.95) {\n        setWarning(\n          `Only a ${((1 - blob.size / selectedFile.size) * 100).toFixed(1)} % size reduction. ` + `The original PDF may already be optimised.`,\n        );\n      }\n    } catch (e) {\n      console.error(e);\n      setError(e instanceof Error ? e.message : \"Failed to compress PDF.\");\n      setCompressing(false);\n      setProgress(0);\n      setProgressMessage(\"\");\n    }\n  };\n\n  /* ---------- Download ---------- */\n  const handleDownload = () => {\n    if (!compressedBlob || !file) return;\n    try {\n      const url = URL.createObjectURL(compressedBlob);\n      const a = document.createElement(\"a\");\n      a.href = url;\n      const name = file.name.replace(/\\.pdf$/i, \"\");\n      a.download = `${name}_compressed.pdf`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      setTimeout(() => URL.revokeObjectURL(url), 100);\n    } catch (e) {\n      console.error(e);\n      setError(\"Failed to download file. Please try again.\");\n    }\n  };\n\n  /* ---------- Reset ---------- */\n  const handleReset = () => {\n    setFile(null);\n    setCompressedBlob(null);\n    setOriginalSize(0);\n    setCompressedSize(0);\n    setPageCount(0);\n    setError(null);\n    setWarning(null);\n    setProgress(0);\n    setProgressMessage(\"\");\n    if (fileInputRef.current) fileInputRef.current.value = \"\";\n  };\n\n  /* ---------- Drag & Drop ---------- */\n  const handleDragEnter = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    dragCounter.current++;\n    if (e.dataTransfer.items && e.dataTransfer.items.length > 0) setIsDragging(true);\n  };\n  const handleDragLeave = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    dragCounter.current--;\n    if (dragCounter.current === 0) setIsDragging(false);\n  };\n  const handleDragOver = e => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  const handleDrop = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(false);\n    dragCounter.current = 0;\n    const files = e.dataTransfer.files;\n    if (files && files.length > 0) handleFileSelect(files[0]);\n  };\n\n  /* ---------- Statistics ---------- */\n  const compressionRatio = originalSize ? ((1 - compressedSize / originalSize) * 100).toFixed(1) : 0;\n  const savedBytes = originalSize - compressedSize;\n  const metTarget = compressedSize <= TARGET_SIZE;\n\n  /*===================== RENDER =====================*/\n  return (\n    <div className={`app-container ${darkMode ? \"dark\" : \"\"}`}>\n      {/* ---------- Navbar ---------- */}\n      <nav className='navbar'>\n        <div className='nav-brand'>\n          <img src={ConectysLogo} alt='Conectys Logo' className='brand-logo' />\n          <span className='brand-text'>PDF Compressor</span>\n        </div>\n        <div className='nav-actions'>\n          <button\n            className='btn-icon'\n            onClick={() => setDarkMode(!darkMode)}\n            aria-label='Toggle theme'\n            title={darkMode ? \"Switch to light mode\" : \"Switch to dark mode\"}\n          >\n            {darkMode ? <IconSun /> : <IconMoon />}\n          </button>\n        </div>\n      </nav>\n\n      {/* ---------- Main content ---------- */}\n      <main className='main-content'>\n        <div className='compress-container'>\n          {/* ==== Upload UI ==== */}\n          {!file ? (\n            <div\n              className={`upload-area ${isDragging ? \"dragging\" : \"\"}`}\n              onClick={() => fileInputRef.current?.click()}\n              onDragEnter={handleDragEnter}\n              onDragLeave={handleDragLeave}\n              onDragOver={handleDragOver}\n              onDrop={handleDrop}\n            >\n              <input ref={fileInputRef} type='file' accept='.pdf,application/pdf' hidden onChange={e => handleFileSelect(e.target.files?.[0])} />\n              <IconUpload />\n              <h3>Select or Drop PDF to Compress</h3>\n              <p className='upload-subtitle'>{isDragging ? \"Drop your PDF here\" : \"Fast, secure, client‑side compression\"}</p>\n              <button\n                className='btn-primary btn-upload'\n                onClick={e => {\n                  e.stopPropagation();\n                  fileInputRef.current?.click();\n                }}\n              >\n                Choose File\n              </button>\n            </div>\n          ) : (\n            <div className='card compression-card'>\n              {/* ---- File header ---- */}\n              <div className='file-info'>\n                <IconFile />\n                <div className='file-details'>\n                  <h3>{file.name}</h3>\n                  <p>Original size: {formatBytes(originalSize)}</p>\n                  {pageCount > 0 && (\n                    <p className='page-count'>\n                      {pageCount} page{pageCount !== 1 ? \"s\" : \"\"}\n                    </p>\n                  )}\n                </div>\n                <button className='btn-icon btn-danger' onClick={handleReset} title='Remove file' disabled={compressing}>\n                  <IconTrash />\n                </button>\n              </div>\n\n              {/* ---- Progress while compressing ---- */}\n              {compressing && (\n                <div className='progress-section'>\n                  <div className='progress-bar'>\n                    <div className='progress-fill' style={{ width: `${progress}%` }}></div>\n                  </div>\n                  <div className='progress-info'>\n                    <p className='progress-text'>{progressMessage}</p>\n                    <p className='progress-percent'>{progress}%</p>\n                  </div>\n                </div>\n              )}\n\n              {/* ---- Error ---- */}\n              {error && (\n                <div className='error-message'>\n                  <IconAlert />\n                  <div>\n                    <strong>Error</strong>\n                    <p>{error}</p>\n                  </div>\n                </div>\n              )}\n\n              {/* ---- Warning ---- */}\n              {warning && !error && (\n                <div className='warning-message'>\n                  <IconInfo />\n                  <div>\n                    <strong>Note</strong>\n                    <p>{warning}</p>\n                  </div>\n                </div>\n              )}\n\n              {/* ---- Result (after success) ---- */}\n              {compressedBlob && !compressing && !error && (\n                <div className='result-section'>\n                  <div className={`success-banner ${metTarget ? \"target-met\" : \"\"}`}>\n                    {metTarget ? <IconCheck /> : <IconInfo />}\n                    <div>\n                      <strong>{metTarget ? \"Compression Successful!\" : \"Compression Complete\"}</strong>\n                      <p>\n                        Reduced by {formatBytes(savedBytes)} ({compressionRatio}%)\n                      </p>\n                    </div>\n                  </div>\n\n                  <div className='result-stats'>\n                    <div className='stat-item'>\n                      <span className='stat-label'>Original Size</span>\n                      <span className='stat-value'>{formatBytes(originalSize)}</span>\n                    </div>\n\n                    <div className='stat-item'>\n                      <span className='stat-label'>Compressed Size</span>\n                      <span className={`stat-value ${metTarget ? \"success\" : \"warning\"}`}>{formatBytes(compressedSize)}</span>\n                    </div>\n\n                    <div className='stat-item'>\n                      <span className='stat-label'>Size Reduction</span>\n                      <span className='stat-value success'>{compressionRatio}%</span>\n                    </div>\n\n                    <div className='stat-item'>\n                      <span className='stat-label'>Bytes Saved</span>\n                      <span className='stat-value'>{formatBytes(savedBytes)}</span>\n                    </div>\n\n                    <div className='stat-item'>\n                      <span className='stat-label'>10 MB Target</span>\n                      <span className={`stat-value ${metTarget ? \"success\" : \"warning\"}`}>{metTarget ? \"✓ Met\" : \"⚠ Exceeded\"}</span>\n                    </div>\n\n                    <div className='stat-item'>\n                      <span className='stat-label'>Page Count</span>\n                      <span className='stat-value'>{pageCount}</span>\n                    </div>\n                  </div>\n\n                  <div className='action-buttons'>\n                    <button className='btn-download btn-primary' onClick={handleDownload}>\n                      <IconDownload />\n                      <span>Download Compressed PDF</span>\n                    </button>\n                    <button className='btn-action btn-secondary' onClick={handleReset}>\n                      <IconCompress />\n                      <span>Compress Another File</span>\n                    </button>\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* ==== Info cards ==== */}\n          <div className='info-section'>\n            <div className='info-card'>\n              <div className='info-header'>\n                <IconInfo />\n                <h3>How It Works</h3>\n              </div>\n              <ul>\n                <li>\n                  <strong>Upload:</strong> select your PDF or drag & drop.\n                </li>\n                <li>\n                  <strong>Compress:</strong> metadata is stripped, images are down‑scaled & re‑encoded, with an automatic raster fallback.\n                </li>\n                <li>\n                  <strong>Download:</strong> get the smaller PDF instantly.\n                </li>\n                <li>\n                  <strong>Privacy:</strong> all processing happens in the browser; nothing leaves the client.\n                </li>\n              </ul>\n            </div>\n\n            <div className='info-card'>\n              <div className='info-header'>\n                <IconCheck />\n                <h3>Features</h3>\n              </div>\n              <ul>\n                <li>\n                  <strong>Fast, client‑side processing</strong>\n                </li>\n                <li>\n                  <strong>Metadata stripping & object‑stream compression</strong>\n                </li>\n                <li>\n                  <strong>Smart image optimisation (down‑scale, JPEG quality)</strong>\n                </li>\n                <li>\n                  <strong>Automatic raster fallback for stubborn PDFs</strong>\n                </li>\n                <li>\n                  <strong>Free, open‑source, no‑tracking</strong>\n                </li>\n                <li>\n                  <strong>Works offline</strong>\n                </li>\n              </ul>\n            </div>\n\n            <div className='info-card'>\n              <div className='info-header'>\n                <IconAlert />\n                <h3>Best Results</h3>\n              </div>\n              <ul>\n                <li>\n                  <strong>Works best on:</strong> PDFs that contain uncompressed raster images or duplicated objects.\n                </li>\n                <li>\n                  <strong>Limited on:</strong> PDFs already optimised or vector‑only documents.\n                </li>\n                <li>\n                  <strong>Maximum size:</strong> 500 MB (browser memory limit).\n                </li>\n                <li>\n                  <strong>Supported formats:</strong> Standard PDF (encrypted PDFs may not work).\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </main>\n\n      {/* ---------- Footer ---------- */}\n      <footer className='footer'>\n        <div className='footer-content'>\n          <p>© 2026 PDF Compressor. Free &amp; Open Source.</p>\n          <a\n            href='https://github.com/Joaosilva27/pdf-compressor'\n            target='_blank'\n            rel='noopener noreferrer'\n            className='github-link'\n            aria-label='GitHub Repository'\n          >\n            <IconGitHub />\n            <span>View on GitHub</span>\n          </a>\n        </div>\n      </footer>\n    </div>\n  );\n}\n\n/*====================================================================*/\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}