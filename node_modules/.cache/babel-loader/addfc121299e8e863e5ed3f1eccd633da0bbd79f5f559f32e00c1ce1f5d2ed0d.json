{"ast":null,"code":"import React,{useState,useRef,useCallback}from\"react\";import\"./App.css\";import ConectysLogo from\"./conectys.png\";import RonaldoGif from\"./ronaldo.gif\";import{PDFDocument,PDFName,PDFDict,PDFRawStream}from\"pdf-lib\";/* ------------------- PDF‑JS IMPORT ------------------- */import*as pdfjsLib from\"pdfjs-dist/legacy/build/pdf\";// Use local worker file from public folder (works for both local and GitHub Pages)\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";pdfjsLib.GlobalWorkerOptions.workerSrc=process.env.PUBLIC_URL?\"\".concat(process.env.PUBLIC_URL,\"/pdf.worker.min.js\"):\"/pdf.worker.min.js\";/* ------------------- ICON COMPONENTS ------------------- */// … (your Icon components – unchanged) …\nconst IconUpload=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon icon-large\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"17 8 12 3 7 8\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"3\",x2:\"12\",y2:\"15\"})]});const IconDownload=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"7 10 12 15 17 10\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"15\",x2:\"12\",y2:\"3\"})]});const IconMoon=()=>/*#__PURE__*/_jsx(\"svg\",{className:\"icon\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\"})});const IconSun=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"5\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"1\",x2:\"12\",y2:\"3\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"21\",x2:\"12\",y2:\"23\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"4.22\",y1:\"4.22\",x2:\"5.64\",y2:\"5.64\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"18.36\",y1:\"18.36\",x2:\"19.78\",y2:\"19.78\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"1\",y1:\"12\",x2:\"3\",y2:\"12\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"21\",y1:\"12\",x2:\"23\",y2:\"12\"})]});const IconPortugueseFlag=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon flag-icon\",viewBox:\"0 0 600 400\",fill:\"none\",children:[/*#__PURE__*/_jsx(\"rect\",{width:\"600\",height:\"400\",fill:\"#FF0000\"}),/*#__PURE__*/_jsx(\"rect\",{width:\"240\",height:\"400\",fill:\"#006600\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"240\",cy:\"200\",r:\"80\",fill:\"#FFD700\",stroke:\"#000\",strokeWidth:\"3\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"240\",cy:\"200\",r:\"60\",fill:\"#FFF\",stroke:\"#000\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"240\",cy:\"200\",r:\"45\",fill:\"#0000FF\",stroke:\"#000\",strokeWidth:\"2\"})]});const IconEnglishFlag=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon flag-icon\",viewBox:\"0 0 60 30\",children:[/*#__PURE__*/_jsx(\"clipPath\",{id:\"s\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M0,0 v30 h60 v-30 z\"})}),/*#__PURE__*/_jsx(\"clipPath\",{id:\"t\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M30,15 h30 v15 z v-15 h-30 z h-30 v15 z v-15 h30 z\"})}),/*#__PURE__*/_jsxs(\"g\",{clipPath:\"url(#s)\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M0,0 v30 h60 v-30 z\",fill:\"#012169\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M0,0 L60,30 M60,0 L0,30\",stroke:\"#fff\",strokeWidth:\"6\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M0,0 L60,30 M60,0 L0,30\",clipPath:\"url(#t)\",stroke:\"#C8102E\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M30,0 v30 M0,15 h60\",stroke:\"#fff\",strokeWidth:\"10\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M30,0 v30 M0,15 h60\",stroke:\"#C8102E\",strokeWidth:\"6\"})]})]});const IconGitHub=()=>/*#__PURE__*/_jsx(\"svg\",{className:\"github-icon\",viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 .5C5.73.5.5 5.74.5 12.02c0 5.11 3.29 9.45 7.86 10.98.58.11.79-.25.79-.56v-2.02c-3.2.7-3.87-1.55-3.87-1.55-.52-1.33-1.28-1.68-1.28-1.68-1.04-.71.08-.7.08-.7 1.15.08 1.75 1.18 1.75 1.18 1.02 1.75 2.67 1.24 3.32.95.1-.74.4-1.24.72-1.53-2.55-.29-5.23-1.28-5.23-5.69 0-1.26.45-2.3 1.18-3.11-.12-.29-.51-1.45.11-3.02 0 0 .97-.31 3.18 1.19a11.05 11.05 0 0 1 5.8 0c2.2-1.5 3.17-1.19 3.17-1.19.63 1.57.24 2.73.12 3.02.73.81 1.17 1.85 1.17 3.11 0 4.42-2.69 5.39-5.25 5.67.41.35.77 1.04.77 2.1v3.12c0 .31.21.67.8.56A11.52 11.52 0 0 0 23.5 12C23.5 5.74 18.27.5 12 .5z\"})});const IconTrash=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon icon-danger\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"polyline\",{points:\"3 6 5 6 21 6\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M19 6l-1 14a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M10 11v6\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M14 11v6\"})]});const IconFile=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"13 2 13 9 20 9\"})]});const IconCompress=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"polyline\",{points:\"4 14 10 14 10 20\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"20 10 14 10 14 4\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"14\",y1:\"10\",x2:\"21\",y2:\"3\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"3\",y1:\"21\",x2:\"10\",y2:\"14\"})]});const IconInfo=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"10\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"16\",x2:\"12\",y2:\"12\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"8\",x2:\"12.01\",y2:\"8\"})]});const IconCheck=()=>/*#__PURE__*/_jsx(\"svg\",{className:\"icon icon-success\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:/*#__PURE__*/_jsx(\"polyline\",{points:\"20 6 9 17 4 12\"})});const IconAlert=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon icon-warning\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"9\",x2:\"12\",y2:\"13\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"17\",x2:\"12.01\",y2:\"17\"})]});/* ------------------- HELPERS ------------------- */function arrayBufferToBlobUrl(buf,mime){const blob=new Blob([buf],{type:mime});return URL.createObjectURL(blob);}/**\n * Re‑encode an image using a hidden canvas.\n *\n * @param {Uint8Array} imgBytes   Raw bytes from the PDF (already decoded).\n * @param {boolean} isJpeg        true if the original filter is DCTDecode.\n * @param {number} maxDim         Max width/height (pixels).\n * @param {number} jpegQuality    JPEG quality (0‑1).\n *\n * @returns {Uint8Array} New JPEG bytes.\n */async function reEncodeImage(imgBytes,isJpeg,maxDim,jpegQuality){const mimeIn=isJpeg?\"image/jpeg\":\"image/png\";const url=arrayBufferToBlobUrl(imgBytes,mimeIn);const img=await new Promise((res,rej)=>{const i=new Image();i.onload=()=>res(i);i.onerror=e=>rej(e);i.src=url;});URL.revokeObjectURL(url);// Down‑scale if needed\nlet{width,height}=img;if(Math.max(width,height)>maxDim){const scale=maxDim/Math.max(width,height);width=Math.round(width*scale);height=Math.round(height*scale);}const canvas=document.createElement(\"canvas\");canvas.width=width;canvas.height=height;const ctx=canvas.getContext(\"2d\");ctx.drawImage(img,0,0,width,height);const dataUrl=canvas.toDataURL(\"image/jpeg\",jpegQuality);const base64=dataUrl.split(\",\")[1];const outBytes=Uint8Array.from(atob(base64),c=>c.charCodeAt(0));canvas.remove();return outBytes;}/* --------------------------------------------------------------\n   1️⃣  Fast (image‑only) compression – primary path\n   -------------------------------------------------------------- */async function compressPDFFast(pdfBytes,onProgress){const MAX_DIMENSION=1500;// px\nconst JPEG_QUALITY=0.6;// 60 %\nconst pdfDoc=await PDFDocument.load(pdfBytes,{ignoreEncryption:true});const pageCount=pdfDoc.getPageCount();// 1️⃣ Strip metadata\nonProgress(5,\"Stripping metadata…\");pdfDoc.setTitle(\"\");pdfDoc.setAuthor(\"\");pdfDoc.setSubject(\"\");pdfDoc.setCreator(\"\");pdfDoc.setProducer(\"\");pdfDoc.setKeywords([]);pdfDoc.setCreationDate(new Date(0));pdfDoc.setModificationDate(new Date(0));// 2️⃣ Clean catalog\nonProgress(15,\"Cleaning catalog…\");const catalog=pdfDoc.catalog;[\"Metadata\",\"PieceInfo\",\"StructTreeRoot\",\"SpiderInfo\",\"OutputIntents\",\"MarkInfo\"].forEach(key=>{try{catalog.delete(PDFName.of(key));}catch(_){}});// 3️⃣ Re‑encode image XObjects\nonProgress(30,\"Optimising images…\");for(let i=0;i<pageCount;i++){const page=pdfDoc.getPage(i);const resources=page.node.Resources();const xObjDict=resources.lookupMaybe(PDFName.of(\"XObject\"));if(!xObjDict)continue;const entries=xObjDict instanceof PDFDict?xObjDict.entries():[];for(const[key,ref]of entries){var _filter$toString;const obj=pdfDoc.context.lookup(ref);if(!obj||typeof obj.getContents!==\"function\")continue;// not a stream\nconst subtype=obj.dict.get(PDFName.of(\"Subtype\"));if(!subtype||subtype.toString()!==\"/Image\")continue;// not an image\nconst filter=obj.dict.get(PDFName.of(\"Filter\"));const filterStr=(_filter$toString=filter===null||filter===void 0?void 0:filter.toString())!==null&&_filter$toString!==void 0?_filter$toString:\"\";const isJpeg=filterStr.includes(\"DCTDecode\");const imgBytes=obj.getContents();// already decoded\ntry{const newBytes=await reEncodeImage(imgBytes,isJpeg,MAX_DIMENSION,JPEG_QUALITY);obj.setContents(newBytes);obj.dict.set(PDFName.of(\"Filter\"),PDFName.of(\"DCTDecode\"));}catch(e){console.warn(\"Failed to re\\u2011encode image \".concat(key,\":\"),e);}}// progress: 30 % → 70 %\nonProgress(30+(i+1)/pageCount*40,\"Optimised page \".concat(i+1,\"/\").concat(pageCount));}// 4️⃣ Save\nonProgress(85,\"Saving compressed PDF…\");const compressed=await pdfDoc.save({useObjectStreams:true});onProgress(100,\"Done!\");return{bytes:compressed,pageCount,success:true};}/* --------------------------------------------------------------\n   2️⃣  Raster fallback – uses pdfjs to render each page\n   -------------------------------------------------------------- */async function compressPDFRaster(pdfBytes,onProgress){const uint8=new Uint8Array(pdfBytes);const loadingTask=pdfjsLib.getDocument({data:uint8,disableAutoFetch:true});const pdf=await loadingTask.promise;const pageCount=pdf.numPages;async function rasterisePage(pageNumber){const page=await pdf.getPage(pageNumber);const viewport=page.getViewport({scale:1});const canvas=document.createElement(\"canvas\");canvas.width=viewport.width;canvas.height=viewport.height;const ctx=canvas.getContext(\"2d\");await page.render({canvasContext:ctx,viewport}).promise;const dataUrl=canvas.toDataURL(\"image/jpeg\",0.7);const base64=dataUrl.split(\",\")[1];const imgBytes=Uint8Array.from(atob(base64),c=>c.charCodeAt(0));canvas.remove();return{imgBytes,width:canvas.width,height:canvas.height};}const newPdf=await PDFDocument.create();for(let i=1;i<=pageCount;i++){onProgress(10+(i-1)/pageCount*80,\"Rasterising page \".concat(i,\"/\").concat(pageCount));const{imgBytes,width,height}=await rasterisePage(i);const jpg=await newPdf.embedJpg(imgBytes);const pg=newPdf.addPage([width,height]);pg.drawImage(jpg,{x:0,y:0,width,height});}onProgress(95,\"Saving rasterised PDF…\");const out=await newPdf.save({useObjectStreams:true});onProgress(100,\"Done!\");return{bytes:out,pageCount,success:true};}/* --------------------------------------------------------------\n   Unified entry point – try fast, fall back to raster\n   -------------------------------------------------------------- */async function compressPDFUnified(pdfBytes,onProgress){try{return await compressPDFFast(pdfBytes,onProgress);}catch(fastErr){console.warn(\"Fast compression failed, falling back to rasterisation:\",fastErr);try{return await compressPDFRaster(pdfBytes,onProgress);}catch(rasterErr){console.error(\"Raster fallback also failed:\",rasterErr);throw new Error(\"Both compression methods failed \\u2013 \".concat(rasterErr instanceof Error?rasterErr.message:rasterErr));}}}/* ------------------- VALIDATION ------------------- */function validatePDF(file){if(!file)return{valid:false,error:\"No file selected\"};if(file.type!==\"application/pdf\"&&!file.name.toLowerCase().endsWith(\".pdf\"))return{valid:false,error:\"Please select a valid PDF file\"};if(file.size===0)return{valid:false,error:\"File is empty\"};if(file.size>500*1024*1024)return{valid:false,error:\"File is too large (max 500 MB)\"};return{valid:true};}/* ------------------- MAIN APP COMPONENT ------------------- */function App(){/* ---------- Language ---------- */const[language,setLanguage]=useState(()=>{const saved=localStorage.getItem(\"language\");return saved||\"en\";});React.useEffect(()=>{localStorage.setItem(\"language\",language);},[language]);const translations={en:{brand:\"PDF Compressor\",selectOrDrop:\"Select or Drop PDF to Compress\",dropHere:\"Drop your PDF here\",subtitle:\"Fast, secure, client‑side compression\",chooseFile:\"Choose File\",originalSize:\"Original size\",pages:\"pages\",page:\"page\",removeFile:\"Remove file\",error:\"Error\",note:\"Note\",compressionSuccessful:\"Compression Successful!\",compressionComplete:\"Compression Complete\",reducedBy:\"Reduced by\",originalSizeLabel:\"Original Size\",compressedSize:\"Compressed Size\",sizeReduction:\"Size Reduction\",bytesSaved:\"Bytes Saved\",targetLabel:\"10 MB Target\",met:\"✓ Met\",exceeded:\"⚠ Exceeded\",pageCount:\"Page Count\",download:\"Download Compressed PDF\",compressAnother:\"Compress Another File\",howItWorks:\"How It Works\",howItWorksItems:[{title:\"Upload:\",text:\"select your PDF or drag & drop.\"},{title:\"Compress:\",text:\"metadata is stripped, images are down‑scaled & re‑encoded, with an automatic raster fallback.\"},{title:\"Download:\",text:\"get the smaller PDF instantly.\"},{title:\"Privacy:\",text:\"all processing happens in the browser; nothing leaves the client.\"}],features:\"Features\",featuresItems:[\"Fast, client‑side processing\",\"Metadata stripping & object‑stream compression\",\"Smart image optimisation (down‑scale, JPEG quality)\",\"Automatic raster fallback for stubborn PDFs\",\"Free, open‑source, no‑tracking\",\"Works offline\"],bestResults:\"Best Results\",bestResultsItems:[{title:\"Works best on:\",text:\"PDFs that contain uncompressed raster images or duplicated objects.\"},{title:\"Limited on:\",text:\"PDFs already optimised or vector‑only documents.\"},{title:\"Maximum size:\",text:\"500 MB (browser memory limit).\"},{title:\"Supported formats:\",text:\"Standard PDF (encrypted PDFs may not work).\"}],footer:\"© 2026 PDF Compressor. Free & Open Source.\",githubText:\"View on GitHub\"},pt:{brand:\"Compressor de PDF\",selectOrDrop:\"Seleciona ou Arrasta o PDF para Comprimir\",dropHere:\"Larga o teu PDF aqui\",subtitle:\"Compressão rápida, segura e local\",chooseFile:\"Escolher Ficheiro\",originalSize:\"Tamanho original\",pages:\"páginas\",page:\"página\",removeFile:\"Remover ficheiro\",error:\"Erro\",note:\"Nota\",compressionSuccessful:\"Compressão Bem-Sucedida!\",compressionComplete:\"Compressão Concluída\",reducedBy:\"Reduzido em\",originalSizeLabel:\"Tamanho Original\",compressedSize:\"Tamanho Comprimido\",sizeReduction:\"Redução de Tamanho\",bytesSaved:\"Bytes Poupados\",targetLabel:\"Meta de 10 MB\",met:\"✓ Atingida\",exceeded:\"⚠ Excedida\",pageCount:\"Número de Páginas\",download:\"Descarregar PDF Comprimido\",compressAnother:\"Comprimir Outro Ficheiro\",howItWorks:\"Como Funciona\",howItWorksItems:[{title:\"Carregar:\",text:\"seleciona o teu PDF ou arrasta e larga.\"},{title:\"Comprimir:\",text:\"metadados são removidos, imagens são redimensionadas e recodificadas, com recurso automático a rasterização.\"},{title:\"Descarregar:\",text:\"obtém o PDF mais pequeno instantaneamente.\"},{title:\"Privacidade:\",text:\"todo o processamento ocorre no navegador; nada sai do cliente.\"}],features:\"Funcionalidades\",featuresItems:[\"Processamento rápido e local\",\"Remoção de metadados e compressão de objectos\",\"Optimização inteligente de imagens (redimensionamento, qualidade JPEG)\",\"Recurso automático a rasterização para PDFs difíceis\",\"Gratuito, código aberto, sem rastreamento\",\"Funciona offline\"],bestResults:\"Melhores Resultados\",bestResultsItems:[{title:\"Funciona melhor em:\",text:\"PDFs que contêm imagens raster não comprimidas ou objectos duplicados.\"},{title:\"Limitado em:\",text:\"PDFs já optimizados ou documentos apenas vectoriais.\"},{title:\"Tamanho máximo:\",text:\"500 MB (limite de memória do navegador).\"},{title:\"Formatos suportados:\",text:\"PDF padrão (PDFs encriptados podem não funcionar).\"}],footer:\"© 2026 Compressor de PDF. Gratuito e Código Aberto.\",githubText:\"Ver no GitHub\"}};const t=translations[language];/* ---------- Theme ---------- */const[darkMode,setDarkMode]=useState(()=>{const saved=localStorage.getItem(\"theme\");return saved===\"dark\"||!saved&&window.matchMedia(\"(prefers-color-scheme: dark)\").matches;});React.useEffect(()=>{localStorage.setItem(\"theme\",darkMode?\"dark\":\"light\");document.documentElement.classList.toggle(\"dark\",darkMode);},[darkMode]);/* ---------- State ---------- */const[file,setFile]=useState(null);const[compressing,setCompressing]=useState(false);const[progress,setProgress]=useState(0);const[progressMessage,setProgressMessage]=useState(\"\");const[originalSize,setOriginalSize]=useState(0);const[compressedSize,setCompressedSize]=useState(0);const[compressedBlob,setCompressedBlob]=useState(null);const[pageCount,setPageCount]=useState(0);const[error,setError]=useState(null);const[warning,setWarning]=useState(null);const fileInputRef=useRef(null);const dragCounter=useRef(0);const[isDragging,setIsDragging]=useState(false);const TARGET_SIZE=10*1024*1024;// 10 MB\nconst formatBytes=useCallback(bytes=>{if(bytes===0)return\"0 Bytes\";const k=1024;const dm=2;const sizes=[\"Bytes\",\"KB\",\"MB\",\"GB\",\"TB\"];const i=Math.floor(Math.log(bytes)/Math.log(k));return parseFloat((bytes/Math.pow(k,i)).toFixed(dm))+\" \"+sizes[i];},[]);/* ---------- File handling ---------- */const handleFileSelect=async selectedFile=>{const validation=validatePDF(selectedFile);if(!validation.valid){setError(validation.error);return;}setFile(selectedFile);setError(null);setWarning(null);setCompressedBlob(null);setOriginalSize(selectedFile.size);setCompressing(true);setProgress(0);setProgressMessage(\"Preparing…\");try{const arrayBuffer=await selectedFile.arrayBuffer();const onProgress=(pct,msg)=>{setProgress(Math.round(pct));setProgressMessage(msg);};const result=await compressPDFUnified(arrayBuffer,onProgress);const blob=new Blob([result.bytes],{type:\"application/pdf\"});setCompressedBlob(blob);setCompressedSize(blob.size);setPageCount(result.pageCount);setCompressing(false);// ---- Warnings -------------------------------------------------\nif(blob.size>TARGET_SIZE){setWarning(\"Compressed file is \".concat(formatBytes(blob.size),\" \\u2013 still above the 10 MB target. \")+\"The PDF may contain complex graphics that cannot be reduced further without quality loss.\");}else if(blob.size>=selectedFile.size*0.95){setWarning(\"Only a \".concat(((1-blob.size/selectedFile.size)*100).toFixed(1),\" % size reduction. \")+\"The original PDF may already be optimised.\");}}catch(e){console.error(e);setError(e instanceof Error?e.message:\"Failed to compress PDF.\");setCompressing(false);setProgress(0);setProgressMessage(\"\");}};/* ---------- Download ---------- */const handleDownload=()=>{if(!compressedBlob||!file)return;try{const url=URL.createObjectURL(compressedBlob);const a=document.createElement(\"a\");a.href=url;const name=file.name.replace(/\\.pdf$/i,\"\");a.download=\"\".concat(name,\"_compressed.pdf\");document.body.appendChild(a);a.click();document.body.removeChild(a);setTimeout(()=>URL.revokeObjectURL(url),100);}catch(e){console.error(e);setError(\"Failed to download file. Please try again.\");}};/* ---------- Reset ---------- */const handleReset=()=>{setFile(null);setCompressedBlob(null);setOriginalSize(0);setCompressedSize(0);setPageCount(0);setError(null);setWarning(null);setProgress(0);setProgressMessage(\"\");if(fileInputRef.current)fileInputRef.current.value=\"\";};/* ---------- Drag & Drop ---------- */const handleDragEnter=e=>{e.preventDefault();e.stopPropagation();dragCounter.current++;if(e.dataTransfer.items&&e.dataTransfer.items.length>0)setIsDragging(true);};const handleDragLeave=e=>{e.preventDefault();e.stopPropagation();dragCounter.current--;if(dragCounter.current===0)setIsDragging(false);};const handleDragOver=e=>{e.preventDefault();e.stopPropagation();};const handleDrop=e=>{e.preventDefault();e.stopPropagation();setIsDragging(false);dragCounter.current=0;const files=e.dataTransfer.files;if(files&&files.length>0)handleFileSelect(files[0]);};/* ---------- Statistics ---------- */const compressionRatio=originalSize?((1-compressedSize/originalSize)*100).toFixed(1):0;const savedBytes=originalSize-compressedSize;const metTarget=compressedSize<=TARGET_SIZE;/*===================== RENDER =====================*/return/*#__PURE__*/_jsxs(\"div\",{className:\"app-container \".concat(darkMode?\"dark\":\"\"),children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"nav-brand\",children:[/*#__PURE__*/_jsx(\"img\",{src:ConectysLogo,alt:\"Conectys Logo\",className:\"brand-logo\"}),/*#__PURE__*/_jsx(\"span\",{className:\"brand-text\",children:t.brand})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"nav-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon\",onClick:()=>setLanguage(language===\"en\"?\"pt\":\"en\"),\"aria-label\":\"Toggle language\",title:language===\"en\"?\"Mudar para Português\":\"Switch to English\",children:language===\"en\"?/*#__PURE__*/_jsx(IconPortugueseFlag,{}):/*#__PURE__*/_jsx(IconEnglishFlag,{})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon\",onClick:()=>setDarkMode(!darkMode),\"aria-label\":\"Toggle theme\",title:darkMode?\"Switch to light mode\":\"Switch to dark mode\",children:darkMode?/*#__PURE__*/_jsx(IconSun,{}):/*#__PURE__*/_jsx(IconMoon,{})})]})]}),/*#__PURE__*/_jsx(\"main\",{className:\"main-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"compress-container\",children:[!file?/*#__PURE__*/_jsxs(\"div\",{className:\"upload-area \".concat(isDragging?\"dragging\":\"\"),onClick:()=>{var _fileInputRef$current;return(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();},onDragEnter:handleDragEnter,onDragLeave:handleDragLeave,onDragOver:handleDragOver,onDrop:handleDrop,children:[/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",accept:\".pdf,application/pdf\",hidden:true,onChange:e=>{var _e$target$files;return handleFileSelect((_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0]);}}),/*#__PURE__*/_jsx(IconUpload,{}),/*#__PURE__*/_jsx(\"h3\",{children:t.selectOrDrop}),/*#__PURE__*/_jsx(\"p\",{className:\"upload-subtitle\",children:isDragging?t.dropHere:t.subtitle}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary btn-upload\",onClick:e=>{var _fileInputRef$current2;e.stopPropagation();(_fileInputRef$current2=fileInputRef.current)===null||_fileInputRef$current2===void 0?void 0:_fileInputRef$current2.click();},children:t.chooseFile})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"card compression-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"file-info\",children:[/*#__PURE__*/_jsx(IconFile,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-details\",children:[/*#__PURE__*/_jsx(\"h3\",{children:file.name}),/*#__PURE__*/_jsxs(\"p\",{children:[t.originalSize,\": \",formatBytes(originalSize)]}),pageCount>0&&/*#__PURE__*/_jsxs(\"p\",{className:\"page-count\",children:[pageCount,\" \",pageCount!==1?t.pages:t.page]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon btn-danger\",onClick:handleReset,title:t.removeFile,disabled:compressing,children:/*#__PURE__*/_jsx(IconTrash,{})})]}),compressing&&/*#__PURE__*/_jsxs(\"div\",{className:\"progress-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill\",style:{width:\"\".concat(progress,\"%\")}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"progress-info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"progress-text\",children:progressMessage}),/*#__PURE__*/_jsxs(\"p\",{className:\"progress-percent\",children:[progress,\"%\"]})]})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"error-message\",children:[/*#__PURE__*/_jsx(IconAlert,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:t.error}),/*#__PURE__*/_jsx(\"p\",{children:error})]})]}),warning&&!error&&/*#__PURE__*/_jsxs(\"div\",{className:\"warning-message\",children:[/*#__PURE__*/_jsx(IconInfo,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:t.note}),/*#__PURE__*/_jsx(\"p\",{children:warning})]})]}),compressedBlob&&!compressing&&!error&&/*#__PURE__*/_jsxs(\"div\",{className:\"result-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"success-banner \".concat(metTarget?\"target-met\":\"\"),children:[metTarget?/*#__PURE__*/_jsx(IconCheck,{}):/*#__PURE__*/_jsx(IconInfo,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:metTarget?t.compressionSuccessful:t.compressionComplete}),/*#__PURE__*/_jsxs(\"p\",{children:[t.reducedBy,\" \",formatBytes(savedBytes),\" (\",compressionRatio,\"%)\"]})]})]}),metTarget&&language===\"pt\"&&/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\",margin:\"20px 0\"},children:/*#__PURE__*/_jsx(\"img\",{src:RonaldoGif,alt:\"Cristiano Ronaldo SIUUU\",style:{maxWidth:\"300px\",borderRadius:\"10px\"}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"result-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:t.originalSizeLabel}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:formatBytes(originalSize)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:t.compressedSize}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value \".concat(metTarget?\"success\":\"warning\"),children:formatBytes(compressedSize)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:t.sizeReduction}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-value success\",children:[compressionRatio,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:t.bytesSaved}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:formatBytes(savedBytes)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:t.targetLabel}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value \".concat(metTarget?\"success\":\"warning\"),children:metTarget?t.met:t.exceeded})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:t.pageCount}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:pageCount})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn-download btn-primary\",onClick:handleDownload,children:[/*#__PURE__*/_jsx(IconDownload,{}),/*#__PURE__*/_jsx(\"span\",{children:t.download})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-action btn-secondary\",onClick:handleReset,children:[/*#__PURE__*/_jsx(IconCompress,{}),/*#__PURE__*/_jsx(\"span\",{children:t.compressAnother})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-header\",children:[/*#__PURE__*/_jsx(IconInfo,{}),/*#__PURE__*/_jsx(\"h3\",{children:t.howItWorks})]}),/*#__PURE__*/_jsx(\"ul\",{children:t.howItWorksItems.map((item,i)=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:item.title}),\" \",item.text]},i))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-header\",children:[/*#__PURE__*/_jsx(IconCheck,{}),/*#__PURE__*/_jsx(\"h3\",{children:t.features})]}),/*#__PURE__*/_jsx(\"ul\",{children:t.featuresItems.map((item,i)=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"strong\",{children:item})},i))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-header\",children:[/*#__PURE__*/_jsx(IconAlert,{}),/*#__PURE__*/_jsx(\"h3\",{children:t.bestResults})]}),/*#__PURE__*/_jsx(\"ul\",{children:t.bestResultsItems.map((item,i)=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:item.title}),\" \",item.text]},i))})]})]})]})}),/*#__PURE__*/_jsx(\"footer\",{className:\"footer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"footer-content\",children:[/*#__PURE__*/_jsx(\"p\",{children:t.footer}),/*#__PURE__*/_jsxs(\"a\",{href:\"https://github.com/Joaosilva27/pdf-compressor\",target:\"_blank\",rel:\"noopener noreferrer\",className:\"github-link\",\"aria-label\":\"GitHub Repository\",children:[/*#__PURE__*/_jsx(IconGitHub,{}),/*#__PURE__*/_jsx(\"span\",{children:t.githubText})]})]})})]});}/*====================================================================*/export default App;","map":{"version":3,"names":["React","useState","useRef","useCallback","ConectysLogo","RonaldoGif","PDFDocument","PDFName","PDFDict","PDFRawStream","pdfjsLib","jsx","_jsx","jsxs","_jsxs","GlobalWorkerOptions","workerSrc","process","env","PUBLIC_URL","concat","IconUpload","className","viewBox","fill","stroke","children","d","points","x1","y1","x2","y2","IconDownload","strokeWidth","IconMoon","IconSun","cx","cy","r","IconPortugueseFlag","width","height","IconEnglishFlag","id","clipPath","IconGitHub","IconTrash","IconFile","IconCompress","IconInfo","IconCheck","IconAlert","arrayBufferToBlobUrl","buf","mime","blob","Blob","type","URL","createObjectURL","reEncodeImage","imgBytes","isJpeg","maxDim","jpegQuality","mimeIn","url","img","Promise","res","rej","i","Image","onload","onerror","e","src","revokeObjectURL","Math","max","scale","round","canvas","document","createElement","ctx","getContext","drawImage","dataUrl","toDataURL","base64","split","outBytes","Uint8Array","from","atob","c","charCodeAt","remove","compressPDFFast","pdfBytes","onProgress","MAX_DIMENSION","JPEG_QUALITY","pdfDoc","load","ignoreEncryption","pageCount","getPageCount","setTitle","setAuthor","setSubject","setCreator","setProducer","setKeywords","setCreationDate","Date","setModificationDate","catalog","forEach","key","delete","of","_","page","getPage","resources","node","Resources","xObjDict","lookupMaybe","entries","ref","_filter$toString","obj","context","lookup","getContents","subtype","dict","get","toString","filter","filterStr","includes","newBytes","setContents","set","console","warn","compressed","save","useObjectStreams","bytes","success","compressPDFRaster","uint8","loadingTask","getDocument","data","disableAutoFetch","pdf","promise","numPages","rasterisePage","pageNumber","viewport","getViewport","render","canvasContext","newPdf","create","jpg","embedJpg","pg","addPage","x","y","out","compressPDFUnified","fastErr","rasterErr","error","Error","message","validatePDF","file","valid","name","toLowerCase","endsWith","size","App","language","setLanguage","saved","localStorage","getItem","useEffect","setItem","translations","en","brand","selectOrDrop","dropHere","subtitle","chooseFile","originalSize","pages","removeFile","note","compressionSuccessful","compressionComplete","reducedBy","originalSizeLabel","compressedSize","sizeReduction","bytesSaved","targetLabel","met","exceeded","download","compressAnother","howItWorks","howItWorksItems","title","text","features","featuresItems","bestResults","bestResultsItems","footer","githubText","pt","t","darkMode","setDarkMode","window","matchMedia","matches","documentElement","classList","toggle","setFile","compressing","setCompressing","progress","setProgress","progressMessage","setProgressMessage","setOriginalSize","setCompressedSize","compressedBlob","setCompressedBlob","setPageCount","setError","warning","setWarning","fileInputRef","dragCounter","isDragging","setIsDragging","TARGET_SIZE","formatBytes","k","dm","sizes","floor","log","parseFloat","pow","toFixed","handleFileSelect","selectedFile","validation","arrayBuffer","pct","msg","result","handleDownload","a","href","replace","body","appendChild","click","removeChild","setTimeout","handleReset","current","value","handleDragEnter","preventDefault","stopPropagation","dataTransfer","items","length","handleDragLeave","handleDragOver","handleDrop","files","compressionRatio","savedBytes","metTarget","alt","onClick","_fileInputRef$current","onDragEnter","onDragLeave","onDragOver","onDrop","accept","hidden","onChange","_e$target$files","target","_fileInputRef$current2","disabled","style","textAlign","margin","maxWidth","borderRadius","map","item","rel"],"sources":["/Users/joaosilva/Documents/GitHub/pdf-compressor/src/App.js"],"sourcesContent":["import React, { useState, useRef, useCallback } from \"react\";\nimport \"./App.css\";\nimport ConectysLogo from \"./conectys.png\";\nimport RonaldoGif from \"./ronaldo.gif\";\nimport { PDFDocument, PDFName, PDFDict, PDFRawStream } from \"pdf-lib\";\n\n/* ------------------- PDF‑JS IMPORT ------------------- */\nimport * as pdfjsLib from \"pdfjs-dist/legacy/build/pdf\";\n\n// Use local worker file from public folder (works for both local and GitHub Pages)\npdfjsLib.GlobalWorkerOptions.workerSrc = process.env.PUBLIC_URL ? `${process.env.PUBLIC_URL}/pdf.worker.min.js` : \"/pdf.worker.min.js\";\n\n/* ------------------- ICON COMPONENTS ------------------- */\n// … (your Icon components – unchanged) …\nconst IconUpload = () => (\n  <svg className='icon icon-large' viewBox='0 0 24 24' fill='none' stroke='currentColor'>\n    <path d='M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4'></path>\n    <polyline points='17 8 12 3 7 8'></polyline>\n    <line x1='12' y1='3' x2='12' y2='15'></line>\n  </svg>\n);\nconst IconDownload = () => (\n  <svg className='icon' viewBox='0 0 24 24' fill='none' stroke='currentColor' strokeWidth='2'>\n    <path d='M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4'></path>\n    <polyline points='7 10 12 15 17 10'></polyline>\n    <line x1='12' y1='15' x2='12' y2='3'></line>\n  </svg>\n);\nconst IconMoon = () => (\n  <svg className='icon' viewBox='0 0 24 24' fill='none' stroke='currentColor' strokeWidth='2'>\n    <path d='M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z' />\n  </svg>\n);\nconst IconSun = () => (\n  <svg className='icon' viewBox='0 0 24 24' fill='none' stroke='currentColor' strokeWidth='2'>\n    <circle cx='12' cy='12' r='5' />\n    <line x1='12' y1='1' x2='12' y2='3' />\n    <line x1='12' y1='21' x2='12' y2='23' />\n    <line x1='4.22' y1='4.22' x2='5.64' y2='5.64' />\n    <line x1='18.36' y1='18.36' x2='19.78' y2='19.78' />\n    <line x1='1' y1='12' x2='3' y2='12' />\n    <line x1='21' y1='12' x2='23' y2='12' />\n  </svg>\n);\nconst IconPortugueseFlag = () => (\n  <svg className='icon flag-icon' viewBox='0 0 600 400' fill='none'>\n    <rect width='600' height='400' fill='#FF0000' />\n    <rect width='240' height='400' fill='#006600' />\n    <circle cx='240' cy='200' r='80' fill='#FFD700' stroke='#000' strokeWidth='3' />\n    <circle cx='240' cy='200' r='60' fill='#FFF' stroke='#000' strokeWidth='2' />\n    <circle cx='240' cy='200' r='45' fill='#0000FF' stroke='#000' strokeWidth='2' />\n  </svg>\n);\nconst IconEnglishFlag = () => (\n  <svg className='icon flag-icon' viewBox='0 0 60 30'>\n    <clipPath id='s'>\n      <path d='M0,0 v30 h60 v-30 z' />\n    </clipPath>\n    <clipPath id='t'>\n      <path d='M30,15 h30 v15 z v-15 h-30 z h-30 v15 z v-15 h30 z' />\n    </clipPath>\n    <g clipPath='url(#s)'>\n      <path d='M0,0 v30 h60 v-30 z' fill='#012169' />\n      <path d='M0,0 L60,30 M60,0 L0,30' stroke='#fff' strokeWidth='6' />\n      <path d='M0,0 L60,30 M60,0 L0,30' clipPath='url(#t)' stroke='#C8102E' strokeWidth='4' />\n      <path d='M30,0 v30 M0,15 h60' stroke='#fff' strokeWidth='10' />\n      <path d='M30,0 v30 M0,15 h60' stroke='#C8102E' strokeWidth='6' />\n    </g>\n  </svg>\n);\nconst IconGitHub = () => (\n  <svg className='github-icon' viewBox='0 0 24 24' fill='currentColor'>\n    <path d='M12 .5C5.73.5.5 5.74.5 12.02c0 5.11 3.29 9.45 7.86 10.98.58.11.79-.25.79-.56v-2.02c-3.2.7-3.87-1.55-3.87-1.55-.52-1.33-1.28-1.68-1.28-1.68-1.04-.71.08-.7.08-.7 1.15.08 1.75 1.18 1.75 1.18 1.02 1.75 2.67 1.24 3.32.95.1-.74.4-1.24.72-1.53-2.55-.29-5.23-1.28-5.23-5.69 0-1.26.45-2.3 1.18-3.11-.12-.29-.51-1.45.11-3.02 0 0 .97-.31 3.18 1.19a11.05 11.05 0 0 1 5.8 0c2.2-1.5 3.17-1.19 3.17-1.19.63 1.57.24 2.73.12 3.02.73.81 1.17 1.85 1.17 3.11 0 4.42-2.69 5.39-5.25 5.67.41.35.77 1.04.77 2.1v3.12c0 .31.21.67.8.56A11.52 11.52 0 0 0 23.5 12C23.5 5.74 18.27.5 12 .5z' />\n  </svg>\n);\nconst IconTrash = () => (\n  <svg className='icon icon-danger' viewBox='0 0 24 24' fill='none' stroke='currentColor' strokeWidth='2'>\n    <polyline points='3 6 5 6 21 6'></polyline>\n    <path d='M19 6l-1 14a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6'></path>\n    <path d='M10 11v6'></path>\n    <path d='M14 11v6'></path>\n  </svg>\n);\nconst IconFile = () => (\n  <svg className='icon' viewBox='0 0 24 24' fill='none' stroke='currentColor' strokeWidth='2'>\n    <path d='M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z'></path>\n    <polyline points='13 2 13 9 20 9'></polyline>\n  </svg>\n);\nconst IconCompress = () => (\n  <svg className='icon' viewBox='0 0 24 24' fill='none' stroke='currentColor' strokeWidth='2'>\n    <polyline points='4 14 10 14 10 20'></polyline>\n    <polyline points='20 10 14 10 14 4'></polyline>\n    <line x1='14' y1='10' x2='21' y2='3'></line>\n    <line x1='3' y1='21' x2='10' y2='14'></line>\n  </svg>\n);\nconst IconInfo = () => (\n  <svg className='icon' viewBox='0 0 24 24' fill='none' stroke='currentColor' strokeWidth='2'>\n    <circle cx='12' cy='12' r='10'></circle>\n    <line x1='12' y1='16' x2='12' y2='12'></line>\n    <line x1='12' y1='8' x2='12.01' y2='8'></line>\n  </svg>\n);\nconst IconCheck = () => (\n  <svg className='icon icon-success' viewBox='0 0 24 24' fill='none' stroke='currentColor' strokeWidth='2'>\n    <polyline points='20 6 9 17 4 12'></polyline>\n  </svg>\n);\nconst IconAlert = () => (\n  <svg className='icon icon-warning' viewBox='0 0 24 24' fill='none' stroke='currentColor' strokeWidth='2'>\n    <path d='M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z'></path>\n    <line x1='12' y1='9' x2='12' y2='13'></line>\n    <line x1='12' y1='17' x2='12.01' y2='17'></line>\n  </svg>\n);\n\n/* ------------------- HELPERS ------------------- */\n\nfunction arrayBufferToBlobUrl(buf, mime) {\n  const blob = new Blob([buf], { type: mime });\n  return URL.createObjectURL(blob);\n}\n\n/**\n * Re‑encode an image using a hidden canvas.\n *\n * @param {Uint8Array} imgBytes   Raw bytes from the PDF (already decoded).\n * @param {boolean} isJpeg        true if the original filter is DCTDecode.\n * @param {number} maxDim         Max width/height (pixels).\n * @param {number} jpegQuality    JPEG quality (0‑1).\n *\n * @returns {Uint8Array} New JPEG bytes.\n */\nasync function reEncodeImage(imgBytes, isJpeg, maxDim, jpegQuality) {\n  const mimeIn = isJpeg ? \"image/jpeg\" : \"image/png\";\n  const url = arrayBufferToBlobUrl(imgBytes, mimeIn);\n\n  const img = await new Promise((res, rej) => {\n    const i = new Image();\n    i.onload = () => res(i);\n    i.onerror = e => rej(e);\n    i.src = url;\n  });\n  URL.revokeObjectURL(url);\n\n  // Down‑scale if needed\n  let { width, height } = img;\n  if (Math.max(width, height) > maxDim) {\n    const scale = maxDim / Math.max(width, height);\n    width = Math.round(width * scale);\n    height = Math.round(height * scale);\n  }\n\n  const canvas = document.createElement(\"canvas\");\n  canvas.width = width;\n  canvas.height = height;\n  const ctx = canvas.getContext(\"2d\");\n  ctx.drawImage(img, 0, 0, width, height);\n  const dataUrl = canvas.toDataURL(\"image/jpeg\", jpegQuality);\n  const base64 = dataUrl.split(\",\")[1];\n  const outBytes = Uint8Array.from(atob(base64), c => c.charCodeAt(0));\n  canvas.remove();\n  return outBytes;\n}\n\n/* --------------------------------------------------------------\n   1️⃣  Fast (image‑only) compression – primary path\n   -------------------------------------------------------------- */\nasync function compressPDFFast(pdfBytes, onProgress) {\n  const MAX_DIMENSION = 1500; // px\n  const JPEG_QUALITY = 0.6; // 60 %\n\n  const pdfDoc = await PDFDocument.load(pdfBytes, { ignoreEncryption: true });\n  const pageCount = pdfDoc.getPageCount();\n\n  // 1️⃣ Strip metadata\n  onProgress(5, \"Stripping metadata…\");\n  pdfDoc.setTitle(\"\");\n  pdfDoc.setAuthor(\"\");\n  pdfDoc.setSubject(\"\");\n  pdfDoc.setCreator(\"\");\n  pdfDoc.setProducer(\"\");\n  pdfDoc.setKeywords([]);\n  pdfDoc.setCreationDate(new Date(0));\n  pdfDoc.setModificationDate(new Date(0));\n\n  // 2️⃣ Clean catalog\n  onProgress(15, \"Cleaning catalog…\");\n  const catalog = pdfDoc.catalog;\n  [\"Metadata\", \"PieceInfo\", \"StructTreeRoot\", \"SpiderInfo\", \"OutputIntents\", \"MarkInfo\"].forEach(key => {\n    try {\n      catalog.delete(PDFName.of(key));\n    } catch (_) {}\n  });\n\n  // 3️⃣ Re‑encode image XObjects\n  onProgress(30, \"Optimising images…\");\n  for (let i = 0; i < pageCount; i++) {\n    const page = pdfDoc.getPage(i);\n    const resources = page.node.Resources();\n    const xObjDict = resources.lookupMaybe(PDFName.of(\"XObject\"));\n    if (!xObjDict) continue;\n\n    const entries = xObjDict instanceof PDFDict ? xObjDict.entries() : [];\n\n    for (const [key, ref] of entries) {\n      const obj = pdfDoc.context.lookup(ref);\n      if (!obj || typeof obj.getContents !== \"function\") continue; // not a stream\n\n      const subtype = obj.dict.get(PDFName.of(\"Subtype\"));\n      if (!subtype || subtype.toString() !== \"/Image\") continue; // not an image\n\n      const filter = obj.dict.get(PDFName.of(\"Filter\"));\n      const filterStr = filter?.toString() ?? \"\";\n      const isJpeg = filterStr.includes(\"DCTDecode\");\n\n      const imgBytes = obj.getContents(); // already decoded\n\n      try {\n        const newBytes = await reEncodeImage(imgBytes, isJpeg, MAX_DIMENSION, JPEG_QUALITY);\n        obj.setContents(newBytes);\n        obj.dict.set(PDFName.of(\"Filter\"), PDFName.of(\"DCTDecode\"));\n      } catch (e) {\n        console.warn(`Failed to re‑encode image ${key}:`, e);\n      }\n    }\n\n    // progress: 30 % → 70 %\n    onProgress(30 + ((i + 1) / pageCount) * 40, `Optimised page ${i + 1}/${pageCount}`);\n  }\n\n  // 4️⃣ Save\n  onProgress(85, \"Saving compressed PDF…\");\n  const compressed = await pdfDoc.save({ useObjectStreams: true });\n  onProgress(100, \"Done!\");\n  return { bytes: compressed, pageCount, success: true };\n}\n\n/* --------------------------------------------------------------\n   2️⃣  Raster fallback – uses pdfjs to render each page\n   -------------------------------------------------------------- */\nasync function compressPDFRaster(pdfBytes, onProgress) {\n  const uint8 = new Uint8Array(pdfBytes);\n  const loadingTask = pdfjsLib.getDocument({ data: uint8, disableAutoFetch: true });\n  const pdf = await loadingTask.promise;\n  const pageCount = pdf.numPages;\n\n  async function rasterisePage(pageNumber) {\n    const page = await pdf.getPage(pageNumber);\n    const viewport = page.getViewport({ scale: 1 });\n    const canvas = document.createElement(\"canvas\");\n    canvas.width = viewport.width;\n    canvas.height = viewport.height;\n    const ctx = canvas.getContext(\"2d\");\n\n    await page.render({ canvasContext: ctx, viewport }).promise;\n\n    const dataUrl = canvas.toDataURL(\"image/jpeg\", 0.7);\n    const base64 = dataUrl.split(\",\")[1];\n    const imgBytes = Uint8Array.from(atob(base64), c => c.charCodeAt(0));\n    canvas.remove();\n    return { imgBytes, width: canvas.width, height: canvas.height };\n  }\n\n  const newPdf = await PDFDocument.create();\n\n  for (let i = 1; i <= pageCount; i++) {\n    onProgress(10 + ((i - 1) / pageCount) * 80, `Rasterising page ${i}/${pageCount}`);\n    const { imgBytes, width, height } = await rasterisePage(i);\n    const jpg = await newPdf.embedJpg(imgBytes);\n    const pg = newPdf.addPage([width, height]);\n    pg.drawImage(jpg, { x: 0, y: 0, width, height });\n  }\n\n  onProgress(95, \"Saving rasterised PDF…\");\n  const out = await newPdf.save({ useObjectStreams: true });\n  onProgress(100, \"Done!\");\n  return { bytes: out, pageCount, success: true };\n}\n\n/* --------------------------------------------------------------\n   Unified entry point – try fast, fall back to raster\n   -------------------------------------------------------------- */\nasync function compressPDFUnified(pdfBytes, onProgress) {\n  try {\n    return await compressPDFFast(pdfBytes, onProgress);\n  } catch (fastErr) {\n    console.warn(\"Fast compression failed, falling back to rasterisation:\", fastErr);\n    try {\n      return await compressPDFRaster(pdfBytes, onProgress);\n    } catch (rasterErr) {\n      console.error(\"Raster fallback also failed:\", rasterErr);\n      throw new Error(`Both compression methods failed – ${rasterErr instanceof Error ? rasterErr.message : rasterErr}`);\n    }\n  }\n}\n\n/* ------------------- VALIDATION ------------------- */\nfunction validatePDF(file) {\n  if (!file) return { valid: false, error: \"No file selected\" };\n  if (file.type !== \"application/pdf\" && !file.name.toLowerCase().endsWith(\".pdf\")) return { valid: false, error: \"Please select a valid PDF file\" };\n  if (file.size === 0) return { valid: false, error: \"File is empty\" };\n  if (file.size > 500 * 1024 * 1024) return { valid: false, error: \"File is too large (max 500 MB)\" };\n  return { valid: true };\n}\n\n/* ------------------- MAIN APP COMPONENT ------------------- */\nfunction App() {\n  /* ---------- Language ---------- */\n  const [language, setLanguage] = useState(() => {\n    const saved = localStorage.getItem(\"language\");\n    return saved || \"en\";\n  });\n\n  React.useEffect(() => {\n    localStorage.setItem(\"language\", language);\n  }, [language]);\n\n  const translations = {\n    en: {\n      brand: \"PDF Compressor\",\n      selectOrDrop: \"Select or Drop PDF to Compress\",\n      dropHere: \"Drop your PDF here\",\n      subtitle: \"Fast, secure, client‑side compression\",\n      chooseFile: \"Choose File\",\n      originalSize: \"Original size\",\n      pages: \"pages\",\n      page: \"page\",\n      removeFile: \"Remove file\",\n      error: \"Error\",\n      note: \"Note\",\n      compressionSuccessful: \"Compression Successful!\",\n      compressionComplete: \"Compression Complete\",\n      reducedBy: \"Reduced by\",\n      originalSizeLabel: \"Original Size\",\n      compressedSize: \"Compressed Size\",\n      sizeReduction: \"Size Reduction\",\n      bytesSaved: \"Bytes Saved\",\n      targetLabel: \"10 MB Target\",\n      met: \"✓ Met\",\n      exceeded: \"⚠ Exceeded\",\n      pageCount: \"Page Count\",\n      download: \"Download Compressed PDF\",\n      compressAnother: \"Compress Another File\",\n      howItWorks: \"How It Works\",\n      howItWorksItems: [\n        { title: \"Upload:\", text: \"select your PDF or drag & drop.\" },\n        { title: \"Compress:\", text: \"metadata is stripped, images are down‑scaled & re‑encoded, with an automatic raster fallback.\" },\n        { title: \"Download:\", text: \"get the smaller PDF instantly.\" },\n        { title: \"Privacy:\", text: \"all processing happens in the browser; nothing leaves the client.\" },\n      ],\n      features: \"Features\",\n      featuresItems: [\n        \"Fast, client‑side processing\",\n        \"Metadata stripping & object‑stream compression\",\n        \"Smart image optimisation (down‑scale, JPEG quality)\",\n        \"Automatic raster fallback for stubborn PDFs\",\n        \"Free, open‑source, no‑tracking\",\n        \"Works offline\",\n      ],\n      bestResults: \"Best Results\",\n      bestResultsItems: [\n        { title: \"Works best on:\", text: \"PDFs that contain uncompressed raster images or duplicated objects.\" },\n        { title: \"Limited on:\", text: \"PDFs already optimised or vector‑only documents.\" },\n        { title: \"Maximum size:\", text: \"500 MB (browser memory limit).\" },\n        { title: \"Supported formats:\", text: \"Standard PDF (encrypted PDFs may not work).\" },\n      ],\n      footer: \"© 2026 PDF Compressor. Free & Open Source.\",\n      githubText: \"View on GitHub\",\n    },\n    pt: {\n      brand: \"Compressor de PDF\",\n      selectOrDrop: \"Seleciona ou Arrasta o PDF para Comprimir\",\n      dropHere: \"Larga o teu PDF aqui\",\n      subtitle: \"Compressão rápida, segura e local\",\n      chooseFile: \"Escolher Ficheiro\",\n      originalSize: \"Tamanho original\",\n      pages: \"páginas\",\n      page: \"página\",\n      removeFile: \"Remover ficheiro\",\n      error: \"Erro\",\n      note: \"Nota\",\n      compressionSuccessful: \"Compressão Bem-Sucedida!\",\n      compressionComplete: \"Compressão Concluída\",\n      reducedBy: \"Reduzido em\",\n      originalSizeLabel: \"Tamanho Original\",\n      compressedSize: \"Tamanho Comprimido\",\n      sizeReduction: \"Redução de Tamanho\",\n      bytesSaved: \"Bytes Poupados\",\n      targetLabel: \"Meta de 10 MB\",\n      met: \"✓ Atingida\",\n      exceeded: \"⚠ Excedida\",\n      pageCount: \"Número de Páginas\",\n      download: \"Descarregar PDF Comprimido\",\n      compressAnother: \"Comprimir Outro Ficheiro\",\n      howItWorks: \"Como Funciona\",\n      howItWorksItems: [\n        { title: \"Carregar:\", text: \"seleciona o teu PDF ou arrasta e larga.\" },\n        { title: \"Comprimir:\", text: \"metadados são removidos, imagens são redimensionadas e recodificadas, com recurso automático a rasterização.\" },\n        { title: \"Descarregar:\", text: \"obtém o PDF mais pequeno instantaneamente.\" },\n        { title: \"Privacidade:\", text: \"todo o processamento ocorre no navegador; nada sai do cliente.\" },\n      ],\n      features: \"Funcionalidades\",\n      featuresItems: [\n        \"Processamento rápido e local\",\n        \"Remoção de metadados e compressão de objectos\",\n        \"Optimização inteligente de imagens (redimensionamento, qualidade JPEG)\",\n        \"Recurso automático a rasterização para PDFs difíceis\",\n        \"Gratuito, código aberto, sem rastreamento\",\n        \"Funciona offline\",\n      ],\n      bestResults: \"Melhores Resultados\",\n      bestResultsItems: [\n        { title: \"Funciona melhor em:\", text: \"PDFs que contêm imagens raster não comprimidas ou objectos duplicados.\" },\n        { title: \"Limitado em:\", text: \"PDFs já optimizados ou documentos apenas vectoriais.\" },\n        { title: \"Tamanho máximo:\", text: \"500 MB (limite de memória do navegador).\" },\n        { title: \"Formatos suportados:\", text: \"PDF padrão (PDFs encriptados podem não funcionar).\" },\n      ],\n      footer: \"© 2026 Compressor de PDF. Gratuito e Código Aberto.\",\n      githubText: \"Ver no GitHub\",\n    },\n  };\n\n  const t = translations[language];\n\n  /* ---------- Theme ---------- */\n  const [darkMode, setDarkMode] = useState(() => {\n    const saved = localStorage.getItem(\"theme\");\n    return saved === \"dark\" || (!saved && window.matchMedia(\"(prefers-color-scheme: dark)\").matches);\n  });\n  React.useEffect(() => {\n    localStorage.setItem(\"theme\", darkMode ? \"dark\" : \"light\");\n    document.documentElement.classList.toggle(\"dark\", darkMode);\n  }, [darkMode]);\n\n  /* ---------- State ---------- */\n  const [file, setFile] = useState(null);\n  const [compressing, setCompressing] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [progressMessage, setProgressMessage] = useState(\"\");\n\n  const [originalSize, setOriginalSize] = useState(0);\n  const [compressedSize, setCompressedSize] = useState(0);\n  const [compressedBlob, setCompressedBlob] = useState(null);\n  const [pageCount, setPageCount] = useState(0);\n\n  const [error, setError] = useState(null);\n  const [warning, setWarning] = useState(null);\n\n  const fileInputRef = useRef(null);\n  const dragCounter = useRef(0);\n  const [isDragging, setIsDragging] = useState(false);\n\n  const TARGET_SIZE = 10 * 1024 * 1024; // 10 MB\n\n  const formatBytes = useCallback(bytes => {\n    if (bytes === 0) return \"0 Bytes\";\n    const k = 1024;\n    const dm = 2;\n    const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\"];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + \" \" + sizes[i];\n  }, []);\n\n  /* ---------- File handling ---------- */\n  const handleFileSelect = async selectedFile => {\n    const validation = validatePDF(selectedFile);\n    if (!validation.valid) {\n      setError(validation.error);\n      return;\n    }\n\n    setFile(selectedFile);\n    setError(null);\n    setWarning(null);\n    setCompressedBlob(null);\n    setOriginalSize(selectedFile.size);\n    setCompressing(true);\n    setProgress(0);\n    setProgressMessage(\"Preparing…\");\n\n    try {\n      const arrayBuffer = await selectedFile.arrayBuffer();\n\n      const onProgress = (pct, msg) => {\n        setProgress(Math.round(pct));\n        setProgressMessage(msg);\n      };\n\n      const result = await compressPDFUnified(arrayBuffer, onProgress);\n\n      const blob = new Blob([result.bytes], { type: \"application/pdf\" });\n\n      setCompressedBlob(blob);\n      setCompressedSize(blob.size);\n      setPageCount(result.pageCount);\n      setCompressing(false);\n\n      // ---- Warnings -------------------------------------------------\n      if (blob.size > TARGET_SIZE) {\n        setWarning(\n          `Compressed file is ${formatBytes(blob.size)} – still above the 10 MB target. ` +\n            `The PDF may contain complex graphics that cannot be reduced further without quality loss.`,\n        );\n      } else if (blob.size >= selectedFile.size * 0.95) {\n        setWarning(\n          `Only a ${((1 - blob.size / selectedFile.size) * 100).toFixed(1)} % size reduction. ` + `The original PDF may already be optimised.`,\n        );\n      }\n    } catch (e) {\n      console.error(e);\n      setError(e instanceof Error ? e.message : \"Failed to compress PDF.\");\n      setCompressing(false);\n      setProgress(0);\n      setProgressMessage(\"\");\n    }\n  };\n\n  /* ---------- Download ---------- */\n  const handleDownload = () => {\n    if (!compressedBlob || !file) return;\n    try {\n      const url = URL.createObjectURL(compressedBlob);\n      const a = document.createElement(\"a\");\n      a.href = url;\n      const name = file.name.replace(/\\.pdf$/i, \"\");\n      a.download = `${name}_compressed.pdf`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      setTimeout(() => URL.revokeObjectURL(url), 100);\n    } catch (e) {\n      console.error(e);\n      setError(\"Failed to download file. Please try again.\");\n    }\n  };\n\n  /* ---------- Reset ---------- */\n  const handleReset = () => {\n    setFile(null);\n    setCompressedBlob(null);\n    setOriginalSize(0);\n    setCompressedSize(0);\n    setPageCount(0);\n    setError(null);\n    setWarning(null);\n    setProgress(0);\n    setProgressMessage(\"\");\n    if (fileInputRef.current) fileInputRef.current.value = \"\";\n  };\n\n  /* ---------- Drag & Drop ---------- */\n  const handleDragEnter = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    dragCounter.current++;\n    if (e.dataTransfer.items && e.dataTransfer.items.length > 0) setIsDragging(true);\n  };\n  const handleDragLeave = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    dragCounter.current--;\n    if (dragCounter.current === 0) setIsDragging(false);\n  };\n  const handleDragOver = e => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  const handleDrop = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(false);\n    dragCounter.current = 0;\n    const files = e.dataTransfer.files;\n    if (files && files.length > 0) handleFileSelect(files[0]);\n  };\n\n  /* ---------- Statistics ---------- */\n  const compressionRatio = originalSize ? ((1 - compressedSize / originalSize) * 100).toFixed(1) : 0;\n  const savedBytes = originalSize - compressedSize;\n  const metTarget = compressedSize <= TARGET_SIZE;\n\n  /*===================== RENDER =====================*/\n  return (\n    <div className={`app-container ${darkMode ? \"dark\" : \"\"}`}>\n      {/* ---------- Navbar ---------- */}\n      <nav className='navbar'>\n        <div className='nav-brand'>\n          <img src={ConectysLogo} alt='Conectys Logo' className='brand-logo' />\n          <span className='brand-text'>{t.brand}</span>\n        </div>\n        <div className='nav-actions'>\n          <button\n            className='btn-icon'\n            onClick={() => setLanguage(language === \"en\" ? \"pt\" : \"en\")}\n            aria-label='Toggle language'\n            title={language === \"en\" ? \"Mudar para Português\" : \"Switch to English\"}\n          >\n            {language === \"en\" ? <IconPortugueseFlag /> : <IconEnglishFlag />}\n          </button>\n          <button\n            className='btn-icon'\n            onClick={() => setDarkMode(!darkMode)}\n            aria-label='Toggle theme'\n            title={darkMode ? \"Switch to light mode\" : \"Switch to dark mode\"}\n          >\n            {darkMode ? <IconSun /> : <IconMoon />}\n          </button>\n        </div>\n      </nav>\n\n      {/* ---------- Main content ---------- */}\n      <main className='main-content'>\n        <div className='compress-container'>\n          {/* ==== Upload UI ==== */}\n          {!file ? (\n            <div\n              className={`upload-area ${isDragging ? \"dragging\" : \"\"}`}\n              onClick={() => fileInputRef.current?.click()}\n              onDragEnter={handleDragEnter}\n              onDragLeave={handleDragLeave}\n              onDragOver={handleDragOver}\n              onDrop={handleDrop}\n            >\n              <input ref={fileInputRef} type='file' accept='.pdf,application/pdf' hidden onChange={e => handleFileSelect(e.target.files?.[0])} />\n              <IconUpload />\n              <h3>{t.selectOrDrop}</h3>\n              <p className='upload-subtitle'>{isDragging ? t.dropHere : t.subtitle}</p>\n              <button\n                className='btn-primary btn-upload'\n                onClick={e => {\n                  e.stopPropagation();\n                  fileInputRef.current?.click();\n                }}\n              >\n                {t.chooseFile}\n              </button>\n            </div>\n          ) : (\n            <div className='card compression-card'>\n              {/* ---- File header ---- */}\n              <div className='file-info'>\n                <IconFile />\n                <div className='file-details'>\n                  <h3>{file.name}</h3>\n                  <p>\n                    {t.originalSize}: {formatBytes(originalSize)}\n                  </p>\n                  {pageCount > 0 && (\n                    <p className='page-count'>\n                      {pageCount} {pageCount !== 1 ? t.pages : t.page}\n                    </p>\n                  )}\n                </div>\n                <button className='btn-icon btn-danger' onClick={handleReset} title={t.removeFile} disabled={compressing}>\n                  <IconTrash />\n                </button>\n              </div>\n\n              {/* ---- Progress while compressing ---- */}\n              {compressing && (\n                <div className='progress-section'>\n                  <div className='progress-bar'>\n                    <div className='progress-fill' style={{ width: `${progress}%` }}></div>\n                  </div>\n                  <div className='progress-info'>\n                    <p className='progress-text'>{progressMessage}</p>\n                    <p className='progress-percent'>{progress}%</p>\n                  </div>\n                </div>\n              )}\n\n              {/* ---- Error ---- */}\n              {error && (\n                <div className='error-message'>\n                  <IconAlert />\n                  <div>\n                    <strong>{t.error}</strong>\n                    <p>{error}</p>\n                  </div>\n                </div>\n              )}\n\n              {/* ---- Warning ---- */}\n              {warning && !error && (\n                <div className='warning-message'>\n                  <IconInfo />\n                  <div>\n                    <strong>{t.note}</strong>\n                    <p>{warning}</p>\n                  </div>\n                </div>\n              )}\n\n              {/* ---- Result (after success) ---- */}\n              {compressedBlob && !compressing && !error && (\n                <div className='result-section'>\n                  <div className={`success-banner ${metTarget ? \"target-met\" : \"\"}`}>\n                    {metTarget ? <IconCheck /> : <IconInfo />}\n                    <div>\n                      <strong>{metTarget ? t.compressionSuccessful : t.compressionComplete}</strong>\n                      <p>\n                        {t.reducedBy} {formatBytes(savedBytes)} ({compressionRatio}%)\n                      </p>\n                    </div>\n                  </div>\n\n                  {/* Ronaldo SIUUU GIF for Portuguese speakers when target is met */}\n                  {metTarget && language === \"pt\" && (\n                    <div style={{ textAlign: \"center\", margin: \"20px 0\" }}>\n                      <img src={RonaldoGif} alt='Cristiano Ronaldo SIUUU' style={{ maxWidth: \"300px\", borderRadius: \"10px\" }} />\n                    </div>\n                  )}\n\n                  <div className='result-stats'>\n                    <div className='stat-item'>\n                      <span className='stat-label'>{t.originalSizeLabel}</span>\n                      <span className='stat-value'>{formatBytes(originalSize)}</span>\n                    </div>\n\n                    <div className='stat-item'>\n                      <span className='stat-label'>{t.compressedSize}</span>\n                      <span className={`stat-value ${metTarget ? \"success\" : \"warning\"}`}>{formatBytes(compressedSize)}</span>\n                    </div>\n\n                    <div className='stat-item'>\n                      <span className='stat-label'>{t.sizeReduction}</span>\n                      <span className='stat-value success'>{compressionRatio}%</span>\n                    </div>\n\n                    <div className='stat-item'>\n                      <span className='stat-label'>{t.bytesSaved}</span>\n                      <span className='stat-value'>{formatBytes(savedBytes)}</span>\n                    </div>\n\n                    <div className='stat-item'>\n                      <span className='stat-label'>{t.targetLabel}</span>\n                      <span className={`stat-value ${metTarget ? \"success\" : \"warning\"}`}>{metTarget ? t.met : t.exceeded}</span>\n                    </div>\n\n                    <div className='stat-item'>\n                      <span className='stat-label'>{t.pageCount}</span>\n                      <span className='stat-value'>{pageCount}</span>\n                    </div>\n                  </div>\n\n                  <div className='action-buttons'>\n                    <button className='btn-download btn-primary' onClick={handleDownload}>\n                      <IconDownload />\n                      <span>{t.download}</span>\n                    </button>\n                    <button className='btn-action btn-secondary' onClick={handleReset}>\n                      <IconCompress />\n                      <span>{t.compressAnother}</span>\n                    </button>\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* ==== Info cards ==== */}\n          <div className='info-section'>\n            <div className='info-card'>\n              <div className='info-header'>\n                <IconInfo />\n                <h3>{t.howItWorks}</h3>\n              </div>\n              <ul>\n                {t.howItWorksItems.map((item, i) => (\n                  <li key={i}>\n                    <strong>{item.title}</strong> {item.text}\n                  </li>\n                ))}\n              </ul>\n            </div>\n\n            <div className='info-card'>\n              <div className='info-header'>\n                <IconCheck />\n                <h3>{t.features}</h3>\n              </div>\n              <ul>\n                {t.featuresItems.map((item, i) => (\n                  <li key={i}>\n                    <strong>{item}</strong>\n                  </li>\n                ))}\n              </ul>\n            </div>\n\n            <div className='info-card'>\n              <div className='info-header'>\n                <IconAlert />\n                <h3>{t.bestResults}</h3>\n              </div>\n              <ul>\n                {t.bestResultsItems.map((item, i) => (\n                  <li key={i}>\n                    <strong>{item.title}</strong> {item.text}\n                  </li>\n                ))}\n              </ul>\n            </div>\n          </div>\n        </div>\n      </main>\n\n      {/* ---------- Footer ---------- */}\n      <footer className='footer'>\n        <div className='footer-content'>\n          <p>{t.footer}</p>\n          <a\n            href='https://github.com/Joaosilva27/pdf-compressor'\n            target='_blank'\n            rel='noopener noreferrer'\n            className='github-link'\n            aria-label='GitHub Repository'\n          >\n            <IconGitHub />\n            <span>{t.githubText}</span>\n          </a>\n        </div>\n      </footer>\n    </div>\n  );\n}\n\n/*====================================================================*/\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,MAAM,CAAEC,WAAW,KAAQ,OAAO,CAC5D,MAAO,WAAW,CAClB,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CACzC,MAAO,CAAAC,UAAU,KAAM,eAAe,CACtC,OAASC,WAAW,CAAEC,OAAO,CAAEC,OAAO,CAAEC,YAAY,KAAQ,SAAS,CAErE,2DACA,MAAO,GAAK,CAAAC,QAAQ,KAAM,6BAA6B,CAEvD;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACAJ,QAAQ,CAACK,mBAAmB,CAACC,SAAS,CAAGC,OAAO,CAACC,GAAG,CAACC,UAAU,IAAAC,MAAA,CAAMH,OAAO,CAACC,GAAG,CAACC,UAAU,uBAAuB,oBAAoB,CAEtI,6DACA;AACA,KAAM,CAAAE,UAAU,CAAGA,CAAA,gBACjBP,KAAA,QAAKQ,SAAS,CAAC,iBAAiB,CAACC,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAAAC,QAAA,eACpFd,IAAA,SAAMe,CAAC,CAAC,2CAA2C,CAAO,CAAC,cAC3Df,IAAA,aAAUgB,MAAM,CAAC,eAAe,CAAW,CAAC,cAC5ChB,IAAA,SAAMiB,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAAO,CAAC,EACzC,CACN,CACD,KAAM,CAAAC,YAAY,CAAGA,CAAA,gBACnBnB,KAAA,QAAKQ,SAAS,CAAC,MAAM,CAACC,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACS,WAAW,CAAC,GAAG,CAAAR,QAAA,eACzFd,IAAA,SAAMe,CAAC,CAAC,2CAA2C,CAAO,CAAC,cAC3Df,IAAA,aAAUgB,MAAM,CAAC,kBAAkB,CAAW,CAAC,cAC/ChB,IAAA,SAAMiB,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,GAAG,CAAO,CAAC,EACzC,CACN,CACD,KAAM,CAAAG,QAAQ,CAAGA,CAAA,gBACfvB,IAAA,QAAKU,SAAS,CAAC,MAAM,CAACC,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACS,WAAW,CAAC,GAAG,CAAAR,QAAA,cACzFd,IAAA,SAAMe,CAAC,CAAC,iDAAiD,CAAE,CAAC,CACzD,CACN,CACD,KAAM,CAAAS,OAAO,CAAGA,CAAA,gBACdtB,KAAA,QAAKQ,SAAS,CAAC,MAAM,CAACC,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACS,WAAW,CAAC,GAAG,CAAAR,QAAA,eACzFd,IAAA,WAAQyB,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,CAAC,CAAC,GAAG,CAAE,CAAC,cAChC3B,IAAA,SAAMiB,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,GAAG,CAAE,CAAC,cACtCpB,IAAA,SAAMiB,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAAE,CAAC,cACxCpB,IAAA,SAAMiB,EAAE,CAAC,MAAM,CAACC,EAAE,CAAC,MAAM,CAACC,EAAE,CAAC,MAAM,CAACC,EAAE,CAAC,MAAM,CAAE,CAAC,cAChDpB,IAAA,SAAMiB,EAAE,CAAC,OAAO,CAACC,EAAE,CAAC,OAAO,CAACC,EAAE,CAAC,OAAO,CAACC,EAAE,CAAC,OAAO,CAAE,CAAC,cACpDpB,IAAA,SAAMiB,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,IAAI,CAAE,CAAC,cACtCpB,IAAA,SAAMiB,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAAE,CAAC,EACrC,CACN,CACD,KAAM,CAAAQ,kBAAkB,CAAGA,CAAA,gBACzB1B,KAAA,QAAKQ,SAAS,CAAC,gBAAgB,CAACC,OAAO,CAAC,aAAa,CAACC,IAAI,CAAC,MAAM,CAAAE,QAAA,eAC/Dd,IAAA,SAAM6B,KAAK,CAAC,KAAK,CAACC,MAAM,CAAC,KAAK,CAAClB,IAAI,CAAC,SAAS,CAAE,CAAC,cAChDZ,IAAA,SAAM6B,KAAK,CAAC,KAAK,CAACC,MAAM,CAAC,KAAK,CAAClB,IAAI,CAAC,SAAS,CAAE,CAAC,cAChDZ,IAAA,WAAQyB,EAAE,CAAC,KAAK,CAACC,EAAE,CAAC,KAAK,CAACC,CAAC,CAAC,IAAI,CAACf,IAAI,CAAC,SAAS,CAACC,MAAM,CAAC,MAAM,CAACS,WAAW,CAAC,GAAG,CAAE,CAAC,cAChFtB,IAAA,WAAQyB,EAAE,CAAC,KAAK,CAACC,EAAE,CAAC,KAAK,CAACC,CAAC,CAAC,IAAI,CAACf,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,MAAM,CAACS,WAAW,CAAC,GAAG,CAAE,CAAC,cAC7EtB,IAAA,WAAQyB,EAAE,CAAC,KAAK,CAACC,EAAE,CAAC,KAAK,CAACC,CAAC,CAAC,IAAI,CAACf,IAAI,CAAC,SAAS,CAACC,MAAM,CAAC,MAAM,CAACS,WAAW,CAAC,GAAG,CAAE,CAAC,EAC7E,CACN,CACD,KAAM,CAAAS,eAAe,CAAGA,CAAA,gBACtB7B,KAAA,QAAKQ,SAAS,CAAC,gBAAgB,CAACC,OAAO,CAAC,WAAW,CAAAG,QAAA,eACjDd,IAAA,aAAUgC,EAAE,CAAC,GAAG,CAAAlB,QAAA,cACdd,IAAA,SAAMe,CAAC,CAAC,qBAAqB,CAAE,CAAC,CACxB,CAAC,cACXf,IAAA,aAAUgC,EAAE,CAAC,GAAG,CAAAlB,QAAA,cACdd,IAAA,SAAMe,CAAC,CAAC,oDAAoD,CAAE,CAAC,CACvD,CAAC,cACXb,KAAA,MAAG+B,QAAQ,CAAC,SAAS,CAAAnB,QAAA,eACnBd,IAAA,SAAMe,CAAC,CAAC,qBAAqB,CAACH,IAAI,CAAC,SAAS,CAAE,CAAC,cAC/CZ,IAAA,SAAMe,CAAC,CAAC,yBAAyB,CAACF,MAAM,CAAC,MAAM,CAACS,WAAW,CAAC,GAAG,CAAE,CAAC,cAClEtB,IAAA,SAAMe,CAAC,CAAC,yBAAyB,CAACkB,QAAQ,CAAC,SAAS,CAACpB,MAAM,CAAC,SAAS,CAACS,WAAW,CAAC,GAAG,CAAE,CAAC,cACxFtB,IAAA,SAAMe,CAAC,CAAC,qBAAqB,CAACF,MAAM,CAAC,MAAM,CAACS,WAAW,CAAC,IAAI,CAAE,CAAC,cAC/DtB,IAAA,SAAMe,CAAC,CAAC,qBAAqB,CAACF,MAAM,CAAC,SAAS,CAACS,WAAW,CAAC,GAAG,CAAE,CAAC,EAChE,CAAC,EACD,CACN,CACD,KAAM,CAAAY,UAAU,CAAGA,CAAA,gBACjBlC,IAAA,QAAKU,SAAS,CAAC,aAAa,CAACC,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,cAAc,CAAAE,QAAA,cAClEd,IAAA,SAAMe,CAAC,CAAC,ijBAAijB,CAAE,CAAC,CACzjB,CACN,CACD,KAAM,CAAAoB,SAAS,CAAGA,CAAA,gBAChBjC,KAAA,QAAKQ,SAAS,CAAC,kBAAkB,CAACC,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACS,WAAW,CAAC,GAAG,CAAAR,QAAA,eACrGd,IAAA,aAAUgB,MAAM,CAAC,cAAc,CAAW,CAAC,cAC3ChB,IAAA,SAAMe,CAAC,CAAC,+CAA+C,CAAO,CAAC,cAC/Df,IAAA,SAAMe,CAAC,CAAC,UAAU,CAAO,CAAC,cAC1Bf,IAAA,SAAMe,CAAC,CAAC,UAAU,CAAO,CAAC,EACvB,CACN,CACD,KAAM,CAAAqB,QAAQ,CAAGA,CAAA,gBACflC,KAAA,QAAKQ,SAAS,CAAC,MAAM,CAACC,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACS,WAAW,CAAC,GAAG,CAAAR,QAAA,eACzFd,IAAA,SAAMe,CAAC,CAAC,4DAA4D,CAAO,CAAC,cAC5Ef,IAAA,aAAUgB,MAAM,CAAC,gBAAgB,CAAW,CAAC,EAC1C,CACN,CACD,KAAM,CAAAqB,YAAY,CAAGA,CAAA,gBACnBnC,KAAA,QAAKQ,SAAS,CAAC,MAAM,CAACC,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACS,WAAW,CAAC,GAAG,CAAAR,QAAA,eACzFd,IAAA,aAAUgB,MAAM,CAAC,kBAAkB,CAAW,CAAC,cAC/ChB,IAAA,aAAUgB,MAAM,CAAC,kBAAkB,CAAW,CAAC,cAC/ChB,IAAA,SAAMiB,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,GAAG,CAAO,CAAC,cAC5CpB,IAAA,SAAMiB,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAAO,CAAC,EACzC,CACN,CACD,KAAM,CAAAkB,QAAQ,CAAGA,CAAA,gBACfpC,KAAA,QAAKQ,SAAS,CAAC,MAAM,CAACC,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACS,WAAW,CAAC,GAAG,CAAAR,QAAA,eACzFd,IAAA,WAAQyB,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,CAAC,CAAC,IAAI,CAAS,CAAC,cACxC3B,IAAA,SAAMiB,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAAO,CAAC,cAC7CpB,IAAA,SAAMiB,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,OAAO,CAACC,EAAE,CAAC,GAAG,CAAO,CAAC,EAC3C,CACN,CACD,KAAM,CAAAmB,SAAS,CAAGA,CAAA,gBAChBvC,IAAA,QAAKU,SAAS,CAAC,mBAAmB,CAACC,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACS,WAAW,CAAC,GAAG,CAAAR,QAAA,cACtGd,IAAA,aAAUgB,MAAM,CAAC,gBAAgB,CAAW,CAAC,CAC1C,CACN,CACD,KAAM,CAAAwB,SAAS,CAAGA,CAAA,gBAChBtC,KAAA,QAAKQ,SAAS,CAAC,mBAAmB,CAACC,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACS,WAAW,CAAC,GAAG,CAAAR,QAAA,eACtGd,IAAA,SAAMe,CAAC,CAAC,0FAA0F,CAAO,CAAC,cAC1Gf,IAAA,SAAMiB,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,GAAG,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAAO,CAAC,cAC5CpB,IAAA,SAAMiB,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,IAAI,CAACC,EAAE,CAAC,OAAO,CAACC,EAAE,CAAC,IAAI,CAAO,CAAC,EAC7C,CACN,CAED,qDAEA,QAAS,CAAAqB,oBAAoBA,CAACC,GAAG,CAAEC,IAAI,CAAE,CACvC,KAAM,CAAAC,IAAI,CAAG,GAAI,CAAAC,IAAI,CAAC,CAACH,GAAG,CAAC,CAAE,CAAEI,IAAI,CAAEH,IAAK,CAAC,CAAC,CAC5C,MAAO,CAAAI,GAAG,CAACC,eAAe,CAACJ,IAAI,CAAC,CAClC,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GACA,cAAe,CAAAK,aAAaA,CAACC,QAAQ,CAAEC,MAAM,CAAEC,MAAM,CAAEC,WAAW,CAAE,CAClE,KAAM,CAAAC,MAAM,CAAGH,MAAM,CAAG,YAAY,CAAG,WAAW,CAClD,KAAM,CAAAI,GAAG,CAAGd,oBAAoB,CAACS,QAAQ,CAAEI,MAAM,CAAC,CAElD,KAAM,CAAAE,GAAG,CAAG,KAAM,IAAI,CAAAC,OAAO,CAAC,CAACC,GAAG,CAAEC,GAAG,GAAK,CAC1C,KAAM,CAAAC,CAAC,CAAG,GAAI,CAAAC,KAAK,CAAC,CAAC,CACrBD,CAAC,CAACE,MAAM,CAAG,IAAMJ,GAAG,CAACE,CAAC,CAAC,CACvBA,CAAC,CAACG,OAAO,CAAGC,CAAC,EAAIL,GAAG,CAACK,CAAC,CAAC,CACvBJ,CAAC,CAACK,GAAG,CAAGV,GAAG,CACb,CAAC,CAAC,CACFR,GAAG,CAACmB,eAAe,CAACX,GAAG,CAAC,CAExB;AACA,GAAI,CAAE1B,KAAK,CAAEC,MAAO,CAAC,CAAG0B,GAAG,CAC3B,GAAIW,IAAI,CAACC,GAAG,CAACvC,KAAK,CAAEC,MAAM,CAAC,CAAGsB,MAAM,CAAE,CACpC,KAAM,CAAAiB,KAAK,CAAGjB,MAAM,CAAGe,IAAI,CAACC,GAAG,CAACvC,KAAK,CAAEC,MAAM,CAAC,CAC9CD,KAAK,CAAGsC,IAAI,CAACG,KAAK,CAACzC,KAAK,CAAGwC,KAAK,CAAC,CACjCvC,MAAM,CAAGqC,IAAI,CAACG,KAAK,CAACxC,MAAM,CAAGuC,KAAK,CAAC,CACrC,CAEA,KAAM,CAAAE,MAAM,CAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC,CAC/CF,MAAM,CAAC1C,KAAK,CAAGA,KAAK,CACpB0C,MAAM,CAACzC,MAAM,CAAGA,MAAM,CACtB,KAAM,CAAA4C,GAAG,CAAGH,MAAM,CAACI,UAAU,CAAC,IAAI,CAAC,CACnCD,GAAG,CAACE,SAAS,CAACpB,GAAG,CAAE,CAAC,CAAE,CAAC,CAAE3B,KAAK,CAAEC,MAAM,CAAC,CACvC,KAAM,CAAA+C,OAAO,CAAGN,MAAM,CAACO,SAAS,CAAC,YAAY,CAAEzB,WAAW,CAAC,CAC3D,KAAM,CAAA0B,MAAM,CAAGF,OAAO,CAACG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CACpC,KAAM,CAAAC,QAAQ,CAAGC,UAAU,CAACC,IAAI,CAACC,IAAI,CAACL,MAAM,CAAC,CAAEM,CAAC,EAAIA,CAAC,CAACC,UAAU,CAAC,CAAC,CAAC,CAAC,CACpEf,MAAM,CAACgB,MAAM,CAAC,CAAC,CACf,MAAO,CAAAN,QAAQ,CACjB,CAEA;AACA;AACA,oEACA,cAAe,CAAAO,eAAeA,CAACC,QAAQ,CAAEC,UAAU,CAAE,CACnD,KAAM,CAAAC,aAAa,CAAG,IAAI,CAAE;AAC5B,KAAM,CAAAC,YAAY,CAAG,GAAG,CAAE;AAE1B,KAAM,CAAAC,MAAM,CAAG,KAAM,CAAAnG,WAAW,CAACoG,IAAI,CAACL,QAAQ,CAAE,CAAEM,gBAAgB,CAAE,IAAK,CAAC,CAAC,CAC3E,KAAM,CAAAC,SAAS,CAAGH,MAAM,CAACI,YAAY,CAAC,CAAC,CAEvC;AACAP,UAAU,CAAC,CAAC,CAAE,qBAAqB,CAAC,CACpCG,MAAM,CAACK,QAAQ,CAAC,EAAE,CAAC,CACnBL,MAAM,CAACM,SAAS,CAAC,EAAE,CAAC,CACpBN,MAAM,CAACO,UAAU,CAAC,EAAE,CAAC,CACrBP,MAAM,CAACQ,UAAU,CAAC,EAAE,CAAC,CACrBR,MAAM,CAACS,WAAW,CAAC,EAAE,CAAC,CACtBT,MAAM,CAACU,WAAW,CAAC,EAAE,CAAC,CACtBV,MAAM,CAACW,eAAe,CAAC,GAAI,CAAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CACnCZ,MAAM,CAACa,mBAAmB,CAAC,GAAI,CAAAD,IAAI,CAAC,CAAC,CAAC,CAAC,CAEvC;AACAf,UAAU,CAAC,EAAE,CAAE,mBAAmB,CAAC,CACnC,KAAM,CAAAiB,OAAO,CAAGd,MAAM,CAACc,OAAO,CAC9B,CAAC,UAAU,CAAE,WAAW,CAAE,gBAAgB,CAAE,YAAY,CAAE,eAAe,CAAE,UAAU,CAAC,CAACC,OAAO,CAACC,GAAG,EAAI,CACpG,GAAI,CACFF,OAAO,CAACG,MAAM,CAACnH,OAAO,CAACoH,EAAE,CAACF,GAAG,CAAC,CAAC,CACjC,CAAE,MAAOG,CAAC,CAAE,CAAC,CACf,CAAC,CAAC,CAEF;AACAtB,UAAU,CAAC,EAAE,CAAE,oBAAoB,CAAC,CACpC,IAAK,GAAI,CAAA9B,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGoC,SAAS,CAAEpC,CAAC,EAAE,CAAE,CAClC,KAAM,CAAAqD,IAAI,CAAGpB,MAAM,CAACqB,OAAO,CAACtD,CAAC,CAAC,CAC9B,KAAM,CAAAuD,SAAS,CAAGF,IAAI,CAACG,IAAI,CAACC,SAAS,CAAC,CAAC,CACvC,KAAM,CAAAC,QAAQ,CAAGH,SAAS,CAACI,WAAW,CAAC5H,OAAO,CAACoH,EAAE,CAAC,SAAS,CAAC,CAAC,CAC7D,GAAI,CAACO,QAAQ,CAAE,SAEf,KAAM,CAAAE,OAAO,CAAGF,QAAQ,WAAY,CAAA1H,OAAO,CAAG0H,QAAQ,CAACE,OAAO,CAAC,CAAC,CAAG,EAAE,CAErE,IAAK,KAAM,CAACX,GAAG,CAAEY,GAAG,CAAC,EAAI,CAAAD,OAAO,CAAE,KAAAE,gBAAA,CAChC,KAAM,CAAAC,GAAG,CAAG9B,MAAM,CAAC+B,OAAO,CAACC,MAAM,CAACJ,GAAG,CAAC,CACtC,GAAI,CAACE,GAAG,EAAI,MAAO,CAAAA,GAAG,CAACG,WAAW,GAAK,UAAU,CAAE,SAAU;AAE7D,KAAM,CAAAC,OAAO,CAAGJ,GAAG,CAACK,IAAI,CAACC,GAAG,CAACtI,OAAO,CAACoH,EAAE,CAAC,SAAS,CAAC,CAAC,CACnD,GAAI,CAACgB,OAAO,EAAIA,OAAO,CAACG,QAAQ,CAAC,CAAC,GAAK,QAAQ,CAAE,SAAU;AAE3D,KAAM,CAAAC,MAAM,CAAGR,GAAG,CAACK,IAAI,CAACC,GAAG,CAACtI,OAAO,CAACoH,EAAE,CAAC,QAAQ,CAAC,CAAC,CACjD,KAAM,CAAAqB,SAAS,EAAAV,gBAAA,CAAGS,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAED,QAAQ,CAAC,CAAC,UAAAR,gBAAA,UAAAA,gBAAA,CAAI,EAAE,CAC1C,KAAM,CAAAvE,MAAM,CAAGiF,SAAS,CAACC,QAAQ,CAAC,WAAW,CAAC,CAE9C,KAAM,CAAAnF,QAAQ,CAAGyE,GAAG,CAACG,WAAW,CAAC,CAAC,CAAE;AAEpC,GAAI,CACF,KAAM,CAAAQ,QAAQ,CAAG,KAAM,CAAArF,aAAa,CAACC,QAAQ,CAAEC,MAAM,CAAEwC,aAAa,CAAEC,YAAY,CAAC,CACnF+B,GAAG,CAACY,WAAW,CAACD,QAAQ,CAAC,CACzBX,GAAG,CAACK,IAAI,CAACQ,GAAG,CAAC7I,OAAO,CAACoH,EAAE,CAAC,QAAQ,CAAC,CAAEpH,OAAO,CAACoH,EAAE,CAAC,WAAW,CAAC,CAAC,CAC7D,CAAE,MAAO/C,CAAC,CAAE,CACVyE,OAAO,CAACC,IAAI,mCAAAlI,MAAA,CAA8BqG,GAAG,MAAK7C,CAAC,CAAC,CACtD,CACF,CAEA;AACA0B,UAAU,CAAC,EAAE,CAAI,CAAC9B,CAAC,CAAG,CAAC,EAAIoC,SAAS,CAAI,EAAE,mBAAAxF,MAAA,CAAoBoD,CAAC,CAAG,CAAC,MAAApD,MAAA,CAAIwF,SAAS,CAAE,CAAC,CACrF,CAEA;AACAN,UAAU,CAAC,EAAE,CAAE,wBAAwB,CAAC,CACxC,KAAM,CAAAiD,UAAU,CAAG,KAAM,CAAA9C,MAAM,CAAC+C,IAAI,CAAC,CAAEC,gBAAgB,CAAE,IAAK,CAAC,CAAC,CAChEnD,UAAU,CAAC,GAAG,CAAE,OAAO,CAAC,CACxB,MAAO,CAAEoD,KAAK,CAAEH,UAAU,CAAE3C,SAAS,CAAE+C,OAAO,CAAE,IAAK,CAAC,CACxD,CAEA;AACA;AACA,oEACA,cAAe,CAAAC,iBAAiBA,CAACvD,QAAQ,CAAEC,UAAU,CAAE,CACrD,KAAM,CAAAuD,KAAK,CAAG,GAAI,CAAA/D,UAAU,CAACO,QAAQ,CAAC,CACtC,KAAM,CAAAyD,WAAW,CAAGpJ,QAAQ,CAACqJ,WAAW,CAAC,CAAEC,IAAI,CAAEH,KAAK,CAAEI,gBAAgB,CAAE,IAAK,CAAC,CAAC,CACjF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAJ,WAAW,CAACK,OAAO,CACrC,KAAM,CAAAvD,SAAS,CAAGsD,GAAG,CAACE,QAAQ,CAE9B,cAAe,CAAAC,aAAaA,CAACC,UAAU,CAAE,CACvC,KAAM,CAAAzC,IAAI,CAAG,KAAM,CAAAqC,GAAG,CAACpC,OAAO,CAACwC,UAAU,CAAC,CAC1C,KAAM,CAAAC,QAAQ,CAAG1C,IAAI,CAAC2C,WAAW,CAAC,CAAEvF,KAAK,CAAE,CAAE,CAAC,CAAC,CAC/C,KAAM,CAAAE,MAAM,CAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC,CAC/CF,MAAM,CAAC1C,KAAK,CAAG8H,QAAQ,CAAC9H,KAAK,CAC7B0C,MAAM,CAACzC,MAAM,CAAG6H,QAAQ,CAAC7H,MAAM,CAC/B,KAAM,CAAA4C,GAAG,CAAGH,MAAM,CAACI,UAAU,CAAC,IAAI,CAAC,CAEnC,KAAM,CAAAsC,IAAI,CAAC4C,MAAM,CAAC,CAAEC,aAAa,CAAEpF,GAAG,CAAEiF,QAAS,CAAC,CAAC,CAACJ,OAAO,CAE3D,KAAM,CAAA1E,OAAO,CAAGN,MAAM,CAACO,SAAS,CAAC,YAAY,CAAE,GAAG,CAAC,CACnD,KAAM,CAAAC,MAAM,CAAGF,OAAO,CAACG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CACpC,KAAM,CAAA9B,QAAQ,CAAGgC,UAAU,CAACC,IAAI,CAACC,IAAI,CAACL,MAAM,CAAC,CAAEM,CAAC,EAAIA,CAAC,CAACC,UAAU,CAAC,CAAC,CAAC,CAAC,CACpEf,MAAM,CAACgB,MAAM,CAAC,CAAC,CACf,MAAO,CAAErC,QAAQ,CAAErB,KAAK,CAAE0C,MAAM,CAAC1C,KAAK,CAAEC,MAAM,CAAEyC,MAAM,CAACzC,MAAO,CAAC,CACjE,CAEA,KAAM,CAAAiI,MAAM,CAAG,KAAM,CAAArK,WAAW,CAACsK,MAAM,CAAC,CAAC,CAEzC,IAAK,GAAI,CAAApG,CAAC,CAAG,CAAC,CAAEA,CAAC,EAAIoC,SAAS,CAAEpC,CAAC,EAAE,CAAE,CACnC8B,UAAU,CAAC,EAAE,CAAI,CAAC9B,CAAC,CAAG,CAAC,EAAIoC,SAAS,CAAI,EAAE,qBAAAxF,MAAA,CAAsBoD,CAAC,MAAApD,MAAA,CAAIwF,SAAS,CAAE,CAAC,CACjF,KAAM,CAAE9C,QAAQ,CAAErB,KAAK,CAAEC,MAAO,CAAC,CAAG,KAAM,CAAA2H,aAAa,CAAC7F,CAAC,CAAC,CAC1D,KAAM,CAAAqG,GAAG,CAAG,KAAM,CAAAF,MAAM,CAACG,QAAQ,CAAChH,QAAQ,CAAC,CAC3C,KAAM,CAAAiH,EAAE,CAAGJ,MAAM,CAACK,OAAO,CAAC,CAACvI,KAAK,CAAEC,MAAM,CAAC,CAAC,CAC1CqI,EAAE,CAACvF,SAAS,CAACqF,GAAG,CAAE,CAAEI,CAAC,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAC,CAAEzI,KAAK,CAAEC,MAAO,CAAC,CAAC,CAClD,CAEA4D,UAAU,CAAC,EAAE,CAAE,wBAAwB,CAAC,CACxC,KAAM,CAAA6E,GAAG,CAAG,KAAM,CAAAR,MAAM,CAACnB,IAAI,CAAC,CAAEC,gBAAgB,CAAE,IAAK,CAAC,CAAC,CACzDnD,UAAU,CAAC,GAAG,CAAE,OAAO,CAAC,CACxB,MAAO,CAAEoD,KAAK,CAAEyB,GAAG,CAAEvE,SAAS,CAAE+C,OAAO,CAAE,IAAK,CAAC,CACjD,CAEA;AACA;AACA,oEACA,cAAe,CAAAyB,kBAAkBA,CAAC/E,QAAQ,CAAEC,UAAU,CAAE,CACtD,GAAI,CACF,MAAO,MAAM,CAAAF,eAAe,CAACC,QAAQ,CAAEC,UAAU,CAAC,CACpD,CAAE,MAAO+E,OAAO,CAAE,CAChBhC,OAAO,CAACC,IAAI,CAAC,yDAAyD,CAAE+B,OAAO,CAAC,CAChF,GAAI,CACF,MAAO,MAAM,CAAAzB,iBAAiB,CAACvD,QAAQ,CAAEC,UAAU,CAAC,CACtD,CAAE,MAAOgF,SAAS,CAAE,CAClBjC,OAAO,CAACkC,KAAK,CAAC,8BAA8B,CAAED,SAAS,CAAC,CACxD,KAAM,IAAI,CAAAE,KAAK,2CAAApK,MAAA,CAAsCkK,SAAS,WAAY,CAAAE,KAAK,CAAGF,SAAS,CAACG,OAAO,CAAGH,SAAS,CAAE,CAAC,CACpH,CACF,CACF,CAEA,wDACA,QAAS,CAAAI,WAAWA,CAACC,IAAI,CAAE,CACzB,GAAI,CAACA,IAAI,CAAE,MAAO,CAAEC,KAAK,CAAE,KAAK,CAAEL,KAAK,CAAE,kBAAmB,CAAC,CAC7D,GAAII,IAAI,CAACjI,IAAI,GAAK,iBAAiB,EAAI,CAACiI,IAAI,CAACE,IAAI,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,MAAM,CAAC,CAAE,MAAO,CAAEH,KAAK,CAAE,KAAK,CAAEL,KAAK,CAAE,gCAAiC,CAAC,CAClJ,GAAII,IAAI,CAACK,IAAI,GAAK,CAAC,CAAE,MAAO,CAAEJ,KAAK,CAAE,KAAK,CAAEL,KAAK,CAAE,eAAgB,CAAC,CACpE,GAAII,IAAI,CAACK,IAAI,CAAG,GAAG,CAAG,IAAI,CAAG,IAAI,CAAE,MAAO,CAAEJ,KAAK,CAAE,KAAK,CAAEL,KAAK,CAAE,gCAAiC,CAAC,CACnG,MAAO,CAAEK,KAAK,CAAE,IAAK,CAAC,CACxB,CAEA,gEACA,QAAS,CAAAK,GAAGA,CAAA,CAAG,CACb,oCACA,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGlM,QAAQ,CAAC,IAAM,CAC7C,KAAM,CAAAmM,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAC9C,MAAO,CAAAF,KAAK,EAAI,IAAI,CACtB,CAAC,CAAC,CAEFpM,KAAK,CAACuM,SAAS,CAAC,IAAM,CACpBF,YAAY,CAACG,OAAO,CAAC,UAAU,CAAEN,QAAQ,CAAC,CAC5C,CAAC,CAAE,CAACA,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAAO,YAAY,CAAG,CACnBC,EAAE,CAAE,CACFC,KAAK,CAAE,gBAAgB,CACvBC,YAAY,CAAE,gCAAgC,CAC9CC,QAAQ,CAAE,oBAAoB,CAC9BC,QAAQ,CAAE,uCAAuC,CACjDC,UAAU,CAAE,aAAa,CACzBC,YAAY,CAAE,eAAe,CAC7BC,KAAK,CAAE,OAAO,CACdpF,IAAI,CAAE,MAAM,CACZqF,UAAU,CAAE,aAAa,CACzB3B,KAAK,CAAE,OAAO,CACd4B,IAAI,CAAE,MAAM,CACZC,qBAAqB,CAAE,yBAAyB,CAChDC,mBAAmB,CAAE,sBAAsB,CAC3CC,SAAS,CAAE,YAAY,CACvBC,iBAAiB,CAAE,eAAe,CAClCC,cAAc,CAAE,iBAAiB,CACjCC,aAAa,CAAE,gBAAgB,CAC/BC,UAAU,CAAE,aAAa,CACzBC,WAAW,CAAE,cAAc,CAC3BC,GAAG,CAAE,OAAO,CACZC,QAAQ,CAAE,YAAY,CACtBjH,SAAS,CAAE,YAAY,CACvBkH,QAAQ,CAAE,yBAAyB,CACnCC,eAAe,CAAE,uBAAuB,CACxCC,UAAU,CAAE,cAAc,CAC1BC,eAAe,CAAE,CACf,CAAEC,KAAK,CAAE,SAAS,CAAEC,IAAI,CAAE,iCAAkC,CAAC,CAC7D,CAAED,KAAK,CAAE,WAAW,CAAEC,IAAI,CAAE,+FAAgG,CAAC,CAC7H,CAAED,KAAK,CAAE,WAAW,CAAEC,IAAI,CAAE,gCAAiC,CAAC,CAC9D,CAAED,KAAK,CAAE,UAAU,CAAEC,IAAI,CAAE,mEAAoE,CAAC,CACjG,CACDC,QAAQ,CAAE,UAAU,CACpBC,aAAa,CAAE,CACb,8BAA8B,CAC9B,gDAAgD,CAChD,qDAAqD,CACrD,6CAA6C,CAC7C,gCAAgC,CAChC,eAAe,CAChB,CACDC,WAAW,CAAE,cAAc,CAC3BC,gBAAgB,CAAE,CAChB,CAAEL,KAAK,CAAE,gBAAgB,CAAEC,IAAI,CAAE,qEAAsE,CAAC,CACxG,CAAED,KAAK,CAAE,aAAa,CAAEC,IAAI,CAAE,kDAAmD,CAAC,CAClF,CAAED,KAAK,CAAE,eAAe,CAAEC,IAAI,CAAE,gCAAiC,CAAC,CAClE,CAAED,KAAK,CAAE,oBAAoB,CAAEC,IAAI,CAAE,6CAA8C,CAAC,CACrF,CACDK,MAAM,CAAE,4CAA4C,CACpDC,UAAU,CAAE,gBACd,CAAC,CACDC,EAAE,CAAE,CACF/B,KAAK,CAAE,mBAAmB,CAC1BC,YAAY,CAAE,2CAA2C,CACzDC,QAAQ,CAAE,sBAAsB,CAChCC,QAAQ,CAAE,mCAAmC,CAC7CC,UAAU,CAAE,mBAAmB,CAC/BC,YAAY,CAAE,kBAAkB,CAChCC,KAAK,CAAE,SAAS,CAChBpF,IAAI,CAAE,QAAQ,CACdqF,UAAU,CAAE,kBAAkB,CAC9B3B,KAAK,CAAE,MAAM,CACb4B,IAAI,CAAE,MAAM,CACZC,qBAAqB,CAAE,0BAA0B,CACjDC,mBAAmB,CAAE,sBAAsB,CAC3CC,SAAS,CAAE,aAAa,CACxBC,iBAAiB,CAAE,kBAAkB,CACrCC,cAAc,CAAE,oBAAoB,CACpCC,aAAa,CAAE,oBAAoB,CACnCC,UAAU,CAAE,gBAAgB,CAC5BC,WAAW,CAAE,eAAe,CAC5BC,GAAG,CAAE,YAAY,CACjBC,QAAQ,CAAE,YAAY,CACtBjH,SAAS,CAAE,mBAAmB,CAC9BkH,QAAQ,CAAE,4BAA4B,CACtCC,eAAe,CAAE,0BAA0B,CAC3CC,UAAU,CAAE,eAAe,CAC3BC,eAAe,CAAE,CACf,CAAEC,KAAK,CAAE,WAAW,CAAEC,IAAI,CAAE,yCAA0C,CAAC,CACvE,CAAED,KAAK,CAAE,YAAY,CAAEC,IAAI,CAAE,8GAA+G,CAAC,CAC7I,CAAED,KAAK,CAAE,cAAc,CAAEC,IAAI,CAAE,4CAA6C,CAAC,CAC7E,CAAED,KAAK,CAAE,cAAc,CAAEC,IAAI,CAAE,gEAAiE,CAAC,CAClG,CACDC,QAAQ,CAAE,iBAAiB,CAC3BC,aAAa,CAAE,CACb,8BAA8B,CAC9B,+CAA+C,CAC/C,wEAAwE,CACxE,sDAAsD,CACtD,2CAA2C,CAC3C,kBAAkB,CACnB,CACDC,WAAW,CAAE,qBAAqB,CAClCC,gBAAgB,CAAE,CAChB,CAAEL,KAAK,CAAE,qBAAqB,CAAEC,IAAI,CAAE,wEAAyE,CAAC,CAChH,CAAED,KAAK,CAAE,cAAc,CAAEC,IAAI,CAAE,sDAAuD,CAAC,CACvF,CAAED,KAAK,CAAE,iBAAiB,CAAEC,IAAI,CAAE,0CAA2C,CAAC,CAC9E,CAAED,KAAK,CAAE,sBAAsB,CAAEC,IAAI,CAAE,oDAAqD,CAAC,CAC9F,CACDK,MAAM,CAAE,qDAAqD,CAC7DC,UAAU,CAAE,eACd,CACF,CAAC,CAED,KAAM,CAAAE,CAAC,CAAGlC,YAAY,CAACP,QAAQ,CAAC,CAEhC,iCACA,KAAM,CAAC0C,QAAQ,CAAEC,WAAW,CAAC,CAAG5O,QAAQ,CAAC,IAAM,CAC7C,KAAM,CAAAmM,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,MAAO,CAAAF,KAAK,GAAK,MAAM,EAAK,CAACA,KAAK,EAAI0C,MAAM,CAACC,UAAU,CAAC,8BAA8B,CAAC,CAACC,OAAQ,CAClG,CAAC,CAAC,CACFhP,KAAK,CAACuM,SAAS,CAAC,IAAM,CACpBF,YAAY,CAACG,OAAO,CAAC,OAAO,CAAEoC,QAAQ,CAAG,MAAM,CAAG,OAAO,CAAC,CAC1DxJ,QAAQ,CAAC6J,eAAe,CAACC,SAAS,CAACC,MAAM,CAAC,MAAM,CAAEP,QAAQ,CAAC,CAC7D,CAAC,CAAE,CAACA,QAAQ,CAAC,CAAC,CAEd,iCACA,KAAM,CAACjD,IAAI,CAAEyD,OAAO,CAAC,CAAGnP,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACoP,WAAW,CAAEC,cAAc,CAAC,CAAGrP,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAACsP,QAAQ,CAAEC,WAAW,CAAC,CAAGvP,QAAQ,CAAC,CAAC,CAAC,CAC3C,KAAM,CAACwP,eAAe,CAAEC,kBAAkB,CAAC,CAAGzP,QAAQ,CAAC,EAAE,CAAC,CAE1D,KAAM,CAAC+M,YAAY,CAAE2C,eAAe,CAAC,CAAG1P,QAAQ,CAAC,CAAC,CAAC,CACnD,KAAM,CAACuN,cAAc,CAAEoC,iBAAiB,CAAC,CAAG3P,QAAQ,CAAC,CAAC,CAAC,CACvD,KAAM,CAAC4P,cAAc,CAAEC,iBAAiB,CAAC,CAAG7P,QAAQ,CAAC,IAAI,CAAC,CAC1D,KAAM,CAAC2G,SAAS,CAAEmJ,YAAY,CAAC,CAAG9P,QAAQ,CAAC,CAAC,CAAC,CAE7C,KAAM,CAACsL,KAAK,CAAEyE,QAAQ,CAAC,CAAG/P,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACgQ,OAAO,CAAEC,UAAU,CAAC,CAAGjQ,QAAQ,CAAC,IAAI,CAAC,CAE5C,KAAM,CAAAkQ,YAAY,CAAGjQ,MAAM,CAAC,IAAI,CAAC,CACjC,KAAM,CAAAkQ,WAAW,CAAGlQ,MAAM,CAAC,CAAC,CAAC,CAC7B,KAAM,CAACmQ,UAAU,CAAEC,aAAa,CAAC,CAAGrQ,QAAQ,CAAC,KAAK,CAAC,CAEnD,KAAM,CAAAsQ,WAAW,CAAG,EAAE,CAAG,IAAI,CAAG,IAAI,CAAE;AAEtC,KAAM,CAAAC,WAAW,CAAGrQ,WAAW,CAACuJ,KAAK,EAAI,CACvC,GAAIA,KAAK,GAAK,CAAC,CAAE,MAAO,SAAS,CACjC,KAAM,CAAA+G,CAAC,CAAG,IAAI,CACd,KAAM,CAAAC,EAAE,CAAG,CAAC,CACZ,KAAM,CAAAC,KAAK,CAAG,CAAC,OAAO,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAC,CAC/C,KAAM,CAAAnM,CAAC,CAAGO,IAAI,CAAC6L,KAAK,CAAC7L,IAAI,CAAC8L,GAAG,CAACnH,KAAK,CAAC,CAAG3E,IAAI,CAAC8L,GAAG,CAACJ,CAAC,CAAC,CAAC,CACnD,MAAO,CAAAK,UAAU,CAAC,CAACpH,KAAK,CAAG3E,IAAI,CAACgM,GAAG,CAACN,CAAC,CAAEjM,CAAC,CAAC,EAAEwM,OAAO,CAACN,EAAE,CAAC,CAAC,CAAG,GAAG,CAAGC,KAAK,CAACnM,CAAC,CAAC,CAC1E,CAAC,CAAE,EAAE,CAAC,CAEN,yCACA,KAAM,CAAAyM,gBAAgB,CAAG,KAAM,CAAAC,YAAY,EAAI,CAC7C,KAAM,CAAAC,UAAU,CAAGzF,WAAW,CAACwF,YAAY,CAAC,CAC5C,GAAI,CAACC,UAAU,CAACvF,KAAK,CAAE,CACrBoE,QAAQ,CAACmB,UAAU,CAAC5F,KAAK,CAAC,CAC1B,OACF,CAEA6D,OAAO,CAAC8B,YAAY,CAAC,CACrBlB,QAAQ,CAAC,IAAI,CAAC,CACdE,UAAU,CAAC,IAAI,CAAC,CAChBJ,iBAAiB,CAAC,IAAI,CAAC,CACvBH,eAAe,CAACuB,YAAY,CAAClF,IAAI,CAAC,CAClCsD,cAAc,CAAC,IAAI,CAAC,CACpBE,WAAW,CAAC,CAAC,CAAC,CACdE,kBAAkB,CAAC,YAAY,CAAC,CAEhC,GAAI,CACF,KAAM,CAAA0B,WAAW,CAAG,KAAM,CAAAF,YAAY,CAACE,WAAW,CAAC,CAAC,CAEpD,KAAM,CAAA9K,UAAU,CAAGA,CAAC+K,GAAG,CAAEC,GAAG,GAAK,CAC/B9B,WAAW,CAACzK,IAAI,CAACG,KAAK,CAACmM,GAAG,CAAC,CAAC,CAC5B3B,kBAAkB,CAAC4B,GAAG,CAAC,CACzB,CAAC,CAED,KAAM,CAAAC,MAAM,CAAG,KAAM,CAAAnG,kBAAkB,CAACgG,WAAW,CAAE9K,UAAU,CAAC,CAEhE,KAAM,CAAA9C,IAAI,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC8N,MAAM,CAAC7H,KAAK,CAAC,CAAE,CAAEhG,IAAI,CAAE,iBAAkB,CAAC,CAAC,CAElEoM,iBAAiB,CAACtM,IAAI,CAAC,CACvBoM,iBAAiB,CAACpM,IAAI,CAACwI,IAAI,CAAC,CAC5B+D,YAAY,CAACwB,MAAM,CAAC3K,SAAS,CAAC,CAC9B0I,cAAc,CAAC,KAAK,CAAC,CAErB;AACA,GAAI9L,IAAI,CAACwI,IAAI,CAAGuE,WAAW,CAAE,CAC3BL,UAAU,CACR,sBAAA9O,MAAA,CAAsBoP,WAAW,CAAChN,IAAI,CAACwI,IAAI,CAAC,sIAE9C,CAAC,CACH,CAAC,IAAM,IAAIxI,IAAI,CAACwI,IAAI,EAAIkF,YAAY,CAAClF,IAAI,CAAG,IAAI,CAAE,CAChDkE,UAAU,CACR,UAAA9O,MAAA,CAAU,CAAC,CAAC,CAAC,CAAGoC,IAAI,CAACwI,IAAI,CAAGkF,YAAY,CAAClF,IAAI,EAAI,GAAG,EAAEgF,OAAO,CAAC,CAAC,CAAC,oEAClE,CAAC,CACH,CACF,CAAE,MAAOpM,CAAC,CAAE,CACVyE,OAAO,CAACkC,KAAK,CAAC3G,CAAC,CAAC,CAChBoL,QAAQ,CAACpL,CAAC,WAAY,CAAA4G,KAAK,CAAG5G,CAAC,CAAC6G,OAAO,CAAG,yBAAyB,CAAC,CACpE6D,cAAc,CAAC,KAAK,CAAC,CACrBE,WAAW,CAAC,CAAC,CAAC,CACdE,kBAAkB,CAAC,EAAE,CAAC,CACxB,CACF,CAAC,CAED,oCACA,KAAM,CAAA8B,cAAc,CAAGA,CAAA,GAAM,CAC3B,GAAI,CAAC3B,cAAc,EAAI,CAAClE,IAAI,CAAE,OAC9B,GAAI,CACF,KAAM,CAAAxH,GAAG,CAAGR,GAAG,CAACC,eAAe,CAACiM,cAAc,CAAC,CAC/C,KAAM,CAAA4B,CAAC,CAAGrM,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC,CACrCoM,CAAC,CAACC,IAAI,CAAGvN,GAAG,CACZ,KAAM,CAAA0H,IAAI,CAAGF,IAAI,CAACE,IAAI,CAAC8F,OAAO,CAAC,SAAS,CAAE,EAAE,CAAC,CAC7CF,CAAC,CAAC3D,QAAQ,IAAA1M,MAAA,CAAMyK,IAAI,mBAAiB,CACrCzG,QAAQ,CAACwM,IAAI,CAACC,WAAW,CAACJ,CAAC,CAAC,CAC5BA,CAAC,CAACK,KAAK,CAAC,CAAC,CACT1M,QAAQ,CAACwM,IAAI,CAACG,WAAW,CAACN,CAAC,CAAC,CAC5BO,UAAU,CAAC,IAAMrO,GAAG,CAACmB,eAAe,CAACX,GAAG,CAAC,CAAE,GAAG,CAAC,CACjD,CAAE,MAAOS,CAAC,CAAE,CACVyE,OAAO,CAACkC,KAAK,CAAC3G,CAAC,CAAC,CAChBoL,QAAQ,CAAC,4CAA4C,CAAC,CACxD,CACF,CAAC,CAED,iCACA,KAAM,CAAAiC,WAAW,CAAGA,CAAA,GAAM,CACxB7C,OAAO,CAAC,IAAI,CAAC,CACbU,iBAAiB,CAAC,IAAI,CAAC,CACvBH,eAAe,CAAC,CAAC,CAAC,CAClBC,iBAAiB,CAAC,CAAC,CAAC,CACpBG,YAAY,CAAC,CAAC,CAAC,CACfC,QAAQ,CAAC,IAAI,CAAC,CACdE,UAAU,CAAC,IAAI,CAAC,CAChBV,WAAW,CAAC,CAAC,CAAC,CACdE,kBAAkB,CAAC,EAAE,CAAC,CACtB,GAAIS,YAAY,CAAC+B,OAAO,CAAE/B,YAAY,CAAC+B,OAAO,CAACC,KAAK,CAAG,EAAE,CAC3D,CAAC,CAED,uCACA,KAAM,CAAAC,eAAe,CAAGxN,CAAC,EAAI,CAC3BA,CAAC,CAACyN,cAAc,CAAC,CAAC,CAClBzN,CAAC,CAAC0N,eAAe,CAAC,CAAC,CACnBlC,WAAW,CAAC8B,OAAO,EAAE,CACrB,GAAItN,CAAC,CAAC2N,YAAY,CAACC,KAAK,EAAI5N,CAAC,CAAC2N,YAAY,CAACC,KAAK,CAACC,MAAM,CAAG,CAAC,CAAEnC,aAAa,CAAC,IAAI,CAAC,CAClF,CAAC,CACD,KAAM,CAAAoC,eAAe,CAAG9N,CAAC,EAAI,CAC3BA,CAAC,CAACyN,cAAc,CAAC,CAAC,CAClBzN,CAAC,CAAC0N,eAAe,CAAC,CAAC,CACnBlC,WAAW,CAAC8B,OAAO,EAAE,CACrB,GAAI9B,WAAW,CAAC8B,OAAO,GAAK,CAAC,CAAE5B,aAAa,CAAC,KAAK,CAAC,CACrD,CAAC,CACD,KAAM,CAAAqC,cAAc,CAAG/N,CAAC,EAAI,CAC1BA,CAAC,CAACyN,cAAc,CAAC,CAAC,CAClBzN,CAAC,CAAC0N,eAAe,CAAC,CAAC,CACrB,CAAC,CACD,KAAM,CAAAM,UAAU,CAAGhO,CAAC,EAAI,CACtBA,CAAC,CAACyN,cAAc,CAAC,CAAC,CAClBzN,CAAC,CAAC0N,eAAe,CAAC,CAAC,CACnBhC,aAAa,CAAC,KAAK,CAAC,CACpBF,WAAW,CAAC8B,OAAO,CAAG,CAAC,CACvB,KAAM,CAAAW,KAAK,CAAGjO,CAAC,CAAC2N,YAAY,CAACM,KAAK,CAClC,GAAIA,KAAK,EAAIA,KAAK,CAACJ,MAAM,CAAG,CAAC,CAAExB,gBAAgB,CAAC4B,KAAK,CAAC,CAAC,CAAC,CAAC,CAC3D,CAAC,CAED,sCACA,KAAM,CAAAC,gBAAgB,CAAG9F,YAAY,CAAG,CAAC,CAAC,CAAC,CAAGQ,cAAc,CAAGR,YAAY,EAAI,GAAG,EAAEgE,OAAO,CAAC,CAAC,CAAC,CAAG,CAAC,CAClG,KAAM,CAAA+B,UAAU,CAAG/F,YAAY,CAAGQ,cAAc,CAChD,KAAM,CAAAwF,SAAS,CAAGxF,cAAc,EAAI+C,WAAW,CAE/C,sDACA,mBACEzP,KAAA,QAAKQ,SAAS,kBAAAF,MAAA,CAAmBwN,QAAQ,CAAG,MAAM,CAAG,EAAE,CAAG,CAAAlN,QAAA,eAExDZ,KAAA,QAAKQ,SAAS,CAAC,QAAQ,CAAAI,QAAA,eACrBZ,KAAA,QAAKQ,SAAS,CAAC,WAAW,CAAAI,QAAA,eACxBd,IAAA,QAAKiE,GAAG,CAAEzE,YAAa,CAAC6S,GAAG,CAAC,eAAe,CAAC3R,SAAS,CAAC,YAAY,CAAE,CAAC,cACrEV,IAAA,SAAMU,SAAS,CAAC,YAAY,CAAAI,QAAA,CAAEiN,CAAC,CAAChC,KAAK,CAAO,CAAC,EAC1C,CAAC,cACN7L,KAAA,QAAKQ,SAAS,CAAC,aAAa,CAAAI,QAAA,eAC1Bd,IAAA,WACEU,SAAS,CAAC,UAAU,CACpB4R,OAAO,CAAEA,CAAA,GAAM/G,WAAW,CAACD,QAAQ,GAAK,IAAI,CAAG,IAAI,CAAG,IAAI,CAAE,CAC5D,aAAW,iBAAiB,CAC5BgC,KAAK,CAAEhC,QAAQ,GAAK,IAAI,CAAG,sBAAsB,CAAG,mBAAoB,CAAAxK,QAAA,CAEvEwK,QAAQ,GAAK,IAAI,cAAGtL,IAAA,CAAC4B,kBAAkB,GAAE,CAAC,cAAG5B,IAAA,CAAC+B,eAAe,GAAE,CAAC,CAC3D,CAAC,cACT/B,IAAA,WACEU,SAAS,CAAC,UAAU,CACpB4R,OAAO,CAAEA,CAAA,GAAMrE,WAAW,CAAC,CAACD,QAAQ,CAAE,CACtC,aAAW,cAAc,CACzBV,KAAK,CAAEU,QAAQ,CAAG,sBAAsB,CAAG,qBAAsB,CAAAlN,QAAA,CAEhEkN,QAAQ,cAAGhO,IAAA,CAACwB,OAAO,GAAE,CAAC,cAAGxB,IAAA,CAACuB,QAAQ,GAAE,CAAC,CAChC,CAAC,EACN,CAAC,EACH,CAAC,cAGNvB,IAAA,SAAMU,SAAS,CAAC,cAAc,CAAAI,QAAA,cAC5BZ,KAAA,QAAKQ,SAAS,CAAC,oBAAoB,CAAAI,QAAA,EAEhC,CAACiK,IAAI,cACJ7K,KAAA,QACEQ,SAAS,gBAAAF,MAAA,CAAiBiP,UAAU,CAAG,UAAU,CAAG,EAAE,CAAG,CACzD6C,OAAO,CAAEA,CAAA,QAAAC,qBAAA,QAAAA,qBAAA,CAAMhD,YAAY,CAAC+B,OAAO,UAAAiB,qBAAA,iBAApBA,qBAAA,CAAsBrB,KAAK,CAAC,CAAC,EAAC,CAC7CsB,WAAW,CAAEhB,eAAgB,CAC7BiB,WAAW,CAAEX,eAAgB,CAC7BY,UAAU,CAAEX,cAAe,CAC3BY,MAAM,CAAEX,UAAW,CAAAlR,QAAA,eAEnBd,IAAA,UAAOyH,GAAG,CAAE8H,YAAa,CAACzM,IAAI,CAAC,MAAM,CAAC8P,MAAM,CAAC,sBAAsB,CAACC,MAAM,MAACC,QAAQ,CAAE9O,CAAC,OAAA+O,eAAA,OAAI,CAAA1C,gBAAgB,EAAA0C,eAAA,CAAC/O,CAAC,CAACgP,MAAM,CAACf,KAAK,UAAAc,eAAA,iBAAdA,eAAA,CAAiB,CAAC,CAAC,CAAC,EAAC,CAAE,CAAC,cACnI/S,IAAA,CAACS,UAAU,GAAE,CAAC,cACdT,IAAA,OAAAc,QAAA,CAAKiN,CAAC,CAAC/B,YAAY,CAAK,CAAC,cACzBhM,IAAA,MAAGU,SAAS,CAAC,iBAAiB,CAAAI,QAAA,CAAE2O,UAAU,CAAG1B,CAAC,CAAC9B,QAAQ,CAAG8B,CAAC,CAAC7B,QAAQ,CAAI,CAAC,cACzElM,IAAA,WACEU,SAAS,CAAC,wBAAwB,CAClC4R,OAAO,CAAEtO,CAAC,EAAI,KAAAiP,sBAAA,CACZjP,CAAC,CAAC0N,eAAe,CAAC,CAAC,CACnB,CAAAuB,sBAAA,CAAA1D,YAAY,CAAC+B,OAAO,UAAA2B,sBAAA,iBAApBA,sBAAA,CAAsB/B,KAAK,CAAC,CAAC,CAC/B,CAAE,CAAApQ,QAAA,CAEDiN,CAAC,CAAC5B,UAAU,CACP,CAAC,EACN,CAAC,cAENjM,KAAA,QAAKQ,SAAS,CAAC,uBAAuB,CAAAI,QAAA,eAEpCZ,KAAA,QAAKQ,SAAS,CAAC,WAAW,CAAAI,QAAA,eACxBd,IAAA,CAACoC,QAAQ,GAAE,CAAC,cACZlC,KAAA,QAAKQ,SAAS,CAAC,cAAc,CAAAI,QAAA,eAC3Bd,IAAA,OAAAc,QAAA,CAAKiK,IAAI,CAACE,IAAI,CAAK,CAAC,cACpB/K,KAAA,MAAAY,QAAA,EACGiN,CAAC,CAAC3B,YAAY,CAAC,IAAE,CAACwD,WAAW,CAACxD,YAAY,CAAC,EAC3C,CAAC,CACHpG,SAAS,CAAG,CAAC,eACZ9F,KAAA,MAAGQ,SAAS,CAAC,YAAY,CAAAI,QAAA,EACtBkF,SAAS,CAAC,GAAC,CAACA,SAAS,GAAK,CAAC,CAAG+H,CAAC,CAAC1B,KAAK,CAAG0B,CAAC,CAAC9G,IAAI,EAC9C,CACJ,EACE,CAAC,cACNjH,IAAA,WAAQU,SAAS,CAAC,qBAAqB,CAAC4R,OAAO,CAAEjB,WAAY,CAAC/D,KAAK,CAAES,CAAC,CAACzB,UAAW,CAAC4G,QAAQ,CAAEzE,WAAY,CAAA3N,QAAA,cACvGd,IAAA,CAACmC,SAAS,GAAE,CAAC,CACP,CAAC,EACN,CAAC,CAGLsM,WAAW,eACVvO,KAAA,QAAKQ,SAAS,CAAC,kBAAkB,CAAAI,QAAA,eAC/Bd,IAAA,QAAKU,SAAS,CAAC,cAAc,CAAAI,QAAA,cAC3Bd,IAAA,QAAKU,SAAS,CAAC,eAAe,CAACyS,KAAK,CAAE,CAAEtR,KAAK,IAAArB,MAAA,CAAKmO,QAAQ,KAAI,CAAE,CAAM,CAAC,CACpE,CAAC,cACNzO,KAAA,QAAKQ,SAAS,CAAC,eAAe,CAAAI,QAAA,eAC5Bd,IAAA,MAAGU,SAAS,CAAC,eAAe,CAAAI,QAAA,CAAE+N,eAAe,CAAI,CAAC,cAClD3O,KAAA,MAAGQ,SAAS,CAAC,kBAAkB,CAAAI,QAAA,EAAE6N,QAAQ,CAAC,GAAC,EAAG,CAAC,EAC5C,CAAC,EACH,CACN,CAGAhE,KAAK,eACJzK,KAAA,QAAKQ,SAAS,CAAC,eAAe,CAAAI,QAAA,eAC5Bd,IAAA,CAACwC,SAAS,GAAE,CAAC,cACbtC,KAAA,QAAAY,QAAA,eACEd,IAAA,WAAAc,QAAA,CAASiN,CAAC,CAACpD,KAAK,CAAS,CAAC,cAC1B3K,IAAA,MAAAc,QAAA,CAAI6J,KAAK,CAAI,CAAC,EACX,CAAC,EACH,CACN,CAGA0E,OAAO,EAAI,CAAC1E,KAAK,eAChBzK,KAAA,QAAKQ,SAAS,CAAC,iBAAiB,CAAAI,QAAA,eAC9Bd,IAAA,CAACsC,QAAQ,GAAE,CAAC,cACZpC,KAAA,QAAAY,QAAA,eACEd,IAAA,WAAAc,QAAA,CAASiN,CAAC,CAACxB,IAAI,CAAS,CAAC,cACzBvM,IAAA,MAAAc,QAAA,CAAIuO,OAAO,CAAI,CAAC,EACb,CAAC,EACH,CACN,CAGAJ,cAAc,EAAI,CAACR,WAAW,EAAI,CAAC9D,KAAK,eACvCzK,KAAA,QAAKQ,SAAS,CAAC,gBAAgB,CAAAI,QAAA,eAC7BZ,KAAA,QAAKQ,SAAS,mBAAAF,MAAA,CAAoB4R,SAAS,CAAG,YAAY,CAAG,EAAE,CAAG,CAAAtR,QAAA,EAC/DsR,SAAS,cAAGpS,IAAA,CAACuC,SAAS,GAAE,CAAC,cAAGvC,IAAA,CAACsC,QAAQ,GAAE,CAAC,cACzCpC,KAAA,QAAAY,QAAA,eACEd,IAAA,WAAAc,QAAA,CAASsR,SAAS,CAAGrE,CAAC,CAACvB,qBAAqB,CAAGuB,CAAC,CAACtB,mBAAmB,CAAS,CAAC,cAC9EvM,KAAA,MAAAY,QAAA,EACGiN,CAAC,CAACrB,SAAS,CAAC,GAAC,CAACkD,WAAW,CAACuC,UAAU,CAAC,CAAC,IAAE,CAACD,gBAAgB,CAAC,IAC7D,EAAG,CAAC,EACD,CAAC,EACH,CAAC,CAGLE,SAAS,EAAI9G,QAAQ,GAAK,IAAI,eAC7BtL,IAAA,QAAKmT,KAAK,CAAE,CAAEC,SAAS,CAAE,QAAQ,CAAEC,MAAM,CAAE,QAAS,CAAE,CAAAvS,QAAA,cACpDd,IAAA,QAAKiE,GAAG,CAAExE,UAAW,CAAC4S,GAAG,CAAC,yBAAyB,CAACc,KAAK,CAAE,CAAEG,QAAQ,CAAE,OAAO,CAAEC,YAAY,CAAE,MAAO,CAAE,CAAE,CAAC,CACvG,CACN,cAEDrT,KAAA,QAAKQ,SAAS,CAAC,cAAc,CAAAI,QAAA,eAC3BZ,KAAA,QAAKQ,SAAS,CAAC,WAAW,CAAAI,QAAA,eACxBd,IAAA,SAAMU,SAAS,CAAC,YAAY,CAAAI,QAAA,CAAEiN,CAAC,CAACpB,iBAAiB,CAAO,CAAC,cACzD3M,IAAA,SAAMU,SAAS,CAAC,YAAY,CAAAI,QAAA,CAAE8O,WAAW,CAACxD,YAAY,CAAC,CAAO,CAAC,EAC5D,CAAC,cAENlM,KAAA,QAAKQ,SAAS,CAAC,WAAW,CAAAI,QAAA,eACxBd,IAAA,SAAMU,SAAS,CAAC,YAAY,CAAAI,QAAA,CAAEiN,CAAC,CAACnB,cAAc,CAAO,CAAC,cACtD5M,IAAA,SAAMU,SAAS,eAAAF,MAAA,CAAgB4R,SAAS,CAAG,SAAS,CAAG,SAAS,CAAG,CAAAtR,QAAA,CAAE8O,WAAW,CAAChD,cAAc,CAAC,CAAO,CAAC,EACrG,CAAC,cAEN1M,KAAA,QAAKQ,SAAS,CAAC,WAAW,CAAAI,QAAA,eACxBd,IAAA,SAAMU,SAAS,CAAC,YAAY,CAAAI,QAAA,CAAEiN,CAAC,CAAClB,aAAa,CAAO,CAAC,cACrD3M,KAAA,SAAMQ,SAAS,CAAC,oBAAoB,CAAAI,QAAA,EAAEoR,gBAAgB,CAAC,GAAC,EAAM,CAAC,EAC5D,CAAC,cAENhS,KAAA,QAAKQ,SAAS,CAAC,WAAW,CAAAI,QAAA,eACxBd,IAAA,SAAMU,SAAS,CAAC,YAAY,CAAAI,QAAA,CAAEiN,CAAC,CAACjB,UAAU,CAAO,CAAC,cAClD9M,IAAA,SAAMU,SAAS,CAAC,YAAY,CAAAI,QAAA,CAAE8O,WAAW,CAACuC,UAAU,CAAC,CAAO,CAAC,EAC1D,CAAC,cAENjS,KAAA,QAAKQ,SAAS,CAAC,WAAW,CAAAI,QAAA,eACxBd,IAAA,SAAMU,SAAS,CAAC,YAAY,CAAAI,QAAA,CAAEiN,CAAC,CAAChB,WAAW,CAAO,CAAC,cACnD/M,IAAA,SAAMU,SAAS,eAAAF,MAAA,CAAgB4R,SAAS,CAAG,SAAS,CAAG,SAAS,CAAG,CAAAtR,QAAA,CAAEsR,SAAS,CAAGrE,CAAC,CAACf,GAAG,CAAGe,CAAC,CAACd,QAAQ,CAAO,CAAC,EACxG,CAAC,cAEN/M,KAAA,QAAKQ,SAAS,CAAC,WAAW,CAAAI,QAAA,eACxBd,IAAA,SAAMU,SAAS,CAAC,YAAY,CAAAI,QAAA,CAAEiN,CAAC,CAAC/H,SAAS,CAAO,CAAC,cACjDhG,IAAA,SAAMU,SAAS,CAAC,YAAY,CAAAI,QAAA,CAAEkF,SAAS,CAAO,CAAC,EAC5C,CAAC,EACH,CAAC,cAEN9F,KAAA,QAAKQ,SAAS,CAAC,gBAAgB,CAAAI,QAAA,eAC7BZ,KAAA,WAAQQ,SAAS,CAAC,0BAA0B,CAAC4R,OAAO,CAAE1B,cAAe,CAAA9P,QAAA,eACnEd,IAAA,CAACqB,YAAY,GAAE,CAAC,cAChBrB,IAAA,SAAAc,QAAA,CAAOiN,CAAC,CAACb,QAAQ,CAAO,CAAC,EACnB,CAAC,cACThN,KAAA,WAAQQ,SAAS,CAAC,0BAA0B,CAAC4R,OAAO,CAAEjB,WAAY,CAAAvQ,QAAA,eAChEd,IAAA,CAACqC,YAAY,GAAE,CAAC,cAChBrC,IAAA,SAAAc,QAAA,CAAOiN,CAAC,CAACZ,eAAe,CAAO,CAAC,EAC1B,CAAC,EACN,CAAC,EACH,CACN,EACE,CACN,cAGDjN,KAAA,QAAKQ,SAAS,CAAC,cAAc,CAAAI,QAAA,eAC3BZ,KAAA,QAAKQ,SAAS,CAAC,WAAW,CAAAI,QAAA,eACxBZ,KAAA,QAAKQ,SAAS,CAAC,aAAa,CAAAI,QAAA,eAC1Bd,IAAA,CAACsC,QAAQ,GAAE,CAAC,cACZtC,IAAA,OAAAc,QAAA,CAAKiN,CAAC,CAACX,UAAU,CAAK,CAAC,EACpB,CAAC,cACNpN,IAAA,OAAAc,QAAA,CACGiN,CAAC,CAACV,eAAe,CAACmG,GAAG,CAAC,CAACC,IAAI,CAAE7P,CAAC,gBAC7B1D,KAAA,OAAAY,QAAA,eACEd,IAAA,WAAAc,QAAA,CAAS2S,IAAI,CAACnG,KAAK,CAAS,CAAC,IAAC,CAACmG,IAAI,CAAClG,IAAI,GADjC3J,CAEL,CACL,CAAC,CACA,CAAC,EACF,CAAC,cAEN1D,KAAA,QAAKQ,SAAS,CAAC,WAAW,CAAAI,QAAA,eACxBZ,KAAA,QAAKQ,SAAS,CAAC,aAAa,CAAAI,QAAA,eAC1Bd,IAAA,CAACuC,SAAS,GAAE,CAAC,cACbvC,IAAA,OAAAc,QAAA,CAAKiN,CAAC,CAACP,QAAQ,CAAK,CAAC,EAClB,CAAC,cACNxN,IAAA,OAAAc,QAAA,CACGiN,CAAC,CAACN,aAAa,CAAC+F,GAAG,CAAC,CAACC,IAAI,CAAE7P,CAAC,gBAC3B5D,IAAA,OAAAc,QAAA,cACEd,IAAA,WAAAc,QAAA,CAAS2S,IAAI,CAAS,CAAC,EADhB7P,CAEL,CACL,CAAC,CACA,CAAC,EACF,CAAC,cAEN1D,KAAA,QAAKQ,SAAS,CAAC,WAAW,CAAAI,QAAA,eACxBZ,KAAA,QAAKQ,SAAS,CAAC,aAAa,CAAAI,QAAA,eAC1Bd,IAAA,CAACwC,SAAS,GAAE,CAAC,cACbxC,IAAA,OAAAc,QAAA,CAAKiN,CAAC,CAACL,WAAW,CAAK,CAAC,EACrB,CAAC,cACN1N,IAAA,OAAAc,QAAA,CACGiN,CAAC,CAACJ,gBAAgB,CAAC6F,GAAG,CAAC,CAACC,IAAI,CAAE7P,CAAC,gBAC9B1D,KAAA,OAAAY,QAAA,eACEd,IAAA,WAAAc,QAAA,CAAS2S,IAAI,CAACnG,KAAK,CAAS,CAAC,IAAC,CAACmG,IAAI,CAAClG,IAAI,GADjC3J,CAEL,CACL,CAAC,CACA,CAAC,EACF,CAAC,EACH,CAAC,EACH,CAAC,CACF,CAAC,cAGP5D,IAAA,WAAQU,SAAS,CAAC,QAAQ,CAAAI,QAAA,cACxBZ,KAAA,QAAKQ,SAAS,CAAC,gBAAgB,CAAAI,QAAA,eAC7Bd,IAAA,MAAAc,QAAA,CAAIiN,CAAC,CAACH,MAAM,CAAI,CAAC,cACjB1N,KAAA,MACE4Q,IAAI,CAAC,+CAA+C,CACpDkC,MAAM,CAAC,QAAQ,CACfU,GAAG,CAAC,qBAAqB,CACzBhT,SAAS,CAAC,aAAa,CACvB,aAAW,mBAAmB,CAAAI,QAAA,eAE9Bd,IAAA,CAACkC,UAAU,GAAE,CAAC,cACdlC,IAAA,SAAAc,QAAA,CAAOiN,CAAC,CAACF,UAAU,CAAO,CAAC,EAC1B,CAAC,EACD,CAAC,CACA,CAAC,EACN,CAAC,CAEV,CAEA,wEAEA,cAAe,CAAAxC,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}