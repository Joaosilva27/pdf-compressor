{"ast":null,"code":"import React,{useState,useRef,useCallback}from\"react\";import\"./App.css\";import ConectysLogo from\"./conectys.png\";import RonaldoGif from\"./ronaldo.gif\";import{PDFDocument,PDFName,PDFDict}from\"pdf-lib\";/* ------------------- PDF‑JS IMPORT ------------------- */import*as pdfjsLib from\"pdfjs-dist/legacy/build/pdf\";// Use local worker file from public folder (works for both local and GitHub Pages)\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";pdfjsLib.GlobalWorkerOptions.workerSrc=process.env.PUBLIC_URL?\"\".concat(process.env.PUBLIC_URL,\"/pdf.worker.min.js\"):\"/pdf.worker.min.js\";/* ------------------- ICON COMPONENTS ------------------- */const IconUpload=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon icon-large\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"17 8 12 3 7 8\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"3\",x2:\"12\",y2:\"15\"})]});const IconDownload=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"7 10 12 15 17 10\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"15\",x2:\"12\",y2:\"3\"})]});const IconMoon=()=>/*#__PURE__*/_jsx(\"svg\",{className:\"icon\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\"})});const IconSun=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"5\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"1\",x2:\"12\",y2:\"3\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"21\",x2:\"12\",y2:\"23\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"4.22\",y1:\"4.22\",x2:\"5.64\",y2:\"5.64\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"18.36\",y1:\"18.36\",x2:\"19.78\",y2:\"19.78\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"1\",y1:\"12\",x2:\"3\",y2:\"12\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"21\",y1:\"12\",x2:\"23\",y2:\"12\"})]});const IconPortugueseFlag=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon flag-icon\",viewBox:\"0 0 600 400\",fill:\"none\",children:[/*#__PURE__*/_jsx(\"rect\",{width:\"600\",height:\"400\",fill:\"#FF0000\"}),/*#__PURE__*/_jsx(\"rect\",{width:\"240\",height:\"400\",fill:\"#006600\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"240\",cy:\"200\",r:\"80\",fill:\"#FFD700\",stroke:\"#000\",strokeWidth:\"3\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"240\",cy:\"200\",r:\"60\",fill:\"#FFF\",stroke:\"#000\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"240\",cy:\"200\",r:\"45\",fill:\"#0000FF\",stroke:\"#000\",strokeWidth:\"2\"})]});const IconEnglishFlag=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon flag-icon\",viewBox:\"0 0 60 30\",children:[/*#__PURE__*/_jsx(\"clipPath\",{id:\"s\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M0,0 v30 h60 v-30 z\"})}),/*#__PURE__*/_jsx(\"clipPath\",{id:\"t\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M30,15 h30 v15 z v-15 h-30 z h-30 v15 z v-15 h30 z\"})}),/*#__PURE__*/_jsxs(\"g\",{clipPath:\"url(#s)\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M0,0 v30 h60 v-30 z\",fill:\"#012169\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M0,0 L60,30 M60,0 L0,30\",stroke:\"#fff\",strokeWidth:\"6\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M0,0 L60,30 M60,0 L0,30\",clipPath:\"url(#t)\",stroke:\"#C8102E\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M30,0 v30 M0,15 h60\",stroke:\"#fff\",strokeWidth:\"10\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M30,0 v30 M0,15 h60\",stroke:\"#C8102E\",strokeWidth:\"6\"})]})]});const IconPolishFlag=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon flag-icon\",viewBox:\"0 0 640 400\",children:[/*#__PURE__*/_jsx(\"rect\",{width:\"640\",height:\"400\",fill:\"#DC143C\"}),/*#__PURE__*/_jsx(\"rect\",{width:\"640\",height:\"200\",fill:\"#FFFFFF\"})]});const IconRomanianFlag=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon flag-icon\",viewBox:\"0 0 900 600\",children:[/*#__PURE__*/_jsx(\"rect\",{width:\"300\",height:\"600\",fill:\"#002B7F\"}),/*#__PURE__*/_jsx(\"rect\",{x:\"300\",width:\"300\",height:\"600\",fill:\"#FCD116\"}),/*#__PURE__*/_jsx(\"rect\",{x:\"600\",width:\"300\",height:\"600\",fill:\"#CE1126\"})]});const IconFilipinoFlag=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon flag-icon\",viewBox:\"0 0 1200 600\",children:[/*#__PURE__*/_jsx(\"rect\",{width:\"1200\",height:\"300\",fill:\"#0038A8\"}),/*#__PURE__*/_jsx(\"rect\",{y:\"300\",width:\"1200\",height:\"300\",fill:\"#CE1126\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M 0,0 L 400,300 L 0,600 Z\",fill:\"#FFFFFF\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"200\",cy:\"300\",r:\"80\",fill:\"#FCD116\"}),/*#__PURE__*/_jsxs(\"g\",{fill:\"#FCD116\",children:[/*#__PURE__*/_jsx(\"polygon\",{points:\"200,220 210,260 250,260 218,283 228,323 200,300 172,323 182,283 150,260 190,260\"}),/*#__PURE__*/_jsx(\"polygon\",{points:\"120,180 130,220 170,220 138,243 148,283 120,260 92,283 102,243 70,220 110,220\",transform:\"rotate(-30 200 300)\"}),/*#__PURE__*/_jsx(\"polygon\",{points:\"120,420 130,380 170,380 138,357 148,317 120,340 92,317 102,357 70,380 110,380\",transform:\"rotate(30 200 300)\"})]})]});const IconGitHub=()=>/*#__PURE__*/_jsx(\"svg\",{className:\"github-icon\",viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 .5C5.73.5.5 5.74.5 12.02c0 5.11 3.29 9.45 7.86 10.98.58.11.79-.25.79-.56v-2.02c-3.2.7-3.87-1.55-3.87-1.55-.52-1.33-1.28-1.68-1.28-1.68-1.04-.71.08-.7.08-.7 1.15.08 1.75 1.18 1.75 1.18 1.02 1.75 2.67 1.24 3.32.95.1-.74.4-1.24.72-1.53-2.55-.29-5.23-1.28-5.23-5.69 0-1.26.45-2.3 1.18-3.11-.12-.29-.51-1.45.11-3.02 0 0 .97-.31 3.18 1.19a11.05 11.05 0 0 1 5.8 0c2.2-1.5 3.17-1.19 3.17-1.19.63 1.57.24 2.73.12 3.02.73.81 1.17 1.85 1.17 3.11 0 4.42-2.69 5.39-5.25 5.67.41.35.77 1.04.77 2.1v3.12c0 .31.21.67.8.56A11.52 11.52 0 0 0 23.5 12C23.5 5.74 18.27.5 12 .5z\"})});const IconTrash=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon icon-danger\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"polyline\",{points:\"3 6 5 6 21 6\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M19 6l-1 14a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M10 11v6\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M14 11v6\"})]});const IconFile=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"13 2 13 9 20 9\"})]});const IconCompress=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"polyline\",{points:\"4 14 10 14 10 20\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"20 10 14 10 14 4\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"14\",y1:\"10\",x2:\"21\",y2:\"3\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"3\",y1:\"21\",x2:\"10\",y2:\"14\"})]});const IconSplit=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"rect\",{x:\"3\",y:\"3\",width:\"7\",height:\"18\",rx:\"1\"}),/*#__PURE__*/_jsx(\"rect\",{x:\"14\",y:\"3\",width:\"7\",height:\"7\",rx:\"1\"}),/*#__PURE__*/_jsx(\"rect\",{x:\"14\",y:\"14\",width:\"7\",height:\"7\",rx:\"1\"})]});const IconMerge=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"rect\",{x:\"3\",y:\"3\",width:\"18\",height:\"7\",rx:\"1\"}),/*#__PURE__*/_jsx(\"rect\",{x:\"3\",y:\"14\",width:\"7\",height:\"7\",rx:\"1\"}),/*#__PURE__*/_jsx(\"rect\",{x:\"14\",y:\"14\",width:\"7\",height:\"7\",rx:\"1\"})]});const IconExtract=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"14 2 14 8 20 8\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"9\",y1:\"15\",x2:\"15\",y2:\"15\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"12\",x2:\"12\",y2:\"18\"})]});const IconZoomIn=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"11\",cy:\"11\",r:\"8\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"21\",y1:\"21\",x2:\"16.65\",y2:\"16.65\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"11\",y1:\"8\",x2:\"11\",y2:\"14\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"8\",y1:\"11\",x2:\"14\",y2:\"11\"})]});const IconZoomOut=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"11\",cy:\"11\",r:\"8\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"21\",y1:\"21\",x2:\"16.65\",y2:\"16.65\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"8\",y1:\"11\",x2:\"14\",y2:\"11\"})]});const IconInfo=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"10\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"16\",x2:\"12\",y2:\"12\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"8\",x2:\"12.01\",y2:\"8\"})]});const IconCheck=()=>/*#__PURE__*/_jsx(\"svg\",{className:\"icon icon-success\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:/*#__PURE__*/_jsx(\"polyline\",{points:\"20 6 9 17 4 12\"})});const IconAlert=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"icon icon-warning\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"9\",x2:\"12\",y2:\"13\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"17\",x2:\"12.01\",y2:\"17\"})]});/* ------------------- HELPERS ------------------- */function arrayBufferToBlobUrl(buf,mime){const blob=new Blob([buf],{type:mime});return URL.createObjectURL(blob);}async function reEncodeImage(imgBytes,isJpeg,maxDim,jpegQuality){const mimeIn=isJpeg?\"image/jpeg\":\"image/png\";const url=arrayBufferToBlobUrl(imgBytes,mimeIn);const img=await new Promise((res,rej)=>{const i=new Image();i.onload=()=>res(i);i.onerror=e=>rej(e);i.src=url;});URL.revokeObjectURL(url);let{width,height}=img;if(Math.max(width,height)>maxDim){const scale=maxDim/Math.max(width,height);width=Math.round(width*scale);height=Math.round(height*scale);}const canvas=document.createElement(\"canvas\");canvas.width=width;canvas.height=height;const ctx=canvas.getContext(\"2d\");ctx.drawImage(img,0,0,width,height);const dataUrl=canvas.toDataURL(\"image/jpeg\",jpegQuality);const base64=dataUrl.split(\",\")[1];const outBytes=Uint8Array.from(atob(base64),c=>c.charCodeAt(0));canvas.remove();return outBytes;}/* --------------------------------------------------------------\n   PDF COMPRESSION FUNCTIONS\n   -------------------------------------------------------------- */async function compressPDFFast(pdfBytes,quality,onProgress){const MAX_DIMENSION=Math.round(500+quality/100*2500);const JPEG_QUALITY=0.3+quality/100*0.65;const pdfDoc=await PDFDocument.load(pdfBytes,{ignoreEncryption:true});const pageCount=pdfDoc.getPageCount();onProgress(5,\"Stripping metadata…\");pdfDoc.setTitle(\"\");pdfDoc.setAuthor(\"\");pdfDoc.setSubject(\"\");pdfDoc.setCreator(\"\");pdfDoc.setProducer(\"\");pdfDoc.setKeywords([]);pdfDoc.setCreationDate(new Date(0));pdfDoc.setModificationDate(new Date(0));onProgress(15,\"Cleaning catalog…\");const catalog=pdfDoc.catalog;[\"Metadata\",\"PieceInfo\",\"StructTreeRoot\",\"SpiderInfo\",\"OutputIntents\",\"MarkInfo\"].forEach(key=>{try{catalog.delete(PDFName.of(key));}catch(_){}});onProgress(30,\"Optimising images…\");for(let i=0;i<pageCount;i++){const page=pdfDoc.getPage(i);const resources=page.node.Resources();const xObjDict=resources.lookupMaybe(PDFName.of(\"XObject\"));if(!xObjDict)continue;const entries=xObjDict instanceof PDFDict?xObjDict.entries():[];for(const[key,ref]of entries){var _filter$toString;const obj=pdfDoc.context.lookup(ref);if(!obj||typeof obj.getContents!==\"function\")continue;const subtype=obj.dict.get(PDFName.of(\"Subtype\"));if(!subtype||subtype.toString()!==\"/Image\")continue;const filter=obj.dict.get(PDFName.of(\"Filter\"));const filterStr=(_filter$toString=filter===null||filter===void 0?void 0:filter.toString())!==null&&_filter$toString!==void 0?_filter$toString:\"\";const isJpeg=filterStr.includes(\"DCTDecode\");const imgBytes=obj.getContents();try{const newBytes=await reEncodeImage(imgBytes,isJpeg,MAX_DIMENSION,JPEG_QUALITY);obj.setContents(newBytes);obj.dict.set(PDFName.of(\"Filter\"),PDFName.of(\"DCTDecode\"));}catch(e){console.warn(\"Failed to re\\u2011encode image \".concat(key,\":\"),e);}}onProgress(30+(i+1)/pageCount*40,\"Optimised page \".concat(i+1,\"/\").concat(pageCount));}onProgress(85,\"Saving compressed PDF…\");const compressed=await pdfDoc.save({useObjectStreams:true});onProgress(100,\"Done!\");return{bytes:compressed,pageCount,success:true};}async function compressPDFRaster(pdfBytes,quality,onProgress){const uint8=new Uint8Array(pdfBytes);const loadingTask=pdfjsLib.getDocument({data:uint8,disableAutoFetch:true});const pdf=await loadingTask.promise;const pageCount=pdf.numPages;const SCALE=0.5+quality/100*1.5;const JPEG_QUALITY=0.3+quality/100*0.65;async function rasterisePage(pageNumber){const page=await pdf.getPage(pageNumber);const viewport=page.getViewport({scale:SCALE});const canvas=document.createElement(\"canvas\");canvas.width=viewport.width;canvas.height=viewport.height;const ctx=canvas.getContext(\"2d\");await page.render({canvasContext:ctx,viewport}).promise;const dataUrl=canvas.toDataURL(\"image/jpeg\",JPEG_QUALITY);const base64=dataUrl.split(\",\")[1];const imgBytes=Uint8Array.from(atob(base64),c=>c.charCodeAt(0));canvas.remove();return{imgBytes,width:canvas.width,height:canvas.height};}const newPdf=await PDFDocument.create();for(let i=1;i<=pageCount;i++){onProgress(10+(i-1)/pageCount*80,\"Rasterising page \".concat(i,\"/\").concat(pageCount));const{imgBytes,width,height}=await rasterisePage(i);const jpg=await newPdf.embedJpg(imgBytes);const pg=newPdf.addPage([width,height]);pg.drawImage(jpg,{x:0,y:0,width,height});}onProgress(95,\"Saving rasterised PDF…\");const out=await newPdf.save({useObjectStreams:true});onProgress(100,\"Done!\");return{bytes:out,pageCount,success:true};}async function compressPDFUnified(pdfBytes,quality,onProgress){try{return await compressPDFFast(pdfBytes,quality,onProgress);}catch(fastErr){console.warn(\"Fast compression failed, falling back to rasterisation:\",fastErr);try{return await compressPDFRaster(pdfBytes,quality,onProgress);}catch(rasterErr){console.error(\"Raster fallback also failed:\",rasterErr);throw new Error(\"Both compression methods failed \\u2013 \".concat(rasterErr instanceof Error?rasterErr.message:rasterErr));}}}/* --------------------------------------------------------------\n   PDF SPLITTING FUNCTION\n   -------------------------------------------------------------- */async function splitPDF(pdfBytes,pagesPerSplit,onProgress){onProgress(10,\"Loading PDF…\");const pdfDoc=await PDFDocument.load(pdfBytes,{ignoreEncryption:true});const totalPages=pdfDoc.getPageCount();if(pagesPerSplit<=0||pagesPerSplit>totalPages){throw new Error(\"Invalid pages per split. Must be between 1 and \".concat(totalPages));}const numSplits=Math.ceil(totalPages/pagesPerSplit);const splitPdfs=[];onProgress(20,\"Splitting into \".concat(numSplits,\" PDF\").concat(numSplits>1?\"s\":\"\",\"\\u2026\"));for(let i=0;i<numSplits;i++){const newPdf=await PDFDocument.create();const startPage=i*pagesPerSplit;const endPage=Math.min(startPage+pagesPerSplit,totalPages);onProgress(20+i/numSplits*70,\"Creating split \".concat(i+1,\"/\").concat(numSplits,\"\\u2026\"));// Copy pages to new PDF\nconst pageIndices=Array.from({length:endPage-startPage},(_,idx)=>startPage+idx);const copiedPages=await newPdf.copyPages(pdfDoc,pageIndices);copiedPages.forEach(page=>{newPdf.addPage(page);});const pdfBytes=await newPdf.save();splitPdfs.push({bytes:pdfBytes,startPage:startPage+1,endPage:endPage,name:\"split_\".concat(i+1,\"_pages_\").concat(startPage+1,\"-\").concat(endPage)});}onProgress(100,\"Done!\");return{splits:splitPdfs,totalPages,numSplits};}/* --------------------------------------------------------------\n   PDF MERGING FUNCTION\n   -------------------------------------------------------------- */async function mergePDFs(fileObjects,onProgress){onProgress(10,\"Creating merged PDF…\");const mergedPdf=await PDFDocument.create();let totalPages=0;for(let i=0;i<fileObjects.length;i++){const fileObj=fileObjects[i];onProgress(10+i/fileObjects.length*80,\"Merging \".concat(fileObj.fileName,\"\\u2026\"));const pdfDoc=await PDFDocument.load(fileObj.arrayBuffer,{ignoreEncryption:true});const pageCount=pdfDoc.getPageCount();const pageIndices=Array.from({length:pageCount},(_,idx)=>idx);const copiedPages=await mergedPdf.copyPages(pdfDoc,pageIndices);copiedPages.forEach(page=>{mergedPdf.addPage(page);});totalPages+=pageCount;}onProgress(95,\"Saving merged PDF…\");const mergedBytes=await mergedPdf.save({useObjectStreams:true});onProgress(100,\"Done!\");return{bytes:mergedBytes,totalPages,success:true};}/* --------------------------------------------------------------\n   PDF PAGE EXTRACTION FUNCTION\n   -------------------------------------------------------------- */async function extractPages(pdfBytes,selectedPageIndices,onProgress){onProgress(10,\"Loading PDF…\");const pdfDoc=await PDFDocument.load(pdfBytes,{ignoreEncryption:true});const totalPages=pdfDoc.getPageCount();if(selectedPageIndices.length===0){throw new Error(\"No pages selected for extraction\");}// Validate page indices\nfor(const pageIdx of selectedPageIndices){if(pageIdx<0||pageIdx>=totalPages){throw new Error(\"Invalid page index: \".concat(pageIdx+1,\". PDF has \").concat(totalPages,\" pages.\"));}}onProgress(30,\"Creating new PDF with selected pages…\");const newPdf=await PDFDocument.create();onProgress(50,\"Extracting \".concat(selectedPageIndices.length,\" page\").concat(selectedPageIndices.length!==1?\"s\":\"\",\"\\u2026\"));// Copy selected pages in order\nconst copiedPages=await newPdf.copyPages(pdfDoc,selectedPageIndices);copiedPages.forEach(page=>{newPdf.addPage(page);});onProgress(90,\"Saving extracted PDF…\");const extractedBytes=await newPdf.save({useObjectStreams:true});onProgress(100,\"Done!\");return{bytes:extractedBytes,pageCount:selectedPageIndices.length,success:true};}/* ------------------- VALIDATION ------------------- */function validatePDF(file){if(!file)return{valid:false,error:\"No file selected\"};if(file.type!==\"application/pdf\"&&!file.name.toLowerCase().endsWith(\".pdf\"))return{valid:false,error:\"Please select a valid PDF file\"};if(file.size===0)return{valid:false,error:\"File is empty\"};if(file.size>500*1024*1024)return{valid:false,error:\"File is too large (max 500 MB)\"};return{valid:true};}/* ------------------- MAIN APP COMPONENT ------------------- */function App(){/* ---------- Language ---------- */const[language,setLanguage]=useState(()=>{const saved=localStorage.getItem(\"language\");return saved||\"en\";});React.useEffect(()=>{localStorage.setItem(\"language\",language);},[language]);const translations={en:{brand:\"PDF Multi-Tool\",toolCompressor:\"PDF Compressor\",toolSplitter:\"PDF Splitter\",toolMerger:\"PDF Merger\",toolExtractor:\"Page Extractor\",selectTool:\"Select a Tool\",selectToolDesc:\"Choose the PDF tool you want to use\",// Compressor\nselectOrDrop:\"Select or Drop PDF to Compress\",dropHere:\"Drop your PDF here\",subtitle:\"Fast, secure, client‑side compression\",chooseFile:\"Choose File\",qualityLabel:\"Compression Quality\",qualityLow:\"Max Compression\",qualityHigh:\"Max Quality\",qualityDescription:\"Lower quality = smaller file size, Higher quality = better visual fidelity\",// Splitter\nselectOrDropSplit:\"Select or Drop PDF to Split\",subtitleSplit:\"Split your PDF into multiple files\",pagesPerSplit:\"Pages per Split\",pagesPerSplitDesc:\"How many pages in each split PDF\",splitPreview:\"Split Preview\",willCreate:\"Will create\",pdfs:\"PDFs\",pdf:\"PDF\",// Merger\nselectOrDropMerge:\"Select or Drop PDFs to Merge\",dropMultiple:\"Drop your PDFs here\",subtitleMerge:\"Combine multiple PDFs into one file\",chooseFiles:\"Choose Files\",mergeOrder:\"Merge Order\",fileSelected:\"file selected\",filesSelected:\"files selected\",moveUp:\"Move up\",moveDown:\"Move down\",removeThisFile:\"Remove this file\",startMerge:\"Start Merge\",addMoreFiles:\"Add More Files\",mergeAnother:\"Merge Another Set\",merged:\"Merged\",filesInto:\"files into\",totalSize:\"Total Size\",// Extractor\nselectOrDropExtract:\"Select or Drop PDF to Extract Pages\",subtitleExtract:\"Choose specific pages to extract\",selectPages:\"Select Pages\",selectedPages:\"Selected Pages\",noPages:\"No pages selected\",clickPages:\"Click on pages to select/deselect them\",extractPages:\"Extract Pages\",clearSelection:\"Clear Selection\",selectAll:\"Select All\",extractAnother:\"Extract From Another File\",extractSuccessful:\"Extraction Successful!\",extractComplete:\"Extraction Complete\",extracted:\"Extracted\",pagesExtracted:\"pages\",// Common\noriginalSize:\"Original size\",pages:\"pages\",page:\"page\",removeFile:\"Remove file\",error:\"Error\",note:\"Note\",processing:\"Processing\",download:\"Download\",downloadAll:\"Download All\",backToTools:\"Back to Tools\",// Results\ncompressionSuccessful:\"Compression Successful!\",compressionComplete:\"Compression Complete\",splitSuccessful:\"Split Successful!\",splitComplete:\"Split Complete\",mergeSuccessful:\"Merge Successful!\",mergeComplete:\"Merge Complete\",reducedBy:\"Reduced by\",originalSizeLabel:\"Original Size\",compressedSize:\"Compressed Size\",sizeReduction:\"Size Reduction\",bytesSaved:\"Bytes Saved\",targetLabel:\"10 MB Target\",met:\"✓ Met\",exceeded:\"⚠ Exceeded\",pageCount:\"Page Count\",compressAnother:\"Compress Another File\",splitAnother:\"Split Another File\",footer:\"© 2026 PDF Multi-Tool. Free & Open Source.\",githubText:\"View on GitHub\"},pt:{brand:\"PDF Multi-Ferramenta\",toolCompressor:\"Compressor de PDF\",toolSplitter:\"Divisor de PDF\",toolMerger:\"Unir PDFs\",toolExtractor:\"Extrator de Páginas\",selectTool:\"Seleciona uma Ferramenta\",selectToolDesc:\"Escolhe a ferramenta de PDF que queres usar\",// Compressor\nselectOrDrop:\"Seleciona ou Arrasta o PDF para Comprimir\",dropHere:\"Larga o teu PDF aqui\",subtitle:\"Compressão rápida, segura e local\",chooseFile:\"Escolher Ficheiro\",qualityLabel:\"Qualidade de Compressão\",qualityLow:\"Compressão Máxima\",qualityHigh:\"Qualidade Máxima\",qualityDescription:\"Qualidade baixa = ficheiro mais pequeno, Qualidade alta = melhor fidelidade visual\",// Splitter\nselectOrDropSplit:\"Seleciona ou Arrasta o PDF para Dividir\",subtitleSplit:\"Divide o teu PDF em múltiplos ficheiros\",pagesPerSplit:\"Páginas por Divisão\",pagesPerSplitDesc:\"Quantas páginas em cada PDF dividido\",splitPreview:\"Pré-visualização da Divisão\",willCreate:\"Vai criar\",pdfs:\"PDFs\",pdf:\"PDF\",// Merger\nselectOrDropMerge:\"Seleciona ou Arrasta PDFs para Unir\",dropMultiple:\"Larga os teus PDFs aqui\",subtitleMerge:\"Combina vários PDFs num único ficheiro\",chooseFiles:\"Escolher Ficheiros\",mergeOrder:\"Ordem de União\",fileSelected:\"ficheiro selecionado\",filesSelected:\"ficheiros selecionados\",moveUp:\"Mover para cima\",moveDown:\"Mover para baixo\",removeThisFile:\"Remover este ficheiro\",startMerge:\"Iniciar União\",addMoreFiles:\"Adicionar Mais Ficheiros\",mergeAnother:\"Unir Outro Conjunto\",merged:\"Uniu\",filesInto:\"ficheiros em\",totalSize:\"Tamanho Total\",// Extractor\nselectOrDropExtract:\"Seleciona ou Arrasta PDF para Extrair Páginas\",subtitleExtract:\"Escolhe páginas específicas para extrair\",selectPages:\"Selecionar Páginas\",selectedPages:\"Páginas Selecionadas\",noPages:\"Nenhuma página selecionada\",clickPages:\"Clica nas páginas para selecionar/desselecionar\",extractPages:\"Extrair Páginas\",clearSelection:\"Limpar Seleção\",selectAll:\"Selecionar Todas\",extractAnother:\"Extrair de Outro Ficheiro\",extractSuccessful:\"Extração Bem-Sucedida!\",extractComplete:\"Extração Concluída\",extracted:\"Extraiu\",pagesExtracted:\"páginas\",// Common\noriginalSize:\"Tamanho original\",pages:\"páginas\",page:\"página\",removeFile:\"Remover ficheiro\",error:\"Erro\",note:\"Nota\",processing:\"A processar\",download:\"Descarregar\",downloadAll:\"Descarregar Todos\",backToTools:\"Voltar às Ferramentas\",// Results\ncompressionSuccessful:\"Compressão Bem-Sucedida!\",compressionComplete:\"Compressão Concluída\",splitSuccessful:\"Divisão Bem-Sucedida!\",splitComplete:\"Divisão Concluída\",mergeSuccessful:\"União Bem-Sucedida!\",mergeComplete:\"União Concluída\",reducedBy:\"Reduzido em\",originalSizeLabel:\"Tamanho Original\",compressedSize:\"Tamanho Comprimido\",sizeReduction:\"Redução de Tamanho\",bytesSaved:\"Bytes Poupados\",targetLabel:\"Meta de 10 MB\",met:\"✓ Atingida\",exceeded:\"⚠ Excedida\",pageCount:\"Número de Páginas\",compressAnother:\"Comprimir Outro Ficheiro\",splitAnother:\"Dividir Outro Ficheiro\",footer:\"© 2026 PDF Multi-Ferramenta. Gratuito e Código Aberto.\",githubText:\"Ver no GitHub\"},pl:{brand:\"Narzędzie PDF\",toolCompressor:\"Kompresor PDF\",toolSplitter:\"Dzielenie PDF\",toolMerger:\"Łączenie PDF\",toolExtractor:\"Ekstraktor Stron\",selectTool:\"Wybierz Narzędzie\",selectToolDesc:\"Wybierz narzędzie PDF, którego chcesz użyć\",// Compressor\nselectOrDrop:\"Wybierz lub Upuść PDF do Kompresji\",dropHere:\"Upuść swój PDF tutaj\",subtitle:\"Szybka, bezpieczna kompresja po stronie klienta\",chooseFile:\"Wybierz Plik\",qualityLabel:\"Jakość Kompresji\",qualityLow:\"Maksymalna Kompresja\",qualityHigh:\"Maksymalna Jakość\",qualityDescription:\"Niższa jakość = mniejszy rozmiar pliku, Wyższa jakość = lepsza wierność wizualna\",// Splitter\nselectOrDropSplit:\"Wybierz lub Upuść PDF do Podziału\",subtitleSplit:\"Podziel swój PDF na wiele plików\",pagesPerSplit:\"Stron na Podział\",pagesPerSplitDesc:\"Ile stron w każdym podzielonym PDF\",splitPreview:\"Podgląd Podziału\",willCreate:\"Utworzy\",pdfs:\"plików PDF\",pdf:\"plik PDF\",// Merger\nselectOrDropMerge:\"Wybierz lub Upuść PDF do Połączenia\",dropMultiple:\"Upuść swoje pliki PDF tutaj\",subtitleMerge:\"Połącz wiele plików PDF w jeden\",chooseFiles:\"Wybierz Pliki\",mergeOrder:\"Kolejność Łączenia\",fileSelected:\"plik wybrany\",filesSelected:\"pliki wybrane\",moveUp:\"Przesuń w górę\",moveDown:\"Przesuń w dół\",removeThisFile:\"Usuń ten plik\",startMerge:\"Rozpocznij Łączenie\",addMoreFiles:\"Dodaj Więcej Plików\",mergeAnother:\"Połącz Kolejny Zestaw\",merged:\"Połączono\",filesInto:\"plików w\",totalSize:\"Całkowity Rozmiar\",// Extractor\nselectOrDropExtract:\"Wybierz lub Upuść PDF do Wyodrębnienia Stron\",subtitleExtract:\"Wybierz konkretne strony do wyodrębnienia\",selectPages:\"Wybierz Strony\",selectedPages:\"Wybrane Strony\",noPages:\"Nie wybrano stron\",clickPages:\"Kliknij strony, aby je wybrać/odznaczyć\",extractPages:\"Wyodrębnij Strony\",clearSelection:\"Wyczyść Wybór\",selectAll:\"Zaznacz Wszystkie\",extractAnother:\"Wyodrębnij z Innego Pliku\",extractSuccessful:\"Wyodrębnienie Udane!\",extractComplete:\"Wyodrębnienie Zakończone\",extracted:\"Wyodrębniono\",pagesExtracted:\"stron\",// Common\noriginalSize:\"Oryginalny rozmiar\",pages:\"stron\",page:\"strona\",removeFile:\"Usuń plik\",error:\"Błąd\",note:\"Uwaga\",processing:\"Przetwarzanie\",download:\"Pobierz\",downloadAll:\"Pobierz Wszystkie\",backToTools:\"Powrót do Narzędzi\",// Results\ncompressionSuccessful:\"Kompresja Udana!\",compressionComplete:\"Kompresja Zakończona\",splitSuccessful:\"Podział Udany!\",splitComplete:\"Podział Zakończony\",mergeSuccessful:\"Łączenie Udane!\",mergeComplete:\"Łączenie Zakończone\",reducedBy:\"Zmniejszono o\",originalSizeLabel:\"Oryginalny Rozmiar\",compressedSize:\"Rozmiar Skompresowany\",sizeReduction:\"Redukcja Rozmiaru\",bytesSaved:\"Zaoszczędzone Bajty\",targetLabel:\"Cel 10 MB\",met:\"✓ Osiągnięty\",exceeded:\"⚠ Przekroczony\",pageCount:\"Liczba Stron\",compressAnother:\"Kompresuj Inny Plik\",splitAnother:\"Podziel Inny Plik\",footer:\"© 2026 Narzędzie PDF. Darmowe i Open Source.\",githubText:\"Zobacz na GitHub\"},ro:{brand:\"Instrument PDF\",toolCompressor:\"Compresor PDF\",toolSplitter:\"Împărțire PDF\",toolMerger:\"Unire PDF\",toolExtractor:\"Extractor Pagini\",selectTool:\"Selectează un Instrument\",selectToolDesc:\"Alege instrumentul PDF pe care vrei să-l folosești\",// Compressor\nselectOrDrop:\"Selectează sau Trage PDF pentru Comprimare\",dropHere:\"Pune PDF-ul tău aici\",subtitle:\"Comprimare rapidă, sigură, pe partea clientului\",chooseFile:\"Alege Fișier\",qualityLabel:\"Calitatea Comprimării\",qualityLow:\"Comprimare Maximă\",qualityHigh:\"Calitate Maximă\",qualityDescription:\"Calitate mai mică = fișier mai mic, Calitate mai mare = fidelitate vizuală mai bună\",// Splitter\nselectOrDropSplit:\"Selectează sau Trage PDF pentru Împărțire\",subtitleSplit:\"Împarte PDF-ul tău în mai multe fișiere\",pagesPerSplit:\"Pagini per Împărțire\",pagesPerSplitDesc:\"Câte pagini în fiecare PDF împărțit\",splitPreview:\"Previzualizare Împărțire\",willCreate:\"Va crea\",pdfs:\"fișiere PDF\",pdf:\"fișier PDF\",// Merger\nselectOrDropMerge:\"Selectează sau Trage PDF-uri pentru Unire\",dropMultiple:\"Pune PDF-urile tale aici\",subtitleMerge:\"Combină mai multe PDF-uri într-un singur fișier\",chooseFiles:\"Alege Fișiere\",mergeOrder:\"Ordinea de Unire\",fileSelected:\"fișier selectat\",filesSelected:\"fișiere selectate\",moveUp:\"Mută în sus\",moveDown:\"Mută în jos\",removeThisFile:\"Elimină acest fișier\",startMerge:\"Începe Unirea\",addMoreFiles:\"Adaugă Mai Multe Fișiere\",mergeAnother:\"Unește Alt Set\",merged:\"Unit\",filesInto:\"fișiere în\",totalSize:\"Dimensiune Totală\",// Extractor\nselectOrDropExtract:\"Selectează sau Trage PDF pentru Extragere Pagini\",subtitleExtract:\"Alege pagini specifice pentru extragere\",selectPages:\"Selectează Pagini\",selectedPages:\"Pagini Selectate\",noPages:\"Nicio pagină selectată\",clickPages:\"Dă click pe pagini pentru a le selecta/deselecta\",extractPages:\"Extrage Pagini\",clearSelection:\"Șterge Selecția\",selectAll:\"Selectează Toate\",extractAnother:\"Extrage din Alt Fișier\",extractSuccessful:\"Extragere Reușită!\",extractComplete:\"Extragere Completă\",extracted:\"Extras\",pagesExtracted:\"pagini\",// Common\noriginalSize:\"Dimensiune originală\",pages:\"pagini\",page:\"pagină\",removeFile:\"Elimină fișier\",error:\"Eroare\",note:\"Notă\",processing:\"Se procesează\",download:\"Descarcă\",downloadAll:\"Descarcă Toate\",backToTools:\"Înapoi la Instrumente\",// Results\ncompressionSuccessful:\"Comprimare Reușită!\",compressionComplete:\"Comprimare Completă\",splitSuccessful:\"Împărțire Reușită!\",splitComplete:\"Împărțire Completă\",mergeSuccessful:\"Unire Reușită!\",mergeComplete:\"Unire Completă\",reducedBy:\"Redus cu\",originalSizeLabel:\"Dimensiune Originală\",compressedSize:\"Dimensiune Comprimată\",sizeReduction:\"Reducere Dimensiune\",bytesSaved:\"Octeți Economisiți\",targetLabel:\"Țintă 10 MB\",met:\"✓ Atins\",exceeded:\"⚠ Depășit\",pageCount:\"Număr Pagini\",compressAnother:\"Comprimă Alt Fișier\",splitAnother:\"Împarte Alt Fișier\",footer:\"© 2026 Instrument PDF. Gratuit & Open Source.\",githubText:\"Vezi pe GitHub\"},fil:{brand:\"PDF Multi-Tool\",toolCompressor:\"PDF Compressor\",toolSplitter:\"Paghahati ng PDF\",toolMerger:\"Pagsasama ng PDF\",toolExtractor:\"Tagakuha ng Pahina\",selectTool:\"Pumili ng Tool\",selectToolDesc:\"Piliin ang PDF tool na gusto mong gamitin\",// Compressor\nselectOrDrop:\"Pumili o I-drop ang PDF para i-compress\",dropHere:\"I-drop ang iyong PDF dito\",subtitle:\"Mabilis, secure, client-side compression\",chooseFile:\"Pumili ng File\",qualityLabel:\"Kalidad ng Compression\",qualityLow:\"Maximum Compression\",qualityHigh:\"Maximum na Kalidad\",qualityDescription:\"Mas mababang kalidad = mas maliit na file, Mas mataas na kalidad = mas magandang visual\",// Splitter\nselectOrDropSplit:\"Pumili o I-drop ang PDF para hatiin\",subtitleSplit:\"Hatiin ang iyong PDF sa maraming file\",pagesPerSplit:\"Mga Pahina bawat Hati\",pagesPerSplitDesc:\"Ilang pahina sa bawat nahatiang PDF\",splitPreview:\"Preview ng Paghahati\",willCreate:\"Gagawa ng\",pdfs:\"mga PDF\",pdf:\"PDF\",// Merger\nselectOrDropMerge:\"Pumili o I-drop ang mga PDF para pagsamahin\",dropMultiple:\"I-drop ang iyong mga PDF dito\",subtitleMerge:\"Pagsamahin ang maraming PDF sa isang file\",chooseFiles:\"Pumili ng mga File\",mergeOrder:\"Pagkakasunod-sunod ng Pagsasama\",fileSelected:\"file na napili\",filesSelected:\"mga file na napili\",moveUp:\"Ilipat pataas\",moveDown:\"Ilipat pababa\",removeThisFile:\"Alisin ang file na ito\",startMerge:\"Simulan ang Pagsasama\",addMoreFiles:\"Magdagdag ng Higit pang mga File\",mergeAnother:\"Pagsamahin ang Iba Pang Set\",merged:\"Pinagsama\",filesInto:\"mga file sa\",totalSize:\"Kabuuang Laki\",// Extractor\nselectOrDropExtract:\"Pumili o I-drop ang PDF para Kunin ang mga Pahina\",subtitleExtract:\"Pumili ng mga partikular na pahina para kunin\",selectPages:\"Pumili ng mga Pahina\",selectedPages:\"Mga Napiling Pahina\",noPages:\"Walang napiling pahina\",clickPages:\"I-click ang mga pahina para piliin/alisin sa pagpili\",extractPages:\"Kunin ang mga Pahina\",clearSelection:\"I-clear ang Pagpili\",selectAll:\"Piliin Lahat\",extractAnother:\"Kunin mula sa Ibang File\",extractSuccessful:\"Matagumpay ang Pagkuha!\",extractComplete:\"Kumpleto ang Pagkuha\",extracted:\"Kinuha\",pagesExtracted:\"mga pahina\",// Common\noriginalSize:\"Orihinal na laki\",pages:\"mga pahina\",page:\"pahina\",removeFile:\"Alisin ang file\",error:\"Error\",note:\"Paalala\",processing:\"Pinoproseso\",download:\"I-download\",downloadAll:\"I-download Lahat\",backToTools:\"Bumalik sa mga Tool\",// Results\ncompressionSuccessful:\"Matagumpay ang Compression!\",compressionComplete:\"Kumpleto ang Compression\",splitSuccessful:\"Matagumpay ang Paghahati!\",splitComplete:\"Kumpleto ang Paghahati\",mergeSuccessful:\"Matagumpay ang Pagsasama!\",mergeComplete:\"Kumpleto ang Pagsasama\",reducedBy:\"Nabawasan ng\",originalSizeLabel:\"Orihinal na Laki\",compressedSize:\"Laki ng Compressed\",sizeReduction:\"Pagbawas ng Laki\",bytesSaved:\"Mga Byte na Naipon\",targetLabel:\"Target na 10 MB\",met:\"✓ Naabot\",exceeded:\"⚠ Lumampas\",pageCount:\"Bilang ng Pahina\",compressAnother:\"I-compress ang Ibang File\",splitAnother:\"Hatiin ang Ibang File\",footer:\"© 2026 PDF Multi-Tool. Libre at Open Source.\",githubText:\"Tingnan sa GitHub\"}};const t=translations[language];/* ---------- Theme ---------- */const[darkMode,setDarkMode]=useState(()=>{const saved=localStorage.getItem(\"theme\");return saved===\"dark\"||!saved&&window.matchMedia(\"(prefers-color-scheme: dark)\").matches;});React.useEffect(()=>{localStorage.setItem(\"theme\",darkMode?\"dark\":\"light\");document.documentElement.classList.toggle(\"dark\",darkMode);},[darkMode]);/* ---------- Tool Selection ---------- */const[selectedTool,setSelectedTool]=useState(null);// 'compressor' or 'splitter' or 'merger'\n/* ---------- State ---------- */const[file,setFile]=useState(null);const[processing,setProcessing]=useState(false);const[progress,setProgress]=useState(0);const[progressMessage,setProgressMessage]=useState(\"\");const[originalSize,setOriginalSize]=useState(0);const[pageCount,setPageCount]=useState(0);const[error,setError]=useState(null);const[warning,setWarning]=useState(null);// Compressor specific\nconst[quality,setQuality]=useState(60);const[compressedSize,setCompressedSize]=useState(0);const[compressedBlob,setCompressedBlob]=useState(null);// Splitter specific\nconst[pagesPerSplit,setPagesPerSplit]=useState(5);const[splitResults,setSplitResults]=useState(null);// Merger specific\nconst[mergeFiles,setMergeFiles]=useState([]);const[mergedBlob,setMergedBlob]=useState(null);const[mergedSize,setMergedSize]=useState(0);// Extractor specific\nconst[extractFile,setExtractFile]=useState(null);const[pdfPages,setPdfPages]=useState([]);const[selectedPages,setSelectedPages]=useState(new Set());const[extractedBlob,setExtractedBlob]=useState(null);const[extractedSize,setExtractedSize]=useState(0);const[loadingPages,setLoadingPages]=useState(false);const[thumbnailZoom,setThumbnailZoom]=useState(150);// Default 150px\nconst fileInputRef=useRef(null);const dragCounter=useRef(0);const[isDragging,setIsDragging]=useState(false);const TARGET_SIZE=10*1024*1024;// 10 MB\nconst formatBytes=useCallback(bytes=>{if(bytes===0)return\"0 Bytes\";const k=1024;const dm=2;const sizes=[\"Bytes\",\"KB\",\"MB\",\"GB\",\"TB\"];const i=Math.floor(Math.log(bytes)/Math.log(k));return parseFloat((bytes/Math.pow(k,i)).toFixed(dm))+\" \"+sizes[i];},[]);const cycleLanguage=()=>{const languages=[\"en\",\"pt\",\"pl\",\"ro\",\"fil\"];const currentIndex=languages.indexOf(language);const nextIndex=(currentIndex+1)%languages.length;setLanguage(languages[nextIndex]);};const getLanguageFlag=()=>{switch(language){case\"en\":return/*#__PURE__*/_jsx(IconEnglishFlag,{});case\"pt\":return/*#__PURE__*/_jsx(IconPortugueseFlag,{});case\"pl\":return/*#__PURE__*/_jsx(IconPolishFlag,{});case\"ro\":return/*#__PURE__*/_jsx(IconRomanianFlag,{});case\"fil\":return/*#__PURE__*/_jsx(IconFilipinoFlag,{});default:return/*#__PURE__*/_jsx(IconEnglishFlag,{});}};const getLanguageName=()=>{switch(language){case\"en\":return\"English\";case\"pt\":return\"Português\";case\"pl\":return\"Polski\";case\"ro\":return\"Română\";case\"fil\":return\"Filipino\";default:return\"English\";}};/* ---------- File handling - COMPRESSOR ---------- */const handleCompressFile=async selectedFile=>{const validation=validatePDF(selectedFile);if(!validation.valid){setError(validation.error);return;}setFile(selectedFile);setError(null);setWarning(null);setCompressedBlob(null);setOriginalSize(selectedFile.size);setProcessing(true);setProgress(0);setProgressMessage(\"Preparing…\");try{const arrayBuffer=await selectedFile.arrayBuffer();const onProgress=(pct,msg)=>{setProgress(Math.round(pct));setProgressMessage(msg);};const result=await compressPDFUnified(arrayBuffer,quality,onProgress);const blob=new Blob([result.bytes],{type:\"application/pdf\"});setCompressedBlob(blob);setCompressedSize(blob.size);setPageCount(result.pageCount);setProcessing(false);if(blob.size>TARGET_SIZE){setWarning(\"Compressed file is \".concat(formatBytes(blob.size),\" \\u2013 still above the 10 MB target. \")+\"The PDF may contain complex graphics that cannot be reduced further without quality loss.\");}else if(blob.size>=selectedFile.size*0.95){setWarning(\"Only a \".concat(((1-blob.size/selectedFile.size)*100).toFixed(1),\" % size reduction. \")+\"The original PDF may already be optimised.\");}}catch(e){console.error(e);setError(e instanceof Error?e.message:\"Failed to compress PDF.\");setProcessing(false);setProgress(0);setProgressMessage(\"\");}};/* ---------- File handling - SPLITTER ---------- */const handleSplitFile=async selectedFile=>{const validation=validatePDF(selectedFile);if(!validation.valid){setError(validation.error);return;}setFile(selectedFile);setError(null);setWarning(null);setSplitResults(null);setOriginalSize(selectedFile.size);setProcessing(true);setProgress(0);setProgressMessage(\"Preparing…\");try{const arrayBuffer=await selectedFile.arrayBuffer();const onProgress=(pct,msg)=>{setProgress(Math.round(pct));setProgressMessage(msg);};const result=await splitPDF(arrayBuffer,pagesPerSplit,onProgress);setSplitResults(result);setPageCount(result.totalPages);setProcessing(false);}catch(e){console.error(e);setError(e instanceof Error?e.message:\"Failed to split PDF.\");setProcessing(false);setProgress(0);setProgressMessage(\"\");}};/* ---------- Handle file selection based on tool ---------- */const handleFileSelect=selectedFile=>{if(selectedTool===\"compressor\"){handleCompressFile(selectedFile);}else if(selectedTool===\"splitter\"){handleSplitFile(selectedFile);}else if(selectedTool===\"extractor\"){handleExtractFile(selectedFile);}};/* ---------- Recompress with new quality ---------- */const handleRecompress=async()=>{if(!file)return;handleCompressFile(file);};/* ---------- Re-split with new pages per split ---------- */const handleResplit=async()=>{if(!file)return;handleSplitFile(file);};/* ---------- File handling - MERGER ---------- */const handleMergeFiles=async selectedFiles=>{if(!selectedFiles||selectedFiles.length===0)return;const newFiles=[];let totalSize=0;for(const file of selectedFiles){const validation=validatePDF(file);if(!validation.valid){setError(\"\".concat(file.name,\": \").concat(validation.error));continue;}const arrayBuffer=await file.arrayBuffer();newFiles.push({file,arrayBuffer,fileName:file.name,size:file.size,id:Date.now()+Math.random()});totalSize+=file.size;}if(newFiles.length>0){setMergeFiles(prev=>[...prev,...newFiles]);setOriginalSize(prev=>prev+totalSize);}};const handleRemoveMergeFile=id=>{setMergeFiles(prev=>{const fileToRemove=prev.find(f=>f.id===id);if(fileToRemove){setOriginalSize(prevSize=>prevSize-fileToRemove.size);}return prev.filter(f=>f.id!==id);});};const handleMoveMergeFile=(id,direction)=>{setMergeFiles(prev=>{const index=prev.findIndex(f=>f.id===id);if(index===-1)return prev;const newIndex=direction===\"up\"?index-1:index+1;if(newIndex<0||newIndex>=prev.length)return prev;const newFiles=[...prev];[newFiles[index],newFiles[newIndex]]=[newFiles[newIndex],newFiles[index]];return newFiles;});};const handleStartMerge=async()=>{if(mergeFiles.length<2){setError(\"Please select at least 2 PDF files to merge\");return;}setError(null);setWarning(null);setMergedBlob(null);setProcessing(true);setProgress(0);setProgressMessage(\"Preparing…\");try{const onProgress=(pct,msg)=>{setProgress(Math.round(pct));setProgressMessage(msg);};const result=await mergePDFs(mergeFiles,onProgress);const blob=new Blob([result.bytes],{type:\"application/pdf\"});setMergedBlob(blob);setMergedSize(blob.size);setPageCount(result.totalPages);setProcessing(false);}catch(e){console.error(e);setError(e instanceof Error?e.message:\"Failed to merge PDFs.\");setProcessing(false);setProgress(0);setProgressMessage(\"\");}};/* ---------- File handling - EXTRACTOR ---------- */const handleExtractFile=async selectedFile=>{const validation=validatePDF(selectedFile);if(!validation.valid){setError(validation.error);return;}setExtractFile(selectedFile);setError(null);setWarning(null);setExtractedBlob(null);setSelectedPages(new Set());setOriginalSize(selectedFile.size);setLoadingPages(true);try{const arrayBuffer=await selectedFile.arrayBuffer();// Load PDF with pdf.js for rendering\nconst uint8=new Uint8Array(arrayBuffer);const loadingTask=pdfjsLib.getDocument({data:uint8,disableAutoFetch:true});const pdf=await loadingTask.promise;const numPages=pdf.numPages;setPageCount(numPages);// Render all pages as thumbnails\nconst pages=[];const SCALE=1.5;// Increased scale for better quality (was 0.3)\nfor(let pageNum=1;pageNum<=numPages;pageNum++){const page=await pdf.getPage(pageNum);const viewport=page.getViewport({scale:SCALE});const canvas=document.createElement(\"canvas\");canvas.width=viewport.width;canvas.height=viewport.height;const ctx=canvas.getContext(\"2d\");await page.render({canvasContext:ctx,viewport}).promise;// Use PNG for better quality instead of JPEG\nconst dataUrl=canvas.toDataURL(\"image/png\");canvas.remove();pages.push({pageNumber:pageNum,thumbnail:dataUrl,width:viewport.width,height:viewport.height});}setPdfPages(pages);setLoadingPages(false);}catch(e){console.error(e);setError(e instanceof Error?e.message:\"Failed to load PDF.\");setLoadingPages(false);}};const togglePageSelection=pageNumber=>{setSelectedPages(prev=>{const newSet=new Set(prev);if(newSet.has(pageNumber)){newSet.delete(pageNumber);}else{newSet.add(pageNumber);}return newSet;});};const handleSelectAllPages=()=>{if(selectedPages.size===pageCount){setSelectedPages(new Set());}else{setSelectedPages(new Set(Array.from({length:pageCount},(_,i)=>i+1)));}};const handleClearSelection=()=>{setSelectedPages(new Set());};const handleZoomIn=()=>{setThumbnailZoom(prev=>Math.min(prev+50,400));// Max 400px\n};const handleZoomOut=()=>{setThumbnailZoom(prev=>Math.max(prev-50,100));// Min 100px\n};const handleStartExtraction=async()=>{if(selectedPages.size===0){setError(\"Please select at least one page to extract\");return;}if(!extractFile){setError(\"No file loaded\");return;}setError(null);setWarning(null);setExtractedBlob(null);setProcessing(true);setProgress(0);setProgressMessage(\"Preparing…\");try{const arrayBuffer=await extractFile.arrayBuffer();const onProgress=(pct,msg)=>{setProgress(Math.round(pct));setProgressMessage(msg);};// Convert page numbers to 0-based indices and sort them\nconst pageIndices=Array.from(selectedPages).sort((a,b)=>a-b).map(p=>p-1);const result=await extractPages(arrayBuffer,pageIndices,onProgress);const blob=new Blob([result.bytes],{type:\"application/pdf\"});setExtractedBlob(blob);setExtractedSize(blob.size);setProcessing(false);}catch(e){console.error(e);setError(e instanceof Error?e.message:\"Failed to extract pages.\");setProcessing(false);setProgress(0);setProgressMessage(\"\");}};/* ---------- Download - MERGER ---------- */const handleDownloadMerged=()=>{if(!mergedBlob)return;try{const url=URL.createObjectURL(mergedBlob);const a=document.createElement(\"a\");a.href=url;a.download=\"merged_\".concat(Date.now(),\".pdf\");document.body.appendChild(a);a.click();document.body.removeChild(a);setTimeout(()=>URL.revokeObjectURL(url),100);}catch(e){console.error(e);setError(\"Failed to download file. Please try again.\");}};/* ---------- Download - COMPRESSOR ---------- */const handleDownloadCompressed=()=>{if(!compressedBlob||!file)return;try{const url=URL.createObjectURL(compressedBlob);const a=document.createElement(\"a\");a.href=url;const name=file.name.replace(/\\.pdf$/i,\"\");a.download=\"\".concat(name,\"_compressed.pdf\");document.body.appendChild(a);a.click();document.body.removeChild(a);setTimeout(()=>URL.revokeObjectURL(url),100);}catch(e){console.error(e);setError(\"Failed to download file. Please try again.\");}};/* ---------- Download - SPLITTER ---------- */const handleDownloadSplit=splitData=>{try{const blob=new Blob([splitData.bytes],{type:\"application/pdf\"});const url=URL.createObjectURL(blob);const a=document.createElement(\"a\");a.href=url;const baseName=file.name.replace(/\\.pdf$/i,\"\");a.download=\"\".concat(baseName,\"_\").concat(splitData.name,\".pdf\");document.body.appendChild(a);a.click();document.body.removeChild(a);setTimeout(()=>URL.revokeObjectURL(url),100);}catch(e){console.error(e);setError(\"Failed to download file. Please try again.\");}};const handleDownloadAllSplits=()=>{if(!splitResults)return;splitResults.splits.forEach(split=>{setTimeout(()=>handleDownloadSplit(split),100);});};/* ---------- Download - EXTRACTOR ---------- */const handleDownloadExtracted=()=>{if(!extractedBlob||!extractFile)return;try{const url=URL.createObjectURL(extractedBlob);const a=document.createElement(\"a\");a.href=url;const name=extractFile.name.replace(/\\.pdf$/i,\"\");const pagesList=Array.from(selectedPages).sort((a,b)=>a-b).join(\"_\");a.download=\"\".concat(name,\"_pages_\").concat(pagesList,\".pdf\");document.body.appendChild(a);a.click();document.body.removeChild(a);setTimeout(()=>URL.revokeObjectURL(url),100);}catch(e){console.error(e);setError(\"Failed to download file. Please try again.\");}};/* ---------- Reset ---------- */const handleReset=()=>{setFile(null);setCompressedBlob(null);setSplitResults(null);setOriginalSize(0);setCompressedSize(0);setPageCount(0);setError(null);setMergeFiles([]);setMergedBlob(null);setMergedSize(0);setExtractFile(null);setPdfPages([]);setSelectedPages(new Set());setExtractedBlob(null);setExtractedSize(0);setLoadingPages(false);setThumbnailZoom(150);setWarning(null);setProgress(0);setProgressMessage(\"\");if(fileInputRef.current)fileInputRef.current.value=\"\";};const handleBackToTools=()=>{handleReset();setSelectedTool(null);};/* ---------- Drag & Drop ---------- */const handleDragEnter=e=>{e.preventDefault();e.stopPropagation();dragCounter.current++;if(e.dataTransfer.items&&e.dataTransfer.items.length>0)setIsDragging(true);};const handleDragLeave=e=>{e.preventDefault();e.stopPropagation();dragCounter.current--;if(dragCounter.current===0)setIsDragging(false);};const handleDragOver=e=>{e.preventDefault();e.stopPropagation();};const handleDrop=e=>{e.preventDefault();e.stopPropagation();setIsDragging(false);dragCounter.current=0;const files=e.dataTransfer.files;if(files&&files.length>0){if(selectedTool===\"merger\"){handleMergeFiles(files);}else{handleFileSelect(files[0]);}}};/* ---------- Statistics ---------- */const compressionRatio=originalSize&&compressedSize?((1-compressedSize/originalSize)*100).toFixed(1):0;const savedBytes=originalSize-compressedSize;const metTarget=compressedSize<=TARGET_SIZE;const numSplits=pageCount?Math.ceil(pageCount/pagesPerSplit):0;/*===================== RENDER =====================*/return/*#__PURE__*/_jsxs(\"div\",{className:\"app-container \".concat(darkMode?\"dark\":\"\"),children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"nav-brand\",children:[/*#__PURE__*/_jsx(\"img\",{src:ConectysLogo,alt:\"Conectys Logo\",className:\"brand-logo\"}),/*#__PURE__*/_jsx(\"span\",{className:\"brand-text\",children:t.brand})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"nav-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon\",onClick:cycleLanguage,\"aria-label\":\"Toggle language\",title:\"Language: \".concat(getLanguageName()),children:getLanguageFlag()}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon\",onClick:()=>setDarkMode(!darkMode),\"aria-label\":\"Toggle theme\",title:darkMode?\"Switch to light mode\":\"Switch to dark mode\",children:darkMode?/*#__PURE__*/_jsx(IconSun,{}):/*#__PURE__*/_jsx(IconMoon,{})})]})]}),/*#__PURE__*/_jsx(\"main\",{className:\"main-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"compress-container\",children:[!selectedTool&&!file&&mergeFiles.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"tool-selection\",children:[/*#__PURE__*/_jsx(\"h2\",{children:t.selectTool}),/*#__PURE__*/_jsx(\"p\",{className:\"tool-selection-desc\",children:t.selectToolDesc}),/*#__PURE__*/_jsxs(\"div\",{className:\"tool-buttons\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"tool-button\",onClick:()=>setSelectedTool(\"compressor\"),children:[/*#__PURE__*/_jsx(IconCompress,{}),/*#__PURE__*/_jsx(\"span\",{children:t.toolCompressor})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"tool-button\",onClick:()=>setSelectedTool(\"splitter\"),children:[/*#__PURE__*/_jsx(IconSplit,{}),/*#__PURE__*/_jsx(\"span\",{children:t.toolSplitter})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"tool-button\",onClick:()=>setSelectedTool(\"merger\"),children:[/*#__PURE__*/_jsx(IconMerge,{}),/*#__PURE__*/_jsx(\"span\",{children:t.toolMerger})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"tool-button\",onClick:()=>setSelectedTool(\"extractor\"),children:[/*#__PURE__*/_jsx(IconExtract,{}),/*#__PURE__*/_jsx(\"span\",{children:t.toolExtractor})]})]})]}),selectedTool===\"compressor\"&&!file&&/*#__PURE__*/_jsxs(\"div\",{className:\"upload-area \".concat(isDragging?\"dragging\":\"\"),onClick:()=>{var _fileInputRef$current;return(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();},onDragEnter:handleDragEnter,onDragLeave:handleDragLeave,onDragOver:handleDragOver,onDrop:handleDrop,children:[/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",accept:\".pdf,application/pdf\",hidden:true,onChange:e=>{var _e$target$files;return handleFileSelect((_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0]);}}),/*#__PURE__*/_jsx(IconUpload,{}),/*#__PURE__*/_jsx(\"h3\",{children:t.selectOrDrop}),/*#__PURE__*/_jsx(\"p\",{className:\"upload-subtitle\",children:isDragging?t.dropHere:t.subtitle}),/*#__PURE__*/_jsxs(\"div\",{className:\"quality-control\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"quality-slider\",children:[/*#__PURE__*/_jsxs(\"strong\",{children:[t.qualityLabel,\":\"]}),\" \",quality,\"%\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quality-slider-container\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"quality-label-left\",children:t.qualityLow}),/*#__PURE__*/_jsx(\"input\",{id:\"quality-slider\",type:\"range\",min:\"0\",max:\"100\",value:quality,onChange:e=>setQuality(parseInt(e.target.value)),className:\"quality-slider\",onClick:e=>e.stopPropagation()}),/*#__PURE__*/_jsx(\"span\",{className:\"quality-label-right\",children:t.qualityHigh})]}),/*#__PURE__*/_jsx(\"p\",{className:\"quality-description\",children:t.qualityDescription})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary btn-upload\",onClick:e=>{var _fileInputRef$current2;e.stopPropagation();(_fileInputRef$current2=fileInputRef.current)===null||_fileInputRef$current2===void 0?void 0:_fileInputRef$current2.click();},children:t.chooseFile}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary btn-back\",onClick:e=>{e.stopPropagation();setSelectedTool(null);},children:t.backToTools})]}),selectedTool===\"splitter\"&&!file&&/*#__PURE__*/_jsxs(\"div\",{className:\"upload-area \".concat(isDragging?\"dragging\":\"\"),onClick:()=>{var _fileInputRef$current3;return(_fileInputRef$current3=fileInputRef.current)===null||_fileInputRef$current3===void 0?void 0:_fileInputRef$current3.click();},onDragEnter:handleDragEnter,onDragLeave:handleDragLeave,onDragOver:handleDragOver,onDrop:handleDrop,children:[/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",accept:\".pdf,application/pdf\",hidden:true,onChange:e=>{var _e$target$files2;return handleFileSelect((_e$target$files2=e.target.files)===null||_e$target$files2===void 0?void 0:_e$target$files2[0]);}}),/*#__PURE__*/_jsx(IconUpload,{}),/*#__PURE__*/_jsx(\"h3\",{children:t.selectOrDropSplit}),/*#__PURE__*/_jsx(\"p\",{className:\"upload-subtitle\",children:isDragging?t.dropHere:t.subtitleSplit}),/*#__PURE__*/_jsxs(\"div\",{className:\"quality-control\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"pages-per-split\",children:[/*#__PURE__*/_jsxs(\"strong\",{children:[t.pagesPerSplit,\":\"]}),\" \",pagesPerSplit]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quality-slider-container\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"quality-label-left\",children:\"1\"}),/*#__PURE__*/_jsx(\"input\",{id:\"pages-per-split\",type:\"range\",min:\"1\",max:\"50\",value:pagesPerSplit,onChange:e=>setPagesPerSplit(parseInt(e.target.value)),className:\"quality-slider\",onClick:e=>e.stopPropagation()}),/*#__PURE__*/_jsx(\"span\",{className:\"quality-label-right\",children:\"50\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"quality-description\",children:t.pagesPerSplitDesc})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary btn-upload\",onClick:e=>{var _fileInputRef$current4;e.stopPropagation();(_fileInputRef$current4=fileInputRef.current)===null||_fileInputRef$current4===void 0?void 0:_fileInputRef$current4.click();},children:t.chooseFile}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary btn-back\",onClick:e=>{e.stopPropagation();setSelectedTool(null);},children:t.backToTools})]}),selectedTool===\"merger\"&&mergeFiles.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"upload-area \".concat(isDragging?\"dragging\":\"\"),onClick:()=>{var _fileInputRef$current5;return(_fileInputRef$current5=fileInputRef.current)===null||_fileInputRef$current5===void 0?void 0:_fileInputRef$current5.click();},onDragEnter:handleDragEnter,onDragLeave:handleDragLeave,onDragOver:handleDragOver,onDrop:handleDrop,children:[/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",accept:\".pdf,application/pdf\",multiple:true,hidden:true,onChange:e=>handleMergeFiles(e.target.files)}),/*#__PURE__*/_jsx(IconUpload,{}),/*#__PURE__*/_jsx(\"h3\",{children:t.selectOrDropMerge}),/*#__PURE__*/_jsx(\"p\",{className:\"upload-subtitle\",children:isDragging?t.dropMultiple:t.subtitleMerge}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary btn-upload\",onClick:e=>{var _fileInputRef$current6;e.stopPropagation();(_fileInputRef$current6=fileInputRef.current)===null||_fileInputRef$current6===void 0?void 0:_fileInputRef$current6.click();},children:t.chooseFiles}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary btn-back\",onClick:e=>{e.stopPropagation();setSelectedTool(null);},children:t.backToTools})]}),selectedTool===\"merger\"&&mergeFiles.length>0&&!mergedBlob&&/*#__PURE__*/_jsxs(\"div\",{className:\"card compression-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"merge-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:t.mergeOrder}),/*#__PURE__*/_jsxs(\"p\",{children:[mergeFiles.length,\" \",mergeFiles.length===1?t.fileSelected:t.filesSelected]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"merge-file-list\",children:mergeFiles.map((mergeFile,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"merge-file-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"merge-file-number\",children:index+1}),/*#__PURE__*/_jsxs(\"div\",{className:\"merge-file-info\",children:[/*#__PURE__*/_jsx(IconFile,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"merge-file-name\",children:mergeFile.fileName}),/*#__PURE__*/_jsx(\"p\",{className:\"merge-file-size\",children:formatBytes(mergeFile.size)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"merge-file-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon\",onClick:()=>handleMoveMergeFile(mergeFile.id,\"up\"),disabled:index===0||processing,title:t.moveUp,children:\"\\u25B2\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon\",onClick:()=>handleMoveMergeFile(mergeFile.id,\"down\"),disabled:index===mergeFiles.length-1||processing,title:t.moveDown,children:\"\\u25BC\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon btn-danger\",onClick:()=>handleRemoveMergeFile(mergeFile.id),disabled:processing,title:t.removeThisFile,children:/*#__PURE__*/_jsx(IconTrash,{})})]})]},mergeFile.id))}),processing&&/*#__PURE__*/_jsxs(\"div\",{className:\"progress-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill\",style:{width:\"\".concat(progress,\"%\")}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"progress-info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"progress-text\",children:progressMessage}),/*#__PURE__*/_jsxs(\"p\",{className:\"progress-percent\",children:[progress,\"%\"]})]})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"error-message\",children:[/*#__PURE__*/_jsx(IconAlert,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:t.error}),/*#__PURE__*/_jsx(\"p\",{children:error})]})]}),!processing&&/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn-primary\",onClick:handleStartMerge,disabled:mergeFiles.length<2,children:[/*#__PURE__*/_jsx(IconMerge,{}),/*#__PURE__*/_jsx(\"span\",{children:t.startMerge})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",onClick:()=>{var _fileInputRef$current7;return(_fileInputRef$current7=fileInputRef.current)===null||_fileInputRef$current7===void 0?void 0:_fileInputRef$current7.click();},children:t.addMoreFiles}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",onClick:handleBackToTools,children:t.backToTools})]})]}),selectedTool===\"merger\"&&mergedBlob&&!processing&&!error&&/*#__PURE__*/_jsx(\"div\",{className:\"card compression-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"result-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"success-banner target-met\",children:[/*#__PURE__*/_jsx(IconCheck,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:t.mergeSuccessful}),/*#__PURE__*/_jsxs(\"p\",{children:[t.merged,\" \",mergeFiles.length,\" \",t.filesInto,\" 1 PDF\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"result-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:t.totalSize}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:formatBytes(mergedSize)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:t.pageCount}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:pageCount})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn-download btn-primary\",onClick:handleDownloadMerged,children:[/*#__PURE__*/_jsx(IconDownload,{}),/*#__PURE__*/_jsx(\"span\",{children:t.download})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-action btn-secondary\",onClick:handleBackToTools,children:[/*#__PURE__*/_jsx(IconMerge,{}),/*#__PURE__*/_jsx(\"span\",{children:t.mergeAnother})]})]})]})}),selectedTool===\"extractor\"&&!extractFile&&/*#__PURE__*/_jsxs(\"div\",{className:\"upload-area \".concat(isDragging?\"dragging\":\"\"),onClick:()=>{var _fileInputRef$current8;return(_fileInputRef$current8=fileInputRef.current)===null||_fileInputRef$current8===void 0?void 0:_fileInputRef$current8.click();},onDragEnter:handleDragEnter,onDragLeave:handleDragLeave,onDragOver:handleDragOver,onDrop:handleDrop,children:[/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",accept:\".pdf,application/pdf\",hidden:true,onChange:e=>{var _e$target$files3;return handleFileSelect((_e$target$files3=e.target.files)===null||_e$target$files3===void 0?void 0:_e$target$files3[0]);}}),/*#__PURE__*/_jsx(IconUpload,{}),/*#__PURE__*/_jsx(\"h3\",{children:t.selectOrDropExtract}),/*#__PURE__*/_jsx(\"p\",{className:\"upload-subtitle\",children:isDragging?t.dropHere:t.subtitleExtract}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary btn-upload\",onClick:e=>{var _fileInputRef$current9;e.stopPropagation();(_fileInputRef$current9=fileInputRef.current)===null||_fileInputRef$current9===void 0?void 0:_fileInputRef$current9.click();},children:t.chooseFile}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary btn-back\",onClick:e=>{e.stopPropagation();setSelectedTool(null);},children:t.backToTools})]}),selectedTool===\"extractor\"&&extractFile&&!extractedBlob&&/*#__PURE__*/_jsxs(\"div\",{className:\"card compression-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"file-info\",children:[/*#__PURE__*/_jsx(IconFile,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-details\",children:[/*#__PURE__*/_jsx(\"h3\",{children:extractFile.name}),/*#__PURE__*/_jsxs(\"p\",{children:[t.originalSize,\": \",formatBytes(originalSize)]}),pageCount>0&&/*#__PURE__*/_jsxs(\"p\",{className:\"page-count\",children:[pageCount,\" \",pageCount!==1?t.pages:t.page]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon btn-danger\",onClick:handleBackToTools,title:t.removeFile,disabled:processing||loadingPages,children:/*#__PURE__*/_jsx(IconTrash,{})})]}),loadingPages&&/*#__PURE__*/_jsx(\"div\",{className:\"progress-section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-info\",children:/*#__PURE__*/_jsx(\"p\",{className:\"progress-text\",children:\"Loading pages...\"})})}),!loadingPages&&pdfPages.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"extractor-header\",children:[/*#__PURE__*/_jsx(\"h4\",{children:t.selectPages}),/*#__PURE__*/_jsx(\"p\",{className:\"extractor-subtitle\",children:t.clickPages}),/*#__PURE__*/_jsx(\"div\",{className:\"extractor-stats\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"selected-count\",children:[t.selectedPages,\": \",/*#__PURE__*/_jsx(\"strong\",{children:selectedPages.size}),\" / \",pageCount]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"extractor-controls\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"extractor-controls-left\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary btn-small\",onClick:handleSelectAllPages,disabled:processing,children:selectedPages.size===pageCount?t.clearSelection:t.selectAll}),selectedPages.size>0&&/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary btn-small\",onClick:handleClearSelection,disabled:processing,children:t.clearSelection})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"extractor-controls-right\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"zoom-label\",children:[\"Size: \",thumbnailZoom,\"px\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon btn-zoom\",onClick:handleZoomOut,disabled:processing||thumbnailZoom<=100,title:\"Zoom Out\",children:/*#__PURE__*/_jsx(IconZoomOut,{})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon btn-zoom\",onClick:handleZoomIn,disabled:processing||thumbnailZoom>=400,title:\"Zoom In\",children:/*#__PURE__*/_jsx(IconZoomIn,{})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pdf-page-grid\",style:{gridTemplateColumns:\"repeat(auto-fill, minmax(\".concat(thumbnailZoom,\"px, 1fr))\")},children:pdfPages.map(page=>/*#__PURE__*/_jsxs(\"div\",{className:\"pdf-page-thumbnail \".concat(selectedPages.has(page.pageNumber)?\"selected\":\"\"),onClick:()=>!processing&&togglePageSelection(page.pageNumber),children:[/*#__PURE__*/_jsx(\"div\",{className:\"page-number\",children:page.pageNumber}),/*#__PURE__*/_jsx(\"img\",{src:page.thumbnail,alt:\"Page \".concat(page.pageNumber)}),selectedPages.has(page.pageNumber)&&/*#__PURE__*/_jsx(\"div\",{className:\"page-check\",children:/*#__PURE__*/_jsx(IconCheck,{})})]},page.pageNumber))}),processing&&/*#__PURE__*/_jsxs(\"div\",{className:\"progress-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill\",style:{width:\"\".concat(progress,\"%\")}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"progress-info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"progress-text\",children:progressMessage}),/*#__PURE__*/_jsxs(\"p\",{className:\"progress-percent\",children:[progress,\"%\"]})]})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"error-message\",children:[/*#__PURE__*/_jsx(IconAlert,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:t.error}),/*#__PURE__*/_jsx(\"p\",{children:error})]})]}),!processing&&/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn-primary\",onClick:handleStartExtraction,disabled:selectedPages.size===0,children:[/*#__PURE__*/_jsx(IconExtract,{}),/*#__PURE__*/_jsxs(\"span\",{children:[t.extractPages,\" (\",selectedPages.size,\")\"]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",onClick:handleBackToTools,children:t.backToTools})]})]})]}),selectedTool===\"extractor\"&&extractedBlob&&!processing&&!error&&/*#__PURE__*/_jsx(\"div\",{className:\"card compression-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"result-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"success-banner target-met\",children:[/*#__PURE__*/_jsx(IconCheck,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:t.extractSuccessful}),/*#__PURE__*/_jsxs(\"p\",{children:[t.extracted,\" \",selectedPages.size,\" \",selectedPages.size!==1?t.pagesExtracted:t.page]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"result-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:t.originalSizeLabel}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:formatBytes(originalSize)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Extracted Size\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:formatBytes(extractedSize)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:t.pageCount}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:selectedPages.size})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn-download btn-primary\",onClick:handleDownloadExtracted,children:[/*#__PURE__*/_jsx(IconDownload,{}),/*#__PURE__*/_jsx(\"span\",{children:t.download})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-action btn-secondary\",onClick:handleBackToTools,children:[/*#__PURE__*/_jsx(IconExtract,{}),/*#__PURE__*/_jsx(\"span\",{children:t.extractAnother})]})]})]})}),file&&/*#__PURE__*/_jsxs(\"div\",{className:\"card compression-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"file-info\",children:[/*#__PURE__*/_jsx(IconFile,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-details\",children:[/*#__PURE__*/_jsx(\"h3\",{children:file.name}),/*#__PURE__*/_jsxs(\"p\",{children:[t.originalSize,\": \",formatBytes(originalSize)]}),pageCount>0&&/*#__PURE__*/_jsxs(\"p\",{className:\"page-count\",children:[pageCount,\" \",pageCount!==1?t.pages:t.page]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon btn-danger\",onClick:handleBackToTools,title:t.removeFile,disabled:processing,children:/*#__PURE__*/_jsx(IconTrash,{})})]}),selectedTool===\"compressor\"&&!processing&&/*#__PURE__*/_jsxs(\"div\",{className:\"quality-control-card\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"quality-slider-card\",children:[/*#__PURE__*/_jsxs(\"strong\",{children:[t.qualityLabel,\":\"]}),\" \",quality,\"%\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quality-slider-container\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"quality-label-left\",children:t.qualityLow}),/*#__PURE__*/_jsx(\"input\",{id:\"quality-slider-card\",type:\"range\",min:\"0\",max:\"100\",value:quality,onChange:e=>setQuality(parseInt(e.target.value)),className:\"quality-slider\"}),/*#__PURE__*/_jsx(\"span\",{className:\"quality-label-right\",children:t.qualityHigh})]}),/*#__PURE__*/_jsx(\"p\",{className:\"quality-description\",children:t.qualityDescription}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-secondary btn-recompress\",onClick:handleRecompress,disabled:processing,children:[/*#__PURE__*/_jsx(IconCompress,{}),/*#__PURE__*/_jsx(\"span\",{children:\"Recompress with new quality\"})]})]}),selectedTool===\"splitter\"&&!processing&&/*#__PURE__*/_jsxs(\"div\",{className:\"quality-control-card\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"pages-per-split-card\",children:[/*#__PURE__*/_jsxs(\"strong\",{children:[t.pagesPerSplit,\":\"]}),\" \",pagesPerSplit]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quality-slider-container\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"quality-label-left\",children:\"1\"}),/*#__PURE__*/_jsx(\"input\",{id:\"pages-per-split-card\",type:\"range\",min:\"1\",max:pageCount||50,value:pagesPerSplit,onChange:e=>setPagesPerSplit(parseInt(e.target.value)),className:\"quality-slider\"}),/*#__PURE__*/_jsx(\"span\",{className:\"quality-label-right\",children:pageCount||50})]}),/*#__PURE__*/_jsx(\"p\",{className:\"quality-description\",children:t.pagesPerSplitDesc}),pageCount>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"split-preview\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[t.splitPreview,\":\"]})}),/*#__PURE__*/_jsxs(\"p\",{children:[t.willCreate,\" \",/*#__PURE__*/_jsx(\"strong\",{children:numSplits}),\" \",numSplits!==1?t.pdfs:t.pdf]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-secondary btn-recompress\",onClick:handleResplit,disabled:processing,children:[/*#__PURE__*/_jsx(IconSplit,{}),/*#__PURE__*/_jsx(\"span\",{children:\"Re-split with new page count\"})]})]}),processing&&/*#__PURE__*/_jsxs(\"div\",{className:\"progress-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill\",style:{width:\"\".concat(progress,\"%\")}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"progress-info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"progress-text\",children:progressMessage}),/*#__PURE__*/_jsxs(\"p\",{className:\"progress-percent\",children:[progress,\"%\"]})]})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"error-message\",children:[/*#__PURE__*/_jsx(IconAlert,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:t.error}),/*#__PURE__*/_jsx(\"p\",{children:error})]})]}),warning&&!error&&/*#__PURE__*/_jsxs(\"div\",{className:\"warning-message\",children:[/*#__PURE__*/_jsx(IconInfo,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:t.note}),/*#__PURE__*/_jsx(\"p\",{children:warning})]})]}),selectedTool===\"compressor\"&&compressedBlob&&!processing&&!error&&/*#__PURE__*/_jsxs(\"div\",{className:\"result-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"success-banner \".concat(metTarget?\"target-met\":\"\"),children:[metTarget?/*#__PURE__*/_jsx(IconCheck,{}):/*#__PURE__*/_jsx(IconInfo,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:metTarget?t.compressionSuccessful:t.compressionComplete}),/*#__PURE__*/_jsxs(\"p\",{children:[t.reducedBy,\" \",formatBytes(savedBytes),\" (\",compressionRatio,\"%)\"]})]})]}),metTarget&&language===\"pt\"&&/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\",margin:\"20px 0\"},children:/*#__PURE__*/_jsx(\"img\",{src:RonaldoGif,alt:\"Cristiano Ronaldo SIUUU\",style:{maxWidth:\"300px\",borderRadius:\"10px\"}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"result-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:t.originalSizeLabel}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:formatBytes(originalSize)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:t.compressedSize}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value \".concat(metTarget?\"success\":\"warning\"),children:formatBytes(compressedSize)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:t.sizeReduction}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-value success\",children:[compressionRatio,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:t.bytesSaved}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:formatBytes(savedBytes)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:t.targetLabel}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value \".concat(metTarget?\"success\":\"warning\"),children:metTarget?t.met:t.exceeded})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:t.pageCount}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:pageCount})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn-download btn-primary\",onClick:handleDownloadCompressed,children:[/*#__PURE__*/_jsx(IconDownload,{}),/*#__PURE__*/_jsx(\"span\",{children:t.download})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-action btn-secondary\",onClick:handleBackToTools,children:[/*#__PURE__*/_jsx(IconCompress,{}),/*#__PURE__*/_jsx(\"span\",{children:t.compressAnother})]})]})]}),selectedTool===\"splitter\"&&splitResults&&!processing&&!error&&/*#__PURE__*/_jsxs(\"div\",{className:\"result-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"success-banner target-met\",children:[/*#__PURE__*/_jsx(IconCheck,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:t.splitSuccessful}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Created \",splitResults.numSplits,\" PDF\",splitResults.numSplits!==1?\"s\":\"\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"split-results\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Split Files:\"}),splitResults.splits.map((split,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"split-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"split-info\",children:[/*#__PURE__*/_jsx(IconFile,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"split-name\",children:[\"Split \",idx+1,\": Pages \",split.startPage,\"-\",split.endPage]}),/*#__PURE__*/_jsx(\"p\",{className:\"split-size\",children:formatBytes(split.bytes.length)})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon btn-primary\",onClick:()=>handleDownloadSplit(split),title:t.download,children:/*#__PURE__*/_jsx(IconDownload,{})})]},idx))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn-download btn-primary\",onClick:handleDownloadAllSplits,children:[/*#__PURE__*/_jsx(IconDownload,{}),/*#__PURE__*/_jsx(\"span\",{children:t.downloadAll})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-action btn-secondary\",onClick:handleBackToTools,children:[/*#__PURE__*/_jsx(IconSplit,{}),/*#__PURE__*/_jsx(\"span\",{children:t.splitAnother})]})]})]})]})]})}),/*#__PURE__*/_jsx(\"footer\",{className:\"footer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"footer-content\",children:[/*#__PURE__*/_jsx(\"p\",{children:t.footer}),/*#__PURE__*/_jsxs(\"a\",{href:\"https://github.com/Joaosilva27/pdf-compressor\",target:\"_blank\",rel:\"noopener noreferrer\",className:\"github-link\",\"aria-label\":\"GitHub Repository\",children:[/*#__PURE__*/_jsx(IconGitHub,{}),/*#__PURE__*/_jsx(\"span\",{children:t.githubText})]})]})})]});}export default App;","map":{"version":3,"names":["React","useState","useRef","useCallback","ConectysLogo","RonaldoGif","PDFDocument","PDFName","PDFDict","pdfjsLib","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","GlobalWorkerOptions","workerSrc","process","env","PUBLIC_URL","concat","IconUpload","className","viewBox","fill","stroke","children","d","points","x1","y1","x2","y2","IconDownload","strokeWidth","IconMoon","IconSun","cx","cy","r","IconPortugueseFlag","width","height","IconEnglishFlag","id","clipPath","IconPolishFlag","IconRomanianFlag","x","IconFilipinoFlag","y","transform","IconGitHub","IconTrash","IconFile","IconCompress","IconSplit","rx","IconMerge","IconExtract","IconZoomIn","IconZoomOut","IconInfo","IconCheck","IconAlert","arrayBufferToBlobUrl","buf","mime","blob","Blob","type","URL","createObjectURL","reEncodeImage","imgBytes","isJpeg","maxDim","jpegQuality","mimeIn","url","img","Promise","res","rej","i","Image","onload","onerror","e","src","revokeObjectURL","Math","max","scale","round","canvas","document","createElement","ctx","getContext","drawImage","dataUrl","toDataURL","base64","split","outBytes","Uint8Array","from","atob","c","charCodeAt","remove","compressPDFFast","pdfBytes","quality","onProgress","MAX_DIMENSION","JPEG_QUALITY","pdfDoc","load","ignoreEncryption","pageCount","getPageCount","setTitle","setAuthor","setSubject","setCreator","setProducer","setKeywords","setCreationDate","Date","setModificationDate","catalog","forEach","key","delete","of","_","page","getPage","resources","node","Resources","xObjDict","lookupMaybe","entries","ref","_filter$toString","obj","context","lookup","getContents","subtype","dict","get","toString","filter","filterStr","includes","newBytes","setContents","set","console","warn","compressed","save","useObjectStreams","bytes","success","compressPDFRaster","uint8","loadingTask","getDocument","data","disableAutoFetch","pdf","promise","numPages","SCALE","rasterisePage","pageNumber","viewport","getViewport","render","canvasContext","newPdf","create","jpg","embedJpg","pg","addPage","out","compressPDFUnified","fastErr","rasterErr","error","Error","message","splitPDF","pagesPerSplit","totalPages","numSplits","ceil","splitPdfs","startPage","endPage","min","pageIndices","Array","length","idx","copiedPages","copyPages","push","name","splits","mergePDFs","fileObjects","mergedPdf","fileObj","fileName","arrayBuffer","mergedBytes","extractPages","selectedPageIndices","pageIdx","extractedBytes","validatePDF","file","valid","toLowerCase","endsWith","size","App","language","setLanguage","saved","localStorage","getItem","useEffect","setItem","translations","en","brand","toolCompressor","toolSplitter","toolMerger","toolExtractor","selectTool","selectToolDesc","selectOrDrop","dropHere","subtitle","chooseFile","qualityLabel","qualityLow","qualityHigh","qualityDescription","selectOrDropSplit","subtitleSplit","pagesPerSplitDesc","splitPreview","willCreate","pdfs","selectOrDropMerge","dropMultiple","subtitleMerge","chooseFiles","mergeOrder","fileSelected","filesSelected","moveUp","moveDown","removeThisFile","startMerge","addMoreFiles","mergeAnother","merged","filesInto","totalSize","selectOrDropExtract","subtitleExtract","selectPages","selectedPages","noPages","clickPages","clearSelection","selectAll","extractAnother","extractSuccessful","extractComplete","extracted","pagesExtracted","originalSize","pages","removeFile","note","processing","download","downloadAll","backToTools","compressionSuccessful","compressionComplete","splitSuccessful","splitComplete","mergeSuccessful","mergeComplete","reducedBy","originalSizeLabel","compressedSize","sizeReduction","bytesSaved","targetLabel","met","exceeded","compressAnother","splitAnother","footer","githubText","pt","pl","ro","fil","t","darkMode","setDarkMode","window","matchMedia","matches","documentElement","classList","toggle","selectedTool","setSelectedTool","setFile","setProcessing","progress","setProgress","progressMessage","setProgressMessage","setOriginalSize","setPageCount","setError","warning","setWarning","setQuality","setCompressedSize","compressedBlob","setCompressedBlob","setPagesPerSplit","splitResults","setSplitResults","mergeFiles","setMergeFiles","mergedBlob","setMergedBlob","mergedSize","setMergedSize","extractFile","setExtractFile","pdfPages","setPdfPages","setSelectedPages","Set","extractedBlob","setExtractedBlob","extractedSize","setExtractedSize","loadingPages","setLoadingPages","thumbnailZoom","setThumbnailZoom","fileInputRef","dragCounter","isDragging","setIsDragging","TARGET_SIZE","formatBytes","k","dm","sizes","floor","log","parseFloat","pow","toFixed","cycleLanguage","languages","currentIndex","indexOf","nextIndex","getLanguageFlag","getLanguageName","handleCompressFile","selectedFile","validation","pct","msg","result","handleSplitFile","handleFileSelect","handleExtractFile","handleRecompress","handleResplit","handleMergeFiles","selectedFiles","newFiles","now","random","prev","handleRemoveMergeFile","fileToRemove","find","f","prevSize","handleMoveMergeFile","direction","index","findIndex","newIndex","handleStartMerge","pageNum","thumbnail","togglePageSelection","newSet","has","add","handleSelectAllPages","handleClearSelection","handleZoomIn","handleZoomOut","handleStartExtraction","sort","a","b","map","p","handleDownloadMerged","href","body","appendChild","click","removeChild","setTimeout","handleDownloadCompressed","replace","handleDownloadSplit","splitData","baseName","handleDownloadAllSplits","handleDownloadExtracted","pagesList","join","handleReset","current","value","handleBackToTools","handleDragEnter","preventDefault","stopPropagation","dataTransfer","items","handleDragLeave","handleDragOver","handleDrop","files","compressionRatio","savedBytes","metTarget","alt","onClick","title","_fileInputRef$current","onDragEnter","onDragLeave","onDragOver","onDrop","accept","hidden","onChange","_e$target$files","target","htmlFor","parseInt","_fileInputRef$current2","_fileInputRef$current3","_e$target$files2","_fileInputRef$current4","_fileInputRef$current5","multiple","_fileInputRef$current6","mergeFile","disabled","style","_fileInputRef$current7","_fileInputRef$current8","_e$target$files3","_fileInputRef$current9","gridTemplateColumns","textAlign","margin","maxWidth","borderRadius","rel"],"sources":["/Users/joaosilva/Documents/GitHub/pdf-compressor/src/App.js"],"sourcesContent":["import React, { useState, useRef, useCallback } from \"react\";\nimport \"./App.css\";\nimport ConectysLogo from \"./conectys.png\";\nimport RonaldoGif from \"./ronaldo.gif\";\nimport { PDFDocument, PDFName, PDFDict } from \"pdf-lib\";\n\n/* ------------------- PDF‑JS IMPORT ------------------- */\nimport * as pdfjsLib from \"pdfjs-dist/legacy/build/pdf\";\n\n// Use local worker file from public folder (works for both local and GitHub Pages)\npdfjsLib.GlobalWorkerOptions.workerSrc = process.env.PUBLIC_URL ? `${process.env.PUBLIC_URL}/pdf.worker.min.js` : \"/pdf.worker.min.js\";\n\n/* ------------------- ICON COMPONENTS ------------------- */\nconst IconUpload = () => (\n  <svg className='icon icon-large' viewBox='0 0 24 24' fill='none' stroke='currentColor'>\n    <path d='M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4'></path>\n    <polyline points='17 8 12 3 7 8'></polyline>\n    <line x1='12' y1='3' x2='12' y2='15'></line>\n  </svg>\n);\nconst IconDownload = () => (\n  <svg className='icon' viewBox='0 0 24 24' fill='none' stroke='currentColor' strokeWidth='2'>\n    <path d='M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4'></path>\n    <polyline points='7 10 12 15 17 10'></polyline>\n    <line x1='12' y1='15' x2='12' y2='3'></line>\n  </svg>\n);\nconst IconMoon = () => (\n  <svg className='icon' viewBox='0 0 24 24' fill='none' stroke='currentColor' strokeWidth='2'>\n    <path d='M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z' />\n  </svg>\n);\nconst IconSun = () => (\n  <svg className='icon' viewBox='0 0 24 24' fill='none' stroke='currentColor' strokeWidth='2'>\n    <circle cx='12' cy='12' r='5' />\n    <line x1='12' y1='1' x2='12' y2='3' />\n    <line x1='12' y1='21' x2='12' y2='23' />\n    <line x1='4.22' y1='4.22' x2='5.64' y2='5.64' />\n    <line x1='18.36' y1='18.36' x2='19.78' y2='19.78' />\n    <line x1='1' y1='12' x2='3' y2='12' />\n    <line x1='21' y1='12' x2='23' y2='12' />\n  </svg>\n);\nconst IconPortugueseFlag = () => (\n  <svg className='icon flag-icon' viewBox='0 0 600 400' fill='none'>\n    <rect width='600' height='400' fill='#FF0000' />\n    <rect width='240' height='400' fill='#006600' />\n    <circle cx='240' cy='200' r='80' fill='#FFD700' stroke='#000' strokeWidth='3' />\n    <circle cx='240' cy='200' r='60' fill='#FFF' stroke='#000' strokeWidth='2' />\n    <circle cx='240' cy='200' r='45' fill='#0000FF' stroke='#000' strokeWidth='2' />\n  </svg>\n);\nconst IconEnglishFlag = () => (\n  <svg className='icon flag-icon' viewBox='0 0 60 30'>\n    <clipPath id='s'>\n      <path d='M0,0 v30 h60 v-30 z' />\n    </clipPath>\n    <clipPath id='t'>\n      <path d='M30,15 h30 v15 z v-15 h-30 z h-30 v15 z v-15 h30 z' />\n    </clipPath>\n    <g clipPath='url(#s)'>\n      <path d='M0,0 v30 h60 v-30 z' fill='#012169' />\n      <path d='M0,0 L60,30 M60,0 L0,30' stroke='#fff' strokeWidth='6' />\n      <path d='M0,0 L60,30 M60,0 L0,30' clipPath='url(#t)' stroke='#C8102E' strokeWidth='4' />\n      <path d='M30,0 v30 M0,15 h60' stroke='#fff' strokeWidth='10' />\n      <path d='M30,0 v30 M0,15 h60' stroke='#C8102E' strokeWidth='6' />\n    </g>\n  </svg>\n);\nconst IconPolishFlag = () => (\n  <svg className='icon flag-icon' viewBox='0 0 640 400'>\n    <rect width='640' height='400' fill='#DC143C' />\n    <rect width='640' height='200' fill='#FFFFFF' />\n  </svg>\n);\nconst IconRomanianFlag = () => (\n  <svg className='icon flag-icon' viewBox='0 0 900 600'>\n    <rect width='300' height='600' fill='#002B7F' />\n    <rect x='300' width='300' height='600' fill='#FCD116' />\n    <rect x='600' width='300' height='600' fill='#CE1126' />\n  </svg>\n);\nconst IconFilipinoFlag = () => (\n  <svg className='icon flag-icon' viewBox='0 0 1200 600'>\n    <rect width='1200' height='300' fill='#0038A8' />\n    <rect y='300' width='1200' height='300' fill='#CE1126' />\n    <path d='M 0,0 L 400,300 L 0,600 Z' fill='#FFFFFF' />\n    <circle cx='200' cy='300' r='80' fill='#FCD116' />\n    <g fill='#FCD116'>\n      <polygon points='200,220 210,260 250,260 218,283 228,323 200,300 172,323 182,283 150,260 190,260' />\n      <polygon points='120,180 130,220 170,220 138,243 148,283 120,260 92,283 102,243 70,220 110,220' transform='rotate(-30 200 300)' />\n      <polygon points='120,420 130,380 170,380 138,357 148,317 120,340 92,317 102,357 70,380 110,380' transform='rotate(30 200 300)' />\n    </g>\n  </svg>\n);\nconst IconGitHub = () => (\n  <svg className='github-icon' viewBox='0 0 24 24' fill='currentColor'>\n    <path d='M12 .5C5.73.5.5 5.74.5 12.02c0 5.11 3.29 9.45 7.86 10.98.58.11.79-.25.79-.56v-2.02c-3.2.7-3.87-1.55-3.87-1.55-.52-1.33-1.28-1.68-1.28-1.68-1.04-.71.08-.7.08-.7 1.15.08 1.75 1.18 1.75 1.18 1.02 1.75 2.67 1.24 3.32.95.1-.74.4-1.24.72-1.53-2.55-.29-5.23-1.28-5.23-5.69 0-1.26.45-2.3 1.18-3.11-.12-.29-.51-1.45.11-3.02 0 0 .97-.31 3.18 1.19a11.05 11.05 0 0 1 5.8 0c2.2-1.5 3.17-1.19 3.17-1.19.63 1.57.24 2.73.12 3.02.73.81 1.17 1.85 1.17 3.11 0 4.42-2.69 5.39-5.25 5.67.41.35.77 1.04.77 2.1v3.12c0 .31.21.67.8.56A11.52 11.52 0 0 0 23.5 12C23.5 5.74 18.27.5 12 .5z' />\n  </svg>\n);\nconst IconTrash = () => (\n  <svg className='icon icon-danger' viewBox='0 0 24 24' fill='none' stroke='currentColor' strokeWidth='2'>\n    <polyline points='3 6 5 6 21 6'></polyline>\n    <path d='M19 6l-1 14a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6'></path>\n    <path d='M10 11v6'></path>\n    <path d='M14 11v6'></path>\n  </svg>\n);\nconst IconFile = () => (\n  <svg className='icon' viewBox='0 0 24 24' fill='none' stroke='currentColor' strokeWidth='2'>\n    <path d='M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z'></path>\n    <polyline points='13 2 13 9 20 9'></polyline>\n  </svg>\n);\nconst IconCompress = () => (\n  <svg className='icon' viewBox='0 0 24 24' fill='none' stroke='currentColor' strokeWidth='2'>\n    <polyline points='4 14 10 14 10 20'></polyline>\n    <polyline points='20 10 14 10 14 4'></polyline>\n    <line x1='14' y1='10' x2='21' y2='3'></line>\n    <line x1='3' y1='21' x2='10' y2='14'></line>\n  </svg>\n);\nconst IconSplit = () => (\n  <svg className='icon' viewBox='0 0 24 24' fill='none' stroke='currentColor' strokeWidth='2'>\n    <rect x='3' y='3' width='7' height='18' rx='1'></rect>\n    <rect x='14' y='3' width='7' height='7' rx='1'></rect>\n    <rect x='14' y='14' width='7' height='7' rx='1'></rect>\n  </svg>\n);\nconst IconMerge = () => (\n  <svg className='icon' viewBox='0 0 24 24' fill='none' stroke='currentColor' strokeWidth='2'>\n    <rect x='3' y='3' width='18' height='7' rx='1'></rect>\n    <rect x='3' y='14' width='7' height='7' rx='1'></rect>\n    <rect x='14' y='14' width='7' height='7' rx='1'></rect>\n  </svg>\n);\nconst IconExtract = () => (\n  <svg className='icon' viewBox='0 0 24 24' fill='none' stroke='currentColor' strokeWidth='2'>\n    <path d='M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z'></path>\n    <polyline points='14 2 14 8 20 8'></polyline>\n    <line x1='9' y1='15' x2='15' y2='15'></line>\n    <line x1='12' y1='12' x2='12' y2='18'></line>\n  </svg>\n);\nconst IconZoomIn = () => (\n  <svg className='icon' viewBox='0 0 24 24' fill='none' stroke='currentColor' strokeWidth='2'>\n    <circle cx='11' cy='11' r='8'></circle>\n    <line x1='21' y1='21' x2='16.65' y2='16.65'></line>\n    <line x1='11' y1='8' x2='11' y2='14'></line>\n    <line x1='8' y1='11' x2='14' y2='11'></line>\n  </svg>\n);\nconst IconZoomOut = () => (\n  <svg className='icon' viewBox='0 0 24 24' fill='none' stroke='currentColor' strokeWidth='2'>\n    <circle cx='11' cy='11' r='8'></circle>\n    <line x1='21' y1='21' x2='16.65' y2='16.65'></line>\n    <line x1='8' y1='11' x2='14' y2='11'></line>\n  </svg>\n);\nconst IconInfo = () => (\n  <svg className='icon' viewBox='0 0 24 24' fill='none' stroke='currentColor' strokeWidth='2'>\n    <circle cx='12' cy='12' r='10'></circle>\n    <line x1='12' y1='16' x2='12' y2='12'></line>\n    <line x1='12' y1='8' x2='12.01' y2='8'></line>\n  </svg>\n);\nconst IconCheck = () => (\n  <svg className='icon icon-success' viewBox='0 0 24 24' fill='none' stroke='currentColor' strokeWidth='2'>\n    <polyline points='20 6 9 17 4 12'></polyline>\n  </svg>\n);\nconst IconAlert = () => (\n  <svg className='icon icon-warning' viewBox='0 0 24 24' fill='none' stroke='currentColor' strokeWidth='2'>\n    <path d='M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z'></path>\n    <line x1='12' y1='9' x2='12' y2='13'></line>\n    <line x1='12' y1='17' x2='12.01' y2='17'></line>\n  </svg>\n);\n\n/* ------------------- HELPERS ------------------- */\n\nfunction arrayBufferToBlobUrl(buf, mime) {\n  const blob = new Blob([buf], { type: mime });\n  return URL.createObjectURL(blob);\n}\n\nasync function reEncodeImage(imgBytes, isJpeg, maxDim, jpegQuality) {\n  const mimeIn = isJpeg ? \"image/jpeg\" : \"image/png\";\n  const url = arrayBufferToBlobUrl(imgBytes, mimeIn);\n\n  const img = await new Promise((res, rej) => {\n    const i = new Image();\n    i.onload = () => res(i);\n    i.onerror = e => rej(e);\n    i.src = url;\n  });\n  URL.revokeObjectURL(url);\n\n  let { width, height } = img;\n  if (Math.max(width, height) > maxDim) {\n    const scale = maxDim / Math.max(width, height);\n    width = Math.round(width * scale);\n    height = Math.round(height * scale);\n  }\n\n  const canvas = document.createElement(\"canvas\");\n  canvas.width = width;\n  canvas.height = height;\n  const ctx = canvas.getContext(\"2d\");\n  ctx.drawImage(img, 0, 0, width, height);\n  const dataUrl = canvas.toDataURL(\"image/jpeg\", jpegQuality);\n  const base64 = dataUrl.split(\",\")[1];\n  const outBytes = Uint8Array.from(atob(base64), c => c.charCodeAt(0));\n  canvas.remove();\n  return outBytes;\n}\n\n/* --------------------------------------------------------------\n   PDF COMPRESSION FUNCTIONS\n   -------------------------------------------------------------- */\nasync function compressPDFFast(pdfBytes, quality, onProgress) {\n  const MAX_DIMENSION = Math.round(500 + (quality / 100) * 2500);\n  const JPEG_QUALITY = 0.3 + (quality / 100) * 0.65;\n\n  const pdfDoc = await PDFDocument.load(pdfBytes, { ignoreEncryption: true });\n  const pageCount = pdfDoc.getPageCount();\n\n  onProgress(5, \"Stripping metadata…\");\n  pdfDoc.setTitle(\"\");\n  pdfDoc.setAuthor(\"\");\n  pdfDoc.setSubject(\"\");\n  pdfDoc.setCreator(\"\");\n  pdfDoc.setProducer(\"\");\n  pdfDoc.setKeywords([]);\n  pdfDoc.setCreationDate(new Date(0));\n  pdfDoc.setModificationDate(new Date(0));\n\n  onProgress(15, \"Cleaning catalog…\");\n  const catalog = pdfDoc.catalog;\n  [\"Metadata\", \"PieceInfo\", \"StructTreeRoot\", \"SpiderInfo\", \"OutputIntents\", \"MarkInfo\"].forEach(key => {\n    try {\n      catalog.delete(PDFName.of(key));\n    } catch (_) {}\n  });\n\n  onProgress(30, \"Optimising images…\");\n  for (let i = 0; i < pageCount; i++) {\n    const page = pdfDoc.getPage(i);\n    const resources = page.node.Resources();\n    const xObjDict = resources.lookupMaybe(PDFName.of(\"XObject\"));\n    if (!xObjDict) continue;\n\n    const entries = xObjDict instanceof PDFDict ? xObjDict.entries() : [];\n\n    for (const [key, ref] of entries) {\n      const obj = pdfDoc.context.lookup(ref);\n      if (!obj || typeof obj.getContents !== \"function\") continue;\n\n      const subtype = obj.dict.get(PDFName.of(\"Subtype\"));\n      if (!subtype || subtype.toString() !== \"/Image\") continue;\n\n      const filter = obj.dict.get(PDFName.of(\"Filter\"));\n      const filterStr = filter?.toString() ?? \"\";\n      const isJpeg = filterStr.includes(\"DCTDecode\");\n\n      const imgBytes = obj.getContents();\n\n      try {\n        const newBytes = await reEncodeImage(imgBytes, isJpeg, MAX_DIMENSION, JPEG_QUALITY);\n        obj.setContents(newBytes);\n        obj.dict.set(PDFName.of(\"Filter\"), PDFName.of(\"DCTDecode\"));\n      } catch (e) {\n        console.warn(`Failed to re‑encode image ${key}:`, e);\n      }\n    }\n\n    onProgress(30 + ((i + 1) / pageCount) * 40, `Optimised page ${i + 1}/${pageCount}`);\n  }\n\n  onProgress(85, \"Saving compressed PDF…\");\n  const compressed = await pdfDoc.save({ useObjectStreams: true });\n  onProgress(100, \"Done!\");\n  return { bytes: compressed, pageCount, success: true };\n}\n\nasync function compressPDFRaster(pdfBytes, quality, onProgress) {\n  const uint8 = new Uint8Array(pdfBytes);\n  const loadingTask = pdfjsLib.getDocument({ data: uint8, disableAutoFetch: true });\n  const pdf = await loadingTask.promise;\n  const pageCount = pdf.numPages;\n\n  const SCALE = 0.5 + (quality / 100) * 1.5;\n  const JPEG_QUALITY = 0.3 + (quality / 100) * 0.65;\n\n  async function rasterisePage(pageNumber) {\n    const page = await pdf.getPage(pageNumber);\n    const viewport = page.getViewport({ scale: SCALE });\n    const canvas = document.createElement(\"canvas\");\n    canvas.width = viewport.width;\n    canvas.height = viewport.height;\n    const ctx = canvas.getContext(\"2d\");\n\n    await page.render({ canvasContext: ctx, viewport }).promise;\n\n    const dataUrl = canvas.toDataURL(\"image/jpeg\", JPEG_QUALITY);\n    const base64 = dataUrl.split(\",\")[1];\n    const imgBytes = Uint8Array.from(atob(base64), c => c.charCodeAt(0));\n    canvas.remove();\n    return { imgBytes, width: canvas.width, height: canvas.height };\n  }\n\n  const newPdf = await PDFDocument.create();\n\n  for (let i = 1; i <= pageCount; i++) {\n    onProgress(10 + ((i - 1) / pageCount) * 80, `Rasterising page ${i}/${pageCount}`);\n    const { imgBytes, width, height } = await rasterisePage(i);\n    const jpg = await newPdf.embedJpg(imgBytes);\n    const pg = newPdf.addPage([width, height]);\n    pg.drawImage(jpg, { x: 0, y: 0, width, height });\n  }\n\n  onProgress(95, \"Saving rasterised PDF…\");\n  const out = await newPdf.save({ useObjectStreams: true });\n  onProgress(100, \"Done!\");\n  return { bytes: out, pageCount, success: true };\n}\n\nasync function compressPDFUnified(pdfBytes, quality, onProgress) {\n  try {\n    return await compressPDFFast(pdfBytes, quality, onProgress);\n  } catch (fastErr) {\n    console.warn(\"Fast compression failed, falling back to rasterisation:\", fastErr);\n    try {\n      return await compressPDFRaster(pdfBytes, quality, onProgress);\n    } catch (rasterErr) {\n      console.error(\"Raster fallback also failed:\", rasterErr);\n      throw new Error(`Both compression methods failed – ${rasterErr instanceof Error ? rasterErr.message : rasterErr}`);\n    }\n  }\n}\n\n/* --------------------------------------------------------------\n   PDF SPLITTING FUNCTION\n   -------------------------------------------------------------- */\nasync function splitPDF(pdfBytes, pagesPerSplit, onProgress) {\n  onProgress(10, \"Loading PDF…\");\n  const pdfDoc = await PDFDocument.load(pdfBytes, { ignoreEncryption: true });\n  const totalPages = pdfDoc.getPageCount();\n\n  if (pagesPerSplit <= 0 || pagesPerSplit > totalPages) {\n    throw new Error(`Invalid pages per split. Must be between 1 and ${totalPages}`);\n  }\n\n  const numSplits = Math.ceil(totalPages / pagesPerSplit);\n  const splitPdfs = [];\n\n  onProgress(20, `Splitting into ${numSplits} PDF${numSplits > 1 ? \"s\" : \"\"}…`);\n\n  for (let i = 0; i < numSplits; i++) {\n    const newPdf = await PDFDocument.create();\n    const startPage = i * pagesPerSplit;\n    const endPage = Math.min(startPage + pagesPerSplit, totalPages);\n\n    onProgress(20 + (i / numSplits) * 70, `Creating split ${i + 1}/${numSplits}…`);\n\n    // Copy pages to new PDF\n    const pageIndices = Array.from({ length: endPage - startPage }, (_, idx) => startPage + idx);\n    const copiedPages = await newPdf.copyPages(pdfDoc, pageIndices);\n\n    copiedPages.forEach(page => {\n      newPdf.addPage(page);\n    });\n\n    const pdfBytes = await newPdf.save();\n    splitPdfs.push({\n      bytes: pdfBytes,\n      startPage: startPage + 1,\n      endPage: endPage,\n      name: `split_${i + 1}_pages_${startPage + 1}-${endPage}`,\n    });\n  }\n\n  onProgress(100, \"Done!\");\n  return { splits: splitPdfs, totalPages, numSplits };\n}\n\n/* --------------------------------------------------------------\n   PDF MERGING FUNCTION\n   -------------------------------------------------------------- */\nasync function mergePDFs(fileObjects, onProgress) {\n  onProgress(10, \"Creating merged PDF…\");\n  const mergedPdf = await PDFDocument.create();\n  let totalPages = 0;\n\n  for (let i = 0; i < fileObjects.length; i++) {\n    const fileObj = fileObjects[i];\n    onProgress(10 + (i / fileObjects.length) * 80, `Merging ${fileObj.fileName}…`);\n\n    const pdfDoc = await PDFDocument.load(fileObj.arrayBuffer, { ignoreEncryption: true });\n    const pageCount = pdfDoc.getPageCount();\n    const pageIndices = Array.from({ length: pageCount }, (_, idx) => idx);\n\n    const copiedPages = await mergedPdf.copyPages(pdfDoc, pageIndices);\n    copiedPages.forEach(page => {\n      mergedPdf.addPage(page);\n    });\n\n    totalPages += pageCount;\n  }\n\n  onProgress(95, \"Saving merged PDF…\");\n  const mergedBytes = await mergedPdf.save({ useObjectStreams: true });\n  onProgress(100, \"Done!\");\n\n  return { bytes: mergedBytes, totalPages, success: true };\n}\n\n/* --------------------------------------------------------------\n   PDF PAGE EXTRACTION FUNCTION\n   -------------------------------------------------------------- */\nasync function extractPages(pdfBytes, selectedPageIndices, onProgress) {\n  onProgress(10, \"Loading PDF…\");\n  const pdfDoc = await PDFDocument.load(pdfBytes, { ignoreEncryption: true });\n  const totalPages = pdfDoc.getPageCount();\n\n  if (selectedPageIndices.length === 0) {\n    throw new Error(\"No pages selected for extraction\");\n  }\n\n  // Validate page indices\n  for (const pageIdx of selectedPageIndices) {\n    if (pageIdx < 0 || pageIdx >= totalPages) {\n      throw new Error(`Invalid page index: ${pageIdx + 1}. PDF has ${totalPages} pages.`);\n    }\n  }\n\n  onProgress(30, \"Creating new PDF with selected pages…\");\n  const newPdf = await PDFDocument.create();\n\n  onProgress(50, `Extracting ${selectedPageIndices.length} page${selectedPageIndices.length !== 1 ? \"s\" : \"\"}…`);\n\n  // Copy selected pages in order\n  const copiedPages = await newPdf.copyPages(pdfDoc, selectedPageIndices);\n  copiedPages.forEach(page => {\n    newPdf.addPage(page);\n  });\n\n  onProgress(90, \"Saving extracted PDF…\");\n  const extractedBytes = await newPdf.save({ useObjectStreams: true });\n  onProgress(100, \"Done!\");\n\n  return { bytes: extractedBytes, pageCount: selectedPageIndices.length, success: true };\n}\n\n/* ------------------- VALIDATION ------------------- */\nfunction validatePDF(file) {\n  if (!file) return { valid: false, error: \"No file selected\" };\n  if (file.type !== \"application/pdf\" && !file.name.toLowerCase().endsWith(\".pdf\")) return { valid: false, error: \"Please select a valid PDF file\" };\n  if (file.size === 0) return { valid: false, error: \"File is empty\" };\n  if (file.size > 500 * 1024 * 1024) return { valid: false, error: \"File is too large (max 500 MB)\" };\n  return { valid: true };\n}\n\n/* ------------------- MAIN APP COMPONENT ------------------- */\nfunction App() {\n  /* ---------- Language ---------- */\n  const [language, setLanguage] = useState(() => {\n    const saved = localStorage.getItem(\"language\");\n    return saved || \"en\";\n  });\n\n  React.useEffect(() => {\n    localStorage.setItem(\"language\", language);\n  }, [language]);\n\n  const translations = {\n    en: {\n      brand: \"PDF Multi-Tool\",\n      toolCompressor: \"PDF Compressor\",\n      toolSplitter: \"PDF Splitter\",\n      toolMerger: \"PDF Merger\",\n      toolExtractor: \"Page Extractor\",\n      selectTool: \"Select a Tool\",\n      selectToolDesc: \"Choose the PDF tool you want to use\",\n\n      // Compressor\n      selectOrDrop: \"Select or Drop PDF to Compress\",\n      dropHere: \"Drop your PDF here\",\n      subtitle: \"Fast, secure, client‑side compression\",\n      chooseFile: \"Choose File\",\n      qualityLabel: \"Compression Quality\",\n      qualityLow: \"Max Compression\",\n      qualityHigh: \"Max Quality\",\n      qualityDescription: \"Lower quality = smaller file size, Higher quality = better visual fidelity\",\n\n      // Splitter\n      selectOrDropSplit: \"Select or Drop PDF to Split\",\n      subtitleSplit: \"Split your PDF into multiple files\",\n      pagesPerSplit: \"Pages per Split\",\n      pagesPerSplitDesc: \"How many pages in each split PDF\",\n      splitPreview: \"Split Preview\",\n      willCreate: \"Will create\",\n      pdfs: \"PDFs\",\n      pdf: \"PDF\",\n\n      // Merger\n      selectOrDropMerge: \"Select or Drop PDFs to Merge\",\n      dropMultiple: \"Drop your PDFs here\",\n      subtitleMerge: \"Combine multiple PDFs into one file\",\n      chooseFiles: \"Choose Files\",\n      mergeOrder: \"Merge Order\",\n      fileSelected: \"file selected\",\n      filesSelected: \"files selected\",\n      moveUp: \"Move up\",\n      moveDown: \"Move down\",\n      removeThisFile: \"Remove this file\",\n      startMerge: \"Start Merge\",\n      addMoreFiles: \"Add More Files\",\n      mergeAnother: \"Merge Another Set\",\n      merged: \"Merged\",\n      filesInto: \"files into\",\n      totalSize: \"Total Size\",\n\n      // Extractor\n      selectOrDropExtract: \"Select or Drop PDF to Extract Pages\",\n      subtitleExtract: \"Choose specific pages to extract\",\n      selectPages: \"Select Pages\",\n      selectedPages: \"Selected Pages\",\n      noPages: \"No pages selected\",\n      clickPages: \"Click on pages to select/deselect them\",\n      extractPages: \"Extract Pages\",\n      clearSelection: \"Clear Selection\",\n      selectAll: \"Select All\",\n      extractAnother: \"Extract From Another File\",\n      extractSuccessful: \"Extraction Successful!\",\n      extractComplete: \"Extraction Complete\",\n      extracted: \"Extracted\",\n      pagesExtracted: \"pages\",\n\n      // Common\n      originalSize: \"Original size\",\n      pages: \"pages\",\n      page: \"page\",\n      removeFile: \"Remove file\",\n      error: \"Error\",\n      note: \"Note\",\n      processing: \"Processing\",\n      download: \"Download\",\n      downloadAll: \"Download All\",\n      backToTools: \"Back to Tools\",\n\n      // Results\n      compressionSuccessful: \"Compression Successful!\",\n      compressionComplete: \"Compression Complete\",\n      splitSuccessful: \"Split Successful!\",\n      splitComplete: \"Split Complete\",\n      mergeSuccessful: \"Merge Successful!\",\n      mergeComplete: \"Merge Complete\",\n      reducedBy: \"Reduced by\",\n      originalSizeLabel: \"Original Size\",\n      compressedSize: \"Compressed Size\",\n      sizeReduction: \"Size Reduction\",\n      bytesSaved: \"Bytes Saved\",\n      targetLabel: \"10 MB Target\",\n      met: \"✓ Met\",\n      exceeded: \"⚠ Exceeded\",\n      pageCount: \"Page Count\",\n      compressAnother: \"Compress Another File\",\n      splitAnother: \"Split Another File\",\n\n      footer: \"© 2026 PDF Multi-Tool. Free & Open Source.\",\n      githubText: \"View on GitHub\",\n    },\n    pt: {\n      brand: \"PDF Multi-Ferramenta\",\n      toolCompressor: \"Compressor de PDF\",\n      toolSplitter: \"Divisor de PDF\",\n      toolMerger: \"Unir PDFs\",\n      toolExtractor: \"Extrator de Páginas\",\n      selectTool: \"Seleciona uma Ferramenta\",\n      selectToolDesc: \"Escolhe a ferramenta de PDF que queres usar\",\n\n      // Compressor\n      selectOrDrop: \"Seleciona ou Arrasta o PDF para Comprimir\",\n      dropHere: \"Larga o teu PDF aqui\",\n      subtitle: \"Compressão rápida, segura e local\",\n      chooseFile: \"Escolher Ficheiro\",\n      qualityLabel: \"Qualidade de Compressão\",\n      qualityLow: \"Compressão Máxima\",\n      qualityHigh: \"Qualidade Máxima\",\n      qualityDescription: \"Qualidade baixa = ficheiro mais pequeno, Qualidade alta = melhor fidelidade visual\",\n\n      // Splitter\n      selectOrDropSplit: \"Seleciona ou Arrasta o PDF para Dividir\",\n      subtitleSplit: \"Divide o teu PDF em múltiplos ficheiros\",\n      pagesPerSplit: \"Páginas por Divisão\",\n      pagesPerSplitDesc: \"Quantas páginas em cada PDF dividido\",\n      splitPreview: \"Pré-visualização da Divisão\",\n      willCreate: \"Vai criar\",\n      pdfs: \"PDFs\",\n      pdf: \"PDF\",\n\n      // Merger\n      selectOrDropMerge: \"Seleciona ou Arrasta PDFs para Unir\",\n      dropMultiple: \"Larga os teus PDFs aqui\",\n      subtitleMerge: \"Combina vários PDFs num único ficheiro\",\n      chooseFiles: \"Escolher Ficheiros\",\n      mergeOrder: \"Ordem de União\",\n      fileSelected: \"ficheiro selecionado\",\n      filesSelected: \"ficheiros selecionados\",\n      moveUp: \"Mover para cima\",\n      moveDown: \"Mover para baixo\",\n      removeThisFile: \"Remover este ficheiro\",\n      startMerge: \"Iniciar União\",\n      addMoreFiles: \"Adicionar Mais Ficheiros\",\n      mergeAnother: \"Unir Outro Conjunto\",\n      merged: \"Uniu\",\n      filesInto: \"ficheiros em\",\n      totalSize: \"Tamanho Total\",\n\n      // Extractor\n      selectOrDropExtract: \"Seleciona ou Arrasta PDF para Extrair Páginas\",\n      subtitleExtract: \"Escolhe páginas específicas para extrair\",\n      selectPages: \"Selecionar Páginas\",\n      selectedPages: \"Páginas Selecionadas\",\n      noPages: \"Nenhuma página selecionada\",\n      clickPages: \"Clica nas páginas para selecionar/desselecionar\",\n      extractPages: \"Extrair Páginas\",\n      clearSelection: \"Limpar Seleção\",\n      selectAll: \"Selecionar Todas\",\n      extractAnother: \"Extrair de Outro Ficheiro\",\n      extractSuccessful: \"Extração Bem-Sucedida!\",\n      extractComplete: \"Extração Concluída\",\n      extracted: \"Extraiu\",\n      pagesExtracted: \"páginas\",\n\n      // Common\n      originalSize: \"Tamanho original\",\n      pages: \"páginas\",\n      page: \"página\",\n      removeFile: \"Remover ficheiro\",\n      error: \"Erro\",\n      note: \"Nota\",\n      processing: \"A processar\",\n      download: \"Descarregar\",\n      downloadAll: \"Descarregar Todos\",\n      backToTools: \"Voltar às Ferramentas\",\n\n      // Results\n      compressionSuccessful: \"Compressão Bem-Sucedida!\",\n      compressionComplete: \"Compressão Concluída\",\n      splitSuccessful: \"Divisão Bem-Sucedida!\",\n      splitComplete: \"Divisão Concluída\",\n      mergeSuccessful: \"União Bem-Sucedida!\",\n      mergeComplete: \"União Concluída\",\n      reducedBy: \"Reduzido em\",\n      originalSizeLabel: \"Tamanho Original\",\n      compressedSize: \"Tamanho Comprimido\",\n      sizeReduction: \"Redução de Tamanho\",\n      bytesSaved: \"Bytes Poupados\",\n      targetLabel: \"Meta de 10 MB\",\n      met: \"✓ Atingida\",\n      exceeded: \"⚠ Excedida\",\n      pageCount: \"Número de Páginas\",\n      compressAnother: \"Comprimir Outro Ficheiro\",\n      splitAnother: \"Dividir Outro Ficheiro\",\n\n      footer: \"© 2026 PDF Multi-Ferramenta. Gratuito e Código Aberto.\",\n      githubText: \"Ver no GitHub\",\n    },\n    pl: {\n      brand: \"Narzędzie PDF\",\n      toolCompressor: \"Kompresor PDF\",\n      toolSplitter: \"Dzielenie PDF\",\n      toolMerger: \"Łączenie PDF\",\n      toolExtractor: \"Ekstraktor Stron\",\n      selectTool: \"Wybierz Narzędzie\",\n      selectToolDesc: \"Wybierz narzędzie PDF, którego chcesz użyć\",\n\n      // Compressor\n      selectOrDrop: \"Wybierz lub Upuść PDF do Kompresji\",\n      dropHere: \"Upuść swój PDF tutaj\",\n      subtitle: \"Szybka, bezpieczna kompresja po stronie klienta\",\n      chooseFile: \"Wybierz Plik\",\n      qualityLabel: \"Jakość Kompresji\",\n      qualityLow: \"Maksymalna Kompresja\",\n      qualityHigh: \"Maksymalna Jakość\",\n      qualityDescription: \"Niższa jakość = mniejszy rozmiar pliku, Wyższa jakość = lepsza wierność wizualna\",\n\n      // Splitter\n      selectOrDropSplit: \"Wybierz lub Upuść PDF do Podziału\",\n      subtitleSplit: \"Podziel swój PDF na wiele plików\",\n      pagesPerSplit: \"Stron na Podział\",\n      pagesPerSplitDesc: \"Ile stron w każdym podzielonym PDF\",\n      splitPreview: \"Podgląd Podziału\",\n      willCreate: \"Utworzy\",\n      pdfs: \"plików PDF\",\n      pdf: \"plik PDF\",\n\n      // Merger\n      selectOrDropMerge: \"Wybierz lub Upuść PDF do Połączenia\",\n      dropMultiple: \"Upuść swoje pliki PDF tutaj\",\n      subtitleMerge: \"Połącz wiele plików PDF w jeden\",\n      chooseFiles: \"Wybierz Pliki\",\n      mergeOrder: \"Kolejność Łączenia\",\n      fileSelected: \"plik wybrany\",\n      filesSelected: \"pliki wybrane\",\n      moveUp: \"Przesuń w górę\",\n      moveDown: \"Przesuń w dół\",\n      removeThisFile: \"Usuń ten plik\",\n      startMerge: \"Rozpocznij Łączenie\",\n      addMoreFiles: \"Dodaj Więcej Plików\",\n      mergeAnother: \"Połącz Kolejny Zestaw\",\n      merged: \"Połączono\",\n      filesInto: \"plików w\",\n      totalSize: \"Całkowity Rozmiar\",\n\n      // Extractor\n      selectOrDropExtract: \"Wybierz lub Upuść PDF do Wyodrębnienia Stron\",\n      subtitleExtract: \"Wybierz konkretne strony do wyodrębnienia\",\n      selectPages: \"Wybierz Strony\",\n      selectedPages: \"Wybrane Strony\",\n      noPages: \"Nie wybrano stron\",\n      clickPages: \"Kliknij strony, aby je wybrać/odznaczyć\",\n      extractPages: \"Wyodrębnij Strony\",\n      clearSelection: \"Wyczyść Wybór\",\n      selectAll: \"Zaznacz Wszystkie\",\n      extractAnother: \"Wyodrębnij z Innego Pliku\",\n      extractSuccessful: \"Wyodrębnienie Udane!\",\n      extractComplete: \"Wyodrębnienie Zakończone\",\n      extracted: \"Wyodrębniono\",\n      pagesExtracted: \"stron\",\n\n      // Common\n      originalSize: \"Oryginalny rozmiar\",\n      pages: \"stron\",\n      page: \"strona\",\n      removeFile: \"Usuń plik\",\n      error: \"Błąd\",\n      note: \"Uwaga\",\n      processing: \"Przetwarzanie\",\n      download: \"Pobierz\",\n      downloadAll: \"Pobierz Wszystkie\",\n      backToTools: \"Powrót do Narzędzi\",\n\n      // Results\n      compressionSuccessful: \"Kompresja Udana!\",\n      compressionComplete: \"Kompresja Zakończona\",\n      splitSuccessful: \"Podział Udany!\",\n      splitComplete: \"Podział Zakończony\",\n      mergeSuccessful: \"Łączenie Udane!\",\n      mergeComplete: \"Łączenie Zakończone\",\n      reducedBy: \"Zmniejszono o\",\n      originalSizeLabel: \"Oryginalny Rozmiar\",\n      compressedSize: \"Rozmiar Skompresowany\",\n      sizeReduction: \"Redukcja Rozmiaru\",\n      bytesSaved: \"Zaoszczędzone Bajty\",\n      targetLabel: \"Cel 10 MB\",\n      met: \"✓ Osiągnięty\",\n      exceeded: \"⚠ Przekroczony\",\n      pageCount: \"Liczba Stron\",\n      compressAnother: \"Kompresuj Inny Plik\",\n      splitAnother: \"Podziel Inny Plik\",\n\n      footer: \"© 2026 Narzędzie PDF. Darmowe i Open Source.\",\n      githubText: \"Zobacz na GitHub\",\n    },\n    ro: {\n      brand: \"Instrument PDF\",\n      toolCompressor: \"Compresor PDF\",\n      toolSplitter: \"Împărțire PDF\",\n      toolMerger: \"Unire PDF\",\n      toolExtractor: \"Extractor Pagini\",\n      selectTool: \"Selectează un Instrument\",\n      selectToolDesc: \"Alege instrumentul PDF pe care vrei să-l folosești\",\n\n      // Compressor\n      selectOrDrop: \"Selectează sau Trage PDF pentru Comprimare\",\n      dropHere: \"Pune PDF-ul tău aici\",\n      subtitle: \"Comprimare rapidă, sigură, pe partea clientului\",\n      chooseFile: \"Alege Fișier\",\n      qualityLabel: \"Calitatea Comprimării\",\n      qualityLow: \"Comprimare Maximă\",\n      qualityHigh: \"Calitate Maximă\",\n      qualityDescription: \"Calitate mai mică = fișier mai mic, Calitate mai mare = fidelitate vizuală mai bună\",\n\n      // Splitter\n      selectOrDropSplit: \"Selectează sau Trage PDF pentru Împărțire\",\n      subtitleSplit: \"Împarte PDF-ul tău în mai multe fișiere\",\n      pagesPerSplit: \"Pagini per Împărțire\",\n      pagesPerSplitDesc: \"Câte pagini în fiecare PDF împărțit\",\n      splitPreview: \"Previzualizare Împărțire\",\n      willCreate: \"Va crea\",\n      pdfs: \"fișiere PDF\",\n      pdf: \"fișier PDF\",\n\n      // Merger\n      selectOrDropMerge: \"Selectează sau Trage PDF-uri pentru Unire\",\n      dropMultiple: \"Pune PDF-urile tale aici\",\n      subtitleMerge: \"Combină mai multe PDF-uri într-un singur fișier\",\n      chooseFiles: \"Alege Fișiere\",\n      mergeOrder: \"Ordinea de Unire\",\n      fileSelected: \"fișier selectat\",\n      filesSelected: \"fișiere selectate\",\n      moveUp: \"Mută în sus\",\n      moveDown: \"Mută în jos\",\n      removeThisFile: \"Elimină acest fișier\",\n      startMerge: \"Începe Unirea\",\n      addMoreFiles: \"Adaugă Mai Multe Fișiere\",\n      mergeAnother: \"Unește Alt Set\",\n      merged: \"Unit\",\n      filesInto: \"fișiere în\",\n      totalSize: \"Dimensiune Totală\",\n\n      // Extractor\n      selectOrDropExtract: \"Selectează sau Trage PDF pentru Extragere Pagini\",\n      subtitleExtract: \"Alege pagini specifice pentru extragere\",\n      selectPages: \"Selectează Pagini\",\n      selectedPages: \"Pagini Selectate\",\n      noPages: \"Nicio pagină selectată\",\n      clickPages: \"Dă click pe pagini pentru a le selecta/deselecta\",\n      extractPages: \"Extrage Pagini\",\n      clearSelection: \"Șterge Selecția\",\n      selectAll: \"Selectează Toate\",\n      extractAnother: \"Extrage din Alt Fișier\",\n      extractSuccessful: \"Extragere Reușită!\",\n      extractComplete: \"Extragere Completă\",\n      extracted: \"Extras\",\n      pagesExtracted: \"pagini\",\n\n      // Common\n      originalSize: \"Dimensiune originală\",\n      pages: \"pagini\",\n      page: \"pagină\",\n      removeFile: \"Elimină fișier\",\n      error: \"Eroare\",\n      note: \"Notă\",\n      processing: \"Se procesează\",\n      download: \"Descarcă\",\n      downloadAll: \"Descarcă Toate\",\n      backToTools: \"Înapoi la Instrumente\",\n\n      // Results\n      compressionSuccessful: \"Comprimare Reușită!\",\n      compressionComplete: \"Comprimare Completă\",\n      splitSuccessful: \"Împărțire Reușită!\",\n      splitComplete: \"Împărțire Completă\",\n      mergeSuccessful: \"Unire Reușită!\",\n      mergeComplete: \"Unire Completă\",\n      reducedBy: \"Redus cu\",\n      originalSizeLabel: \"Dimensiune Originală\",\n      compressedSize: \"Dimensiune Comprimată\",\n      sizeReduction: \"Reducere Dimensiune\",\n      bytesSaved: \"Octeți Economisiți\",\n      targetLabel: \"Țintă 10 MB\",\n      met: \"✓ Atins\",\n      exceeded: \"⚠ Depășit\",\n      pageCount: \"Număr Pagini\",\n      compressAnother: \"Comprimă Alt Fișier\",\n      splitAnother: \"Împarte Alt Fișier\",\n\n      footer: \"© 2026 Instrument PDF. Gratuit & Open Source.\",\n      githubText: \"Vezi pe GitHub\",\n    },\n    fil: {\n      brand: \"PDF Multi-Tool\",\n      toolCompressor: \"PDF Compressor\",\n      toolSplitter: \"Paghahati ng PDF\",\n      toolMerger: \"Pagsasama ng PDF\",\n      toolExtractor: \"Tagakuha ng Pahina\",\n      selectTool: \"Pumili ng Tool\",\n      selectToolDesc: \"Piliin ang PDF tool na gusto mong gamitin\",\n\n      // Compressor\n      selectOrDrop: \"Pumili o I-drop ang PDF para i-compress\",\n      dropHere: \"I-drop ang iyong PDF dito\",\n      subtitle: \"Mabilis, secure, client-side compression\",\n      chooseFile: \"Pumili ng File\",\n      qualityLabel: \"Kalidad ng Compression\",\n      qualityLow: \"Maximum Compression\",\n      qualityHigh: \"Maximum na Kalidad\",\n      qualityDescription: \"Mas mababang kalidad = mas maliit na file, Mas mataas na kalidad = mas magandang visual\",\n\n      // Splitter\n      selectOrDropSplit: \"Pumili o I-drop ang PDF para hatiin\",\n      subtitleSplit: \"Hatiin ang iyong PDF sa maraming file\",\n      pagesPerSplit: \"Mga Pahina bawat Hati\",\n      pagesPerSplitDesc: \"Ilang pahina sa bawat nahatiang PDF\",\n      splitPreview: \"Preview ng Paghahati\",\n      willCreate: \"Gagawa ng\",\n      pdfs: \"mga PDF\",\n      pdf: \"PDF\",\n\n      // Merger\n      selectOrDropMerge: \"Pumili o I-drop ang mga PDF para pagsamahin\",\n      dropMultiple: \"I-drop ang iyong mga PDF dito\",\n      subtitleMerge: \"Pagsamahin ang maraming PDF sa isang file\",\n      chooseFiles: \"Pumili ng mga File\",\n      mergeOrder: \"Pagkakasunod-sunod ng Pagsasama\",\n      fileSelected: \"file na napili\",\n      filesSelected: \"mga file na napili\",\n      moveUp: \"Ilipat pataas\",\n      moveDown: \"Ilipat pababa\",\n      removeThisFile: \"Alisin ang file na ito\",\n      startMerge: \"Simulan ang Pagsasama\",\n      addMoreFiles: \"Magdagdag ng Higit pang mga File\",\n      mergeAnother: \"Pagsamahin ang Iba Pang Set\",\n      merged: \"Pinagsama\",\n      filesInto: \"mga file sa\",\n      totalSize: \"Kabuuang Laki\",\n\n      // Extractor\n      selectOrDropExtract: \"Pumili o I-drop ang PDF para Kunin ang mga Pahina\",\n      subtitleExtract: \"Pumili ng mga partikular na pahina para kunin\",\n      selectPages: \"Pumili ng mga Pahina\",\n      selectedPages: \"Mga Napiling Pahina\",\n      noPages: \"Walang napiling pahina\",\n      clickPages: \"I-click ang mga pahina para piliin/alisin sa pagpili\",\n      extractPages: \"Kunin ang mga Pahina\",\n      clearSelection: \"I-clear ang Pagpili\",\n      selectAll: \"Piliin Lahat\",\n      extractAnother: \"Kunin mula sa Ibang File\",\n      extractSuccessful: \"Matagumpay ang Pagkuha!\",\n      extractComplete: \"Kumpleto ang Pagkuha\",\n      extracted: \"Kinuha\",\n      pagesExtracted: \"mga pahina\",\n\n      // Common\n      originalSize: \"Orihinal na laki\",\n      pages: \"mga pahina\",\n      page: \"pahina\",\n      removeFile: \"Alisin ang file\",\n      error: \"Error\",\n      note: \"Paalala\",\n      processing: \"Pinoproseso\",\n      download: \"I-download\",\n      downloadAll: \"I-download Lahat\",\n      backToTools: \"Bumalik sa mga Tool\",\n\n      // Results\n      compressionSuccessful: \"Matagumpay ang Compression!\",\n      compressionComplete: \"Kumpleto ang Compression\",\n      splitSuccessful: \"Matagumpay ang Paghahati!\",\n      splitComplete: \"Kumpleto ang Paghahati\",\n      mergeSuccessful: \"Matagumpay ang Pagsasama!\",\n      mergeComplete: \"Kumpleto ang Pagsasama\",\n      reducedBy: \"Nabawasan ng\",\n      originalSizeLabel: \"Orihinal na Laki\",\n      compressedSize: \"Laki ng Compressed\",\n      sizeReduction: \"Pagbawas ng Laki\",\n      bytesSaved: \"Mga Byte na Naipon\",\n      targetLabel: \"Target na 10 MB\",\n      met: \"✓ Naabot\",\n      exceeded: \"⚠ Lumampas\",\n      pageCount: \"Bilang ng Pahina\",\n      compressAnother: \"I-compress ang Ibang File\",\n      splitAnother: \"Hatiin ang Ibang File\",\n\n      footer: \"© 2026 PDF Multi-Tool. Libre at Open Source.\",\n      githubText: \"Tingnan sa GitHub\",\n    },\n  };\n\n  const t = translations[language];\n\n  /* ---------- Theme ---------- */\n  const [darkMode, setDarkMode] = useState(() => {\n    const saved = localStorage.getItem(\"theme\");\n    return saved === \"dark\" || (!saved && window.matchMedia(\"(prefers-color-scheme: dark)\").matches);\n  });\n\n  React.useEffect(() => {\n    localStorage.setItem(\"theme\", darkMode ? \"dark\" : \"light\");\n    document.documentElement.classList.toggle(\"dark\", darkMode);\n  }, [darkMode]);\n\n  /* ---------- Tool Selection ---------- */\n  const [selectedTool, setSelectedTool] = useState(null); // 'compressor' or 'splitter' or 'merger'\n\n  /* ---------- State ---------- */\n  const [file, setFile] = useState(null);\n  const [processing, setProcessing] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [progressMessage, setProgressMessage] = useState(\"\");\n\n  const [originalSize, setOriginalSize] = useState(0);\n  const [pageCount, setPageCount] = useState(0);\n\n  const [error, setError] = useState(null);\n  const [warning, setWarning] = useState(null);\n\n  // Compressor specific\n  const [quality, setQuality] = useState(60);\n  const [compressedSize, setCompressedSize] = useState(0);\n  const [compressedBlob, setCompressedBlob] = useState(null);\n\n  // Splitter specific\n  const [pagesPerSplit, setPagesPerSplit] = useState(5);\n  const [splitResults, setSplitResults] = useState(null);\n\n  // Merger specific\n  const [mergeFiles, setMergeFiles] = useState([]);\n  const [mergedBlob, setMergedBlob] = useState(null);\n  const [mergedSize, setMergedSize] = useState(0);\n\n  // Extractor specific\n  const [extractFile, setExtractFile] = useState(null);\n  const [pdfPages, setPdfPages] = useState([]);\n  const [selectedPages, setSelectedPages] = useState(new Set());\n  const [extractedBlob, setExtractedBlob] = useState(null);\n  const [extractedSize, setExtractedSize] = useState(0);\n  const [loadingPages, setLoadingPages] = useState(false);\n  const [thumbnailZoom, setThumbnailZoom] = useState(150); // Default 150px\n\n  const fileInputRef = useRef(null);\n  const dragCounter = useRef(0);\n  const [isDragging, setIsDragging] = useState(false);\n\n  const TARGET_SIZE = 10 * 1024 * 1024; // 10 MB\n\n  const formatBytes = useCallback(bytes => {\n    if (bytes === 0) return \"0 Bytes\";\n    const k = 1024;\n    const dm = 2;\n    const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\"];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + \" \" + sizes[i];\n  }, []);\n\n  const cycleLanguage = () => {\n    const languages = [\"en\", \"pt\", \"pl\", \"ro\", \"fil\"];\n    const currentIndex = languages.indexOf(language);\n    const nextIndex = (currentIndex + 1) % languages.length;\n    setLanguage(languages[nextIndex]);\n  };\n\n  const getLanguageFlag = () => {\n    switch (language) {\n      case \"en\":\n        return <IconEnglishFlag />;\n      case \"pt\":\n        return <IconPortugueseFlag />;\n      case \"pl\":\n        return <IconPolishFlag />;\n      case \"ro\":\n        return <IconRomanianFlag />;\n      case \"fil\":\n        return <IconFilipinoFlag />;\n      default:\n        return <IconEnglishFlag />;\n    }\n  };\n\n  const getLanguageName = () => {\n    switch (language) {\n      case \"en\":\n        return \"English\";\n      case \"pt\":\n        return \"Português\";\n      case \"pl\":\n        return \"Polski\";\n      case \"ro\":\n        return \"Română\";\n      case \"fil\":\n        return \"Filipino\";\n      default:\n        return \"English\";\n    }\n  };\n\n  /* ---------- File handling - COMPRESSOR ---------- */\n  const handleCompressFile = async selectedFile => {\n    const validation = validatePDF(selectedFile);\n    if (!validation.valid) {\n      setError(validation.error);\n      return;\n    }\n\n    setFile(selectedFile);\n    setError(null);\n    setWarning(null);\n    setCompressedBlob(null);\n    setOriginalSize(selectedFile.size);\n    setProcessing(true);\n    setProgress(0);\n    setProgressMessage(\"Preparing…\");\n\n    try {\n      const arrayBuffer = await selectedFile.arrayBuffer();\n\n      const onProgress = (pct, msg) => {\n        setProgress(Math.round(pct));\n        setProgressMessage(msg);\n      };\n\n      const result = await compressPDFUnified(arrayBuffer, quality, onProgress);\n\n      const blob = new Blob([result.bytes], { type: \"application/pdf\" });\n\n      setCompressedBlob(blob);\n      setCompressedSize(blob.size);\n      setPageCount(result.pageCount);\n      setProcessing(false);\n\n      if (blob.size > TARGET_SIZE) {\n        setWarning(\n          `Compressed file is ${formatBytes(blob.size)} – still above the 10 MB target. ` +\n            `The PDF may contain complex graphics that cannot be reduced further without quality loss.`,\n        );\n      } else if (blob.size >= selectedFile.size * 0.95) {\n        setWarning(\n          `Only a ${((1 - blob.size / selectedFile.size) * 100).toFixed(1)} % size reduction. ` + `The original PDF may already be optimised.`,\n        );\n      }\n    } catch (e) {\n      console.error(e);\n      setError(e instanceof Error ? e.message : \"Failed to compress PDF.\");\n      setProcessing(false);\n      setProgress(0);\n      setProgressMessage(\"\");\n    }\n  };\n\n  /* ---------- File handling - SPLITTER ---------- */\n  const handleSplitFile = async selectedFile => {\n    const validation = validatePDF(selectedFile);\n    if (!validation.valid) {\n      setError(validation.error);\n      return;\n    }\n\n    setFile(selectedFile);\n    setError(null);\n    setWarning(null);\n    setSplitResults(null);\n    setOriginalSize(selectedFile.size);\n    setProcessing(true);\n    setProgress(0);\n    setProgressMessage(\"Preparing…\");\n\n    try {\n      const arrayBuffer = await selectedFile.arrayBuffer();\n\n      const onProgress = (pct, msg) => {\n        setProgress(Math.round(pct));\n        setProgressMessage(msg);\n      };\n\n      const result = await splitPDF(arrayBuffer, pagesPerSplit, onProgress);\n\n      setSplitResults(result);\n      setPageCount(result.totalPages);\n      setProcessing(false);\n    } catch (e) {\n      console.error(e);\n      setError(e instanceof Error ? e.message : \"Failed to split PDF.\");\n      setProcessing(false);\n      setProgress(0);\n      setProgressMessage(\"\");\n    }\n  };\n\n  /* ---------- Handle file selection based on tool ---------- */\n  const handleFileSelect = selectedFile => {\n    if (selectedTool === \"compressor\") {\n      handleCompressFile(selectedFile);\n    } else if (selectedTool === \"splitter\") {\n      handleSplitFile(selectedFile);\n    } else if (selectedTool === \"extractor\") {\n      handleExtractFile(selectedFile);\n    }\n  };\n\n  /* ---------- Recompress with new quality ---------- */\n  const handleRecompress = async () => {\n    if (!file) return;\n    handleCompressFile(file);\n  };\n\n  /* ---------- Re-split with new pages per split ---------- */\n  const handleResplit = async () => {\n    if (!file) return;\n    handleSplitFile(file);\n  };\n\n  /* ---------- File handling - MERGER ---------- */\n  const handleMergeFiles = async selectedFiles => {\n    if (!selectedFiles || selectedFiles.length === 0) return;\n\n    const newFiles = [];\n    let totalSize = 0;\n\n    for (const file of selectedFiles) {\n      const validation = validatePDF(file);\n      if (!validation.valid) {\n        setError(`${file.name}: ${validation.error}`);\n        continue;\n      }\n\n      const arrayBuffer = await file.arrayBuffer();\n      newFiles.push({\n        file,\n        arrayBuffer,\n        fileName: file.name,\n        size: file.size,\n        id: Date.now() + Math.random(),\n      });\n      totalSize += file.size;\n    }\n\n    if (newFiles.length > 0) {\n      setMergeFiles(prev => [...prev, ...newFiles]);\n      setOriginalSize(prev => prev + totalSize);\n    }\n  };\n\n  const handleRemoveMergeFile = id => {\n    setMergeFiles(prev => {\n      const fileToRemove = prev.find(f => f.id === id);\n      if (fileToRemove) {\n        setOriginalSize(prevSize => prevSize - fileToRemove.size);\n      }\n      return prev.filter(f => f.id !== id);\n    });\n  };\n\n  const handleMoveMergeFile = (id, direction) => {\n    setMergeFiles(prev => {\n      const index = prev.findIndex(f => f.id === id);\n      if (index === -1) return prev;\n\n      const newIndex = direction === \"up\" ? index - 1 : index + 1;\n      if (newIndex < 0 || newIndex >= prev.length) return prev;\n\n      const newFiles = [...prev];\n      [newFiles[index], newFiles[newIndex]] = [newFiles[newIndex], newFiles[index]];\n      return newFiles;\n    });\n  };\n\n  const handleStartMerge = async () => {\n    if (mergeFiles.length < 2) {\n      setError(\"Please select at least 2 PDF files to merge\");\n      return;\n    }\n\n    setError(null);\n    setWarning(null);\n    setMergedBlob(null);\n    setProcessing(true);\n    setProgress(0);\n    setProgressMessage(\"Preparing…\");\n\n    try {\n      const onProgress = (pct, msg) => {\n        setProgress(Math.round(pct));\n        setProgressMessage(msg);\n      };\n\n      const result = await mergePDFs(mergeFiles, onProgress);\n\n      const blob = new Blob([result.bytes], { type: \"application/pdf\" });\n\n      setMergedBlob(blob);\n      setMergedSize(blob.size);\n      setPageCount(result.totalPages);\n      setProcessing(false);\n    } catch (e) {\n      console.error(e);\n      setError(e instanceof Error ? e.message : \"Failed to merge PDFs.\");\n      setProcessing(false);\n      setProgress(0);\n      setProgressMessage(\"\");\n    }\n  };\n\n  /* ---------- File handling - EXTRACTOR ---------- */\n  const handleExtractFile = async selectedFile => {\n    const validation = validatePDF(selectedFile);\n    if (!validation.valid) {\n      setError(validation.error);\n      return;\n    }\n\n    setExtractFile(selectedFile);\n    setError(null);\n    setWarning(null);\n    setExtractedBlob(null);\n    setSelectedPages(new Set());\n    setOriginalSize(selectedFile.size);\n    setLoadingPages(true);\n\n    try {\n      const arrayBuffer = await selectedFile.arrayBuffer();\n\n      // Load PDF with pdf.js for rendering\n      const uint8 = new Uint8Array(arrayBuffer);\n      const loadingTask = pdfjsLib.getDocument({ data: uint8, disableAutoFetch: true });\n      const pdf = await loadingTask.promise;\n      const numPages = pdf.numPages;\n      setPageCount(numPages);\n\n      // Render all pages as thumbnails\n      const pages = [];\n      const SCALE = 1.5; // Increased scale for better quality (was 0.3)\n\n      for (let pageNum = 1; pageNum <= numPages; pageNum++) {\n        const page = await pdf.getPage(pageNum);\n        const viewport = page.getViewport({ scale: SCALE });\n\n        const canvas = document.createElement(\"canvas\");\n        canvas.width = viewport.width;\n        canvas.height = viewport.height;\n        const ctx = canvas.getContext(\"2d\");\n\n        await page.render({ canvasContext: ctx, viewport }).promise;\n\n        // Use PNG for better quality instead of JPEG\n        const dataUrl = canvas.toDataURL(\"image/png\");\n        canvas.remove();\n\n        pages.push({\n          pageNumber: pageNum,\n          thumbnail: dataUrl,\n          width: viewport.width,\n          height: viewport.height,\n        });\n      }\n\n      setPdfPages(pages);\n      setLoadingPages(false);\n    } catch (e) {\n      console.error(e);\n      setError(e instanceof Error ? e.message : \"Failed to load PDF.\");\n      setLoadingPages(false);\n    }\n  };\n\n  const togglePageSelection = pageNumber => {\n    setSelectedPages(prev => {\n      const newSet = new Set(prev);\n      if (newSet.has(pageNumber)) {\n        newSet.delete(pageNumber);\n      } else {\n        newSet.add(pageNumber);\n      }\n      return newSet;\n    });\n  };\n\n  const handleSelectAllPages = () => {\n    if (selectedPages.size === pageCount) {\n      setSelectedPages(new Set());\n    } else {\n      setSelectedPages(new Set(Array.from({ length: pageCount }, (_, i) => i + 1)));\n    }\n  };\n\n  const handleClearSelection = () => {\n    setSelectedPages(new Set());\n  };\n\n  const handleZoomIn = () => {\n    setThumbnailZoom(prev => Math.min(prev + 50, 400)); // Max 400px\n  };\n\n  const handleZoomOut = () => {\n    setThumbnailZoom(prev => Math.max(prev - 50, 100)); // Min 100px\n  };\n\n  const handleStartExtraction = async () => {\n    if (selectedPages.size === 0) {\n      setError(\"Please select at least one page to extract\");\n      return;\n    }\n\n    if (!extractFile) {\n      setError(\"No file loaded\");\n      return;\n    }\n\n    setError(null);\n    setWarning(null);\n    setExtractedBlob(null);\n    setProcessing(true);\n    setProgress(0);\n    setProgressMessage(\"Preparing…\");\n\n    try {\n      const arrayBuffer = await extractFile.arrayBuffer();\n\n      const onProgress = (pct, msg) => {\n        setProgress(Math.round(pct));\n        setProgressMessage(msg);\n      };\n\n      // Convert page numbers to 0-based indices and sort them\n      const pageIndices = Array.from(selectedPages)\n        .sort((a, b) => a - b)\n        .map(p => p - 1);\n\n      const result = await extractPages(arrayBuffer, pageIndices, onProgress);\n\n      const blob = new Blob([result.bytes], { type: \"application/pdf\" });\n\n      setExtractedBlob(blob);\n      setExtractedSize(blob.size);\n      setProcessing(false);\n    } catch (e) {\n      console.error(e);\n      setError(e instanceof Error ? e.message : \"Failed to extract pages.\");\n      setProcessing(false);\n      setProgress(0);\n      setProgressMessage(\"\");\n    }\n  };\n\n  /* ---------- Download - MERGER ---------- */\n  const handleDownloadMerged = () => {\n    if (!mergedBlob) return;\n    try {\n      const url = URL.createObjectURL(mergedBlob);\n      const a = document.createElement(\"a\");\n      a.href = url;\n      a.download = `merged_${Date.now()}.pdf`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      setTimeout(() => URL.revokeObjectURL(url), 100);\n    } catch (e) {\n      console.error(e);\n      setError(\"Failed to download file. Please try again.\");\n    }\n  };\n\n  /* ---------- Download - COMPRESSOR ---------- */\n  const handleDownloadCompressed = () => {\n    if (!compressedBlob || !file) return;\n    try {\n      const url = URL.createObjectURL(compressedBlob);\n      const a = document.createElement(\"a\");\n      a.href = url;\n      const name = file.name.replace(/\\.pdf$/i, \"\");\n      a.download = `${name}_compressed.pdf`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      setTimeout(() => URL.revokeObjectURL(url), 100);\n    } catch (e) {\n      console.error(e);\n      setError(\"Failed to download file. Please try again.\");\n    }\n  };\n\n  /* ---------- Download - SPLITTER ---------- */\n  const handleDownloadSplit = splitData => {\n    try {\n      const blob = new Blob([splitData.bytes], { type: \"application/pdf\" });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement(\"a\");\n      a.href = url;\n      const baseName = file.name.replace(/\\.pdf$/i, \"\");\n      a.download = `${baseName}_${splitData.name}.pdf`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      setTimeout(() => URL.revokeObjectURL(url), 100);\n    } catch (e) {\n      console.error(e);\n      setError(\"Failed to download file. Please try again.\");\n    }\n  };\n\n  const handleDownloadAllSplits = () => {\n    if (!splitResults) return;\n    splitResults.splits.forEach(split => {\n      setTimeout(() => handleDownloadSplit(split), 100);\n    });\n  };\n\n  /* ---------- Download - EXTRACTOR ---------- */\n  const handleDownloadExtracted = () => {\n    if (!extractedBlob || !extractFile) return;\n    try {\n      const url = URL.createObjectURL(extractedBlob);\n      const a = document.createElement(\"a\");\n      a.href = url;\n      const name = extractFile.name.replace(/\\.pdf$/i, \"\");\n      const pagesList = Array.from(selectedPages)\n        .sort((a, b) => a - b)\n        .join(\"_\");\n      a.download = `${name}_pages_${pagesList}.pdf`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      setTimeout(() => URL.revokeObjectURL(url), 100);\n    } catch (e) {\n      console.error(e);\n      setError(\"Failed to download file. Please try again.\");\n    }\n  };\n\n  /* ---------- Reset ---------- */\n  const handleReset = () => {\n    setFile(null);\n    setCompressedBlob(null);\n    setSplitResults(null);\n    setOriginalSize(0);\n    setCompressedSize(0);\n    setPageCount(0);\n    setError(null);\n    setMergeFiles([]);\n    setMergedBlob(null);\n    setMergedSize(0);\n    setExtractFile(null);\n    setPdfPages([]);\n    setSelectedPages(new Set());\n    setExtractedBlob(null);\n    setExtractedSize(0);\n    setLoadingPages(false);\n    setThumbnailZoom(150);\n    setWarning(null);\n    setProgress(0);\n    setProgressMessage(\"\");\n    if (fileInputRef.current) fileInputRef.current.value = \"\";\n  };\n\n  const handleBackToTools = () => {\n    handleReset();\n    setSelectedTool(null);\n  };\n\n  /* ---------- Drag & Drop ---------- */\n  const handleDragEnter = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    dragCounter.current++;\n    if (e.dataTransfer.items && e.dataTransfer.items.length > 0) setIsDragging(true);\n  };\n  const handleDragLeave = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    dragCounter.current--;\n    if (dragCounter.current === 0) setIsDragging(false);\n  };\n  const handleDragOver = e => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  const handleDrop = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(false);\n    dragCounter.current = 0;\n    const files = e.dataTransfer.files;\n\n    if (files && files.length > 0) {\n      if (selectedTool === \"merger\") {\n        handleMergeFiles(files);\n      } else {\n        handleFileSelect(files[0]);\n      }\n    }\n  };\n\n  /* ---------- Statistics ---------- */\n  const compressionRatio = originalSize && compressedSize ? ((1 - compressedSize / originalSize) * 100).toFixed(1) : 0;\n  const savedBytes = originalSize - compressedSize;\n  const metTarget = compressedSize <= TARGET_SIZE;\n\n  const numSplits = pageCount ? Math.ceil(pageCount / pagesPerSplit) : 0;\n\n  /*===================== RENDER =====================*/\n  return (\n    <div className={`app-container ${darkMode ? \"dark\" : \"\"}`}>\n      {/* ---------- Navbar ---------- */}\n      <nav className='navbar'>\n        <div className='nav-brand'>\n          <img src={ConectysLogo} alt='Conectys Logo' className='brand-logo' />\n          <span className='brand-text'>{t.brand}</span>\n        </div>\n        <div className='nav-actions'>\n          <button className='btn-icon' onClick={cycleLanguage} aria-label='Toggle language' title={`Language: ${getLanguageName()}`}>\n            {getLanguageFlag()}\n          </button>\n          <button\n            className='btn-icon'\n            onClick={() => setDarkMode(!darkMode)}\n            aria-label='Toggle theme'\n            title={darkMode ? \"Switch to light mode\" : \"Switch to dark mode\"}\n          >\n            {darkMode ? <IconSun /> : <IconMoon />}\n          </button>\n        </div>\n      </nav>\n\n      {/* ---------- Main content ---------- */}\n      <main className='main-content'>\n        <div className='compress-container'>\n          {/* ==== Tool Selection ==== */}\n          {!selectedTool && !file && mergeFiles.length === 0 && (\n            <div className='tool-selection'>\n              <h2>{t.selectTool}</h2>\n              <p className='tool-selection-desc'>{t.selectToolDesc}</p>\n              <div className='tool-buttons'>\n                <button className='tool-button' onClick={() => setSelectedTool(\"compressor\")}>\n                  <IconCompress />\n                  <span>{t.toolCompressor}</span>\n                </button>\n                <button className='tool-button' onClick={() => setSelectedTool(\"splitter\")}>\n                  <IconSplit />\n                  <span>{t.toolSplitter}</span>\n                </button>\n                <button className='tool-button' onClick={() => setSelectedTool(\"merger\")}>\n                  <IconMerge />\n                  <span>{t.toolMerger}</span>\n                </button>\n                <button className='tool-button' onClick={() => setSelectedTool(\"extractor\")}>\n                  <IconExtract />\n                  <span>{t.toolExtractor}</span>\n                </button>\n              </div>\n            </div>\n          )}\n\n          {/* ==== COMPRESSOR Tool ==== */}\n          {selectedTool === \"compressor\" && !file && (\n            <div\n              className={`upload-area ${isDragging ? \"dragging\" : \"\"}`}\n              onClick={() => fileInputRef.current?.click()}\n              onDragEnter={handleDragEnter}\n              onDragLeave={handleDragLeave}\n              onDragOver={handleDragOver}\n              onDrop={handleDrop}\n            >\n              <input ref={fileInputRef} type='file' accept='.pdf,application/pdf' hidden onChange={e => handleFileSelect(e.target.files?.[0])} />\n              <IconUpload />\n              <h3>{t.selectOrDrop}</h3>\n              <p className='upload-subtitle'>{isDragging ? t.dropHere : t.subtitle}</p>\n\n              <div className='quality-control'>\n                <label htmlFor='quality-slider'>\n                  <strong>{t.qualityLabel}:</strong> {quality}%\n                </label>\n                <div className='quality-slider-container'>\n                  <span className='quality-label-left'>{t.qualityLow}</span>\n                  <input\n                    id='quality-slider'\n                    type='range'\n                    min='0'\n                    max='100'\n                    value={quality}\n                    onChange={e => setQuality(parseInt(e.target.value))}\n                    className='quality-slider'\n                    onClick={e => e.stopPropagation()}\n                  />\n                  <span className='quality-label-right'>{t.qualityHigh}</span>\n                </div>\n                <p className='quality-description'>{t.qualityDescription}</p>\n              </div>\n\n              <button\n                className='btn-primary btn-upload'\n                onClick={e => {\n                  e.stopPropagation();\n                  fileInputRef.current?.click();\n                }}\n              >\n                {t.chooseFile}\n              </button>\n\n              <button\n                className='btn-secondary btn-back'\n                onClick={e => {\n                  e.stopPropagation();\n                  setSelectedTool(null);\n                }}\n              >\n                {t.backToTools}\n              </button>\n            </div>\n          )}\n\n          {/* ==== SPLITTER Tool ==== */}\n          {selectedTool === \"splitter\" && !file && (\n            <div\n              className={`upload-area ${isDragging ? \"dragging\" : \"\"}`}\n              onClick={() => fileInputRef.current?.click()}\n              onDragEnter={handleDragEnter}\n              onDragLeave={handleDragLeave}\n              onDragOver={handleDragOver}\n              onDrop={handleDrop}\n            >\n              <input ref={fileInputRef} type='file' accept='.pdf,application/pdf' hidden onChange={e => handleFileSelect(e.target.files?.[0])} />\n              <IconUpload />\n              <h3>{t.selectOrDropSplit}</h3>\n              <p className='upload-subtitle'>{isDragging ? t.dropHere : t.subtitleSplit}</p>\n\n              <div className='quality-control'>\n                <label htmlFor='pages-per-split'>\n                  <strong>{t.pagesPerSplit}:</strong> {pagesPerSplit}\n                </label>\n                <div className='quality-slider-container'>\n                  <span className='quality-label-left'>1</span>\n                  <input\n                    id='pages-per-split'\n                    type='range'\n                    min='1'\n                    max='50'\n                    value={pagesPerSplit}\n                    onChange={e => setPagesPerSplit(parseInt(e.target.value))}\n                    className='quality-slider'\n                    onClick={e => e.stopPropagation()}\n                  />\n                  <span className='quality-label-right'>50</span>\n                </div>\n                <p className='quality-description'>{t.pagesPerSplitDesc}</p>\n              </div>\n\n              <button\n                className='btn-primary btn-upload'\n                onClick={e => {\n                  e.stopPropagation();\n                  fileInputRef.current?.click();\n                }}\n              >\n                {t.chooseFile}\n              </button>\n\n              <button\n                className='btn-secondary btn-back'\n                onClick={e => {\n                  e.stopPropagation();\n                  setSelectedTool(null);\n                }}\n              >\n                {t.backToTools}\n              </button>\n            </div>\n          )}\n\n          {/* ==== MERGER Tool ==== */}\n          {selectedTool === \"merger\" && mergeFiles.length === 0 && (\n            <div\n              className={`upload-area ${isDragging ? \"dragging\" : \"\"}`}\n              onClick={() => fileInputRef.current?.click()}\n              onDragEnter={handleDragEnter}\n              onDragLeave={handleDragLeave}\n              onDragOver={handleDragOver}\n              onDrop={handleDrop}\n            >\n              <input ref={fileInputRef} type='file' accept='.pdf,application/pdf' multiple hidden onChange={e => handleMergeFiles(e.target.files)} />\n              <IconUpload />\n              <h3>{t.selectOrDropMerge}</h3>\n              <p className='upload-subtitle'>{isDragging ? t.dropMultiple : t.subtitleMerge}</p>\n\n              <button\n                className='btn-primary btn-upload'\n                onClick={e => {\n                  e.stopPropagation();\n                  fileInputRef.current?.click();\n                }}\n              >\n                {t.chooseFiles}\n              </button>\n\n              <button\n                className='btn-secondary btn-back'\n                onClick={e => {\n                  e.stopPropagation();\n                  setSelectedTool(null);\n                }}\n              >\n                {t.backToTools}\n              </button>\n            </div>\n          )}\n\n          {/* ==== MERGER File List ==== */}\n          {selectedTool === \"merger\" && mergeFiles.length > 0 && !mergedBlob && (\n            <div className='card compression-card'>\n              <div className='merge-header'>\n                <h3>{t.mergeOrder}</h3>\n                <p>\n                  {mergeFiles.length} {mergeFiles.length === 1 ? t.fileSelected : t.filesSelected}\n                </p>\n              </div>\n\n              <div className='merge-file-list'>\n                {mergeFiles.map((mergeFile, index) => (\n                  <div key={mergeFile.id} className='merge-file-item'>\n                    <div className='merge-file-number'>{index + 1}</div>\n                    <div className='merge-file-info'>\n                      <IconFile />\n                      <div>\n                        <p className='merge-file-name'>{mergeFile.fileName}</p>\n                        <p className='merge-file-size'>{formatBytes(mergeFile.size)}</p>\n                      </div>\n                    </div>\n                    <div className='merge-file-actions'>\n                      <button\n                        className='btn-icon'\n                        onClick={() => handleMoveMergeFile(mergeFile.id, \"up\")}\n                        disabled={index === 0 || processing}\n                        title={t.moveUp}\n                      >\n                        ▲\n                      </button>\n                      <button\n                        className='btn-icon'\n                        onClick={() => handleMoveMergeFile(mergeFile.id, \"down\")}\n                        disabled={index === mergeFiles.length - 1 || processing}\n                        title={t.moveDown}\n                      >\n                        ▼\n                      </button>\n                      <button\n                        className='btn-icon btn-danger'\n                        onClick={() => handleRemoveMergeFile(mergeFile.id)}\n                        disabled={processing}\n                        title={t.removeThisFile}\n                      >\n                        <IconTrash />\n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n\n              {/* ---- Progress while processing ---- */}\n              {processing && (\n                <div className='progress-section'>\n                  <div className='progress-bar'>\n                    <div className='progress-fill' style={{ width: `${progress}%` }}></div>\n                  </div>\n                  <div className='progress-info'>\n                    <p className='progress-text'>{progressMessage}</p>\n                    <p className='progress-percent'>{progress}%</p>\n                  </div>\n                </div>\n              )}\n\n              {/* ---- Error ---- */}\n              {error && (\n                <div className='error-message'>\n                  <IconAlert />\n                  <div>\n                    <strong>{t.error}</strong>\n                    <p>{error}</p>\n                  </div>\n                </div>\n              )}\n\n              {!processing && (\n                <div className='action-buttons'>\n                  <button className='btn-primary' onClick={handleStartMerge} disabled={mergeFiles.length < 2}>\n                    <IconMerge />\n                    <span>{t.startMerge}</span>\n                  </button>\n                  <button className='btn-secondary' onClick={() => fileInputRef.current?.click()}>\n                    {t.addMoreFiles}\n                  </button>\n                  <button className='btn-secondary' onClick={handleBackToTools}>\n                    {t.backToTools}\n                  </button>\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* ==== MERGER Result ==== */}\n          {selectedTool === \"merger\" && mergedBlob && !processing && !error && (\n            <div className='card compression-card'>\n              <div className='result-section'>\n                <div className='success-banner target-met'>\n                  <IconCheck />\n                  <div>\n                    <strong>{t.mergeSuccessful}</strong>\n                    <p>\n                      {t.merged} {mergeFiles.length} {t.filesInto} 1 PDF\n                    </p>\n                  </div>\n                </div>\n\n                <div className='result-stats'>\n                  <div className='stat-item'>\n                    <span className='stat-label'>{t.totalSize}</span>\n                    <span className='stat-value'>{formatBytes(mergedSize)}</span>\n                  </div>\n\n                  <div className='stat-item'>\n                    <span className='stat-label'>{t.pageCount}</span>\n                    <span className='stat-value'>{pageCount}</span>\n                  </div>\n                </div>\n\n                <div className='action-buttons'>\n                  <button className='btn-download btn-primary' onClick={handleDownloadMerged}>\n                    <IconDownload />\n                    <span>{t.download}</span>\n                  </button>\n                  <button className='btn-action btn-secondary' onClick={handleBackToTools}>\n                    <IconMerge />\n                    <span>{t.mergeAnother}</span>\n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* ==== EXTRACTOR Tool ==== */}\n          {selectedTool === \"extractor\" && !extractFile && (\n            <div\n              className={`upload-area ${isDragging ? \"dragging\" : \"\"}`}\n              onClick={() => fileInputRef.current?.click()}\n              onDragEnter={handleDragEnter}\n              onDragLeave={handleDragLeave}\n              onDragOver={handleDragOver}\n              onDrop={handleDrop}\n            >\n              <input ref={fileInputRef} type='file' accept='.pdf,application/pdf' hidden onChange={e => handleFileSelect(e.target.files?.[0])} />\n              <IconUpload />\n              <h3>{t.selectOrDropExtract}</h3>\n              <p className='upload-subtitle'>{isDragging ? t.dropHere : t.subtitleExtract}</p>\n\n              <button\n                className='btn-primary btn-upload'\n                onClick={e => {\n                  e.stopPropagation();\n                  fileInputRef.current?.click();\n                }}\n              >\n                {t.chooseFile}\n              </button>\n\n              <button\n                className='btn-secondary btn-back'\n                onClick={e => {\n                  e.stopPropagation();\n                  setSelectedTool(null);\n                }}\n              >\n                {t.backToTools}\n              </button>\n            </div>\n          )}\n\n          {/* ==== EXTRACTOR Page Selection ==== */}\n          {selectedTool === \"extractor\" && extractFile && !extractedBlob && (\n            <div className='card compression-card'>\n              <div className='file-info'>\n                <IconFile />\n                <div className='file-details'>\n                  <h3>{extractFile.name}</h3>\n                  <p>\n                    {t.originalSize}: {formatBytes(originalSize)}\n                  </p>\n                  {pageCount > 0 && (\n                    <p className='page-count'>\n                      {pageCount} {pageCount !== 1 ? t.pages : t.page}\n                    </p>\n                  )}\n                </div>\n                <button className='btn-icon btn-danger' onClick={handleBackToTools} title={t.removeFile} disabled={processing || loadingPages}>\n                  <IconTrash />\n                </button>\n              </div>\n\n              {loadingPages && (\n                <div className='progress-section'>\n                  <div className='progress-info'>\n                    <p className='progress-text'>Loading pages...</p>\n                  </div>\n                </div>\n              )}\n\n              {!loadingPages && pdfPages.length > 0 && (\n                <>\n                  <div className='extractor-header'>\n                    <h4>{t.selectPages}</h4>\n                    <p className='extractor-subtitle'>{t.clickPages}</p>\n                    <div className='extractor-stats'>\n                      <span className='selected-count'>\n                        {t.selectedPages}: <strong>{selectedPages.size}</strong> / {pageCount}\n                      </span>\n                    </div>\n                  </div>\n\n                  <div className='extractor-controls'>\n                    <div className='extractor-controls-left'>\n                      <button className='btn-secondary btn-small' onClick={handleSelectAllPages} disabled={processing}>\n                        {selectedPages.size === pageCount ? t.clearSelection : t.selectAll}\n                      </button>\n                      {selectedPages.size > 0 && (\n                        <button className='btn-secondary btn-small' onClick={handleClearSelection} disabled={processing}>\n                          {t.clearSelection}\n                        </button>\n                      )}\n                    </div>\n                    <div className='extractor-controls-right'>\n                      <span className='zoom-label'>Size: {thumbnailZoom}px</span>\n                      <button className='btn-icon btn-zoom' onClick={handleZoomOut} disabled={processing || thumbnailZoom <= 100} title='Zoom Out'>\n                        <IconZoomOut />\n                      </button>\n                      <button className='btn-icon btn-zoom' onClick={handleZoomIn} disabled={processing || thumbnailZoom >= 400} title='Zoom In'>\n                        <IconZoomIn />\n                      </button>\n                    </div>\n                  </div>\n\n                  <div className='pdf-page-grid' style={{ gridTemplateColumns: `repeat(auto-fill, minmax(${thumbnailZoom}px, 1fr))` }}>\n                    {pdfPages.map(page => (\n                      <div\n                        key={page.pageNumber}\n                        className={`pdf-page-thumbnail ${selectedPages.has(page.pageNumber) ? \"selected\" : \"\"}`}\n                        onClick={() => !processing && togglePageSelection(page.pageNumber)}\n                      >\n                        <div className='page-number'>{page.pageNumber}</div>\n                        <img src={page.thumbnail} alt={`Page ${page.pageNumber}`} />\n                        {selectedPages.has(page.pageNumber) && (\n                          <div className='page-check'>\n                            <IconCheck />\n                          </div>\n                        )}\n                      </div>\n                    ))}\n                  </div>\n\n                  {processing && (\n                    <div className='progress-section'>\n                      <div className='progress-bar'>\n                        <div className='progress-fill' style={{ width: `${progress}%` }}></div>\n                      </div>\n                      <div className='progress-info'>\n                        <p className='progress-text'>{progressMessage}</p>\n                        <p className='progress-percent'>{progress}%</p>\n                      </div>\n                    </div>\n                  )}\n\n                  {error && (\n                    <div className='error-message'>\n                      <IconAlert />\n                      <div>\n                        <strong>{t.error}</strong>\n                        <p>{error}</p>\n                      </div>\n                    </div>\n                  )}\n\n                  {!processing && (\n                    <div className='action-buttons'>\n                      <button className='btn-primary' onClick={handleStartExtraction} disabled={selectedPages.size === 0}>\n                        <IconExtract />\n                        <span>\n                          {t.extractPages} ({selectedPages.size})\n                        </span>\n                      </button>\n                      <button className='btn-secondary' onClick={handleBackToTools}>\n                        {t.backToTools}\n                      </button>\n                    </div>\n                  )}\n                </>\n              )}\n            </div>\n          )}\n\n          {/* ==== EXTRACTOR Result ==== */}\n          {selectedTool === \"extractor\" && extractedBlob && !processing && !error && (\n            <div className='card compression-card'>\n              <div className='result-section'>\n                <div className='success-banner target-met'>\n                  <IconCheck />\n                  <div>\n                    <strong>{t.extractSuccessful}</strong>\n                    <p>\n                      {t.extracted} {selectedPages.size} {selectedPages.size !== 1 ? t.pagesExtracted : t.page}\n                    </p>\n                  </div>\n                </div>\n\n                <div className='result-stats'>\n                  <div className='stat-item'>\n                    <span className='stat-label'>{t.originalSizeLabel}</span>\n                    <span className='stat-value'>{formatBytes(originalSize)}</span>\n                  </div>\n\n                  <div className='stat-item'>\n                    <span className='stat-label'>Extracted Size</span>\n                    <span className='stat-value'>{formatBytes(extractedSize)}</span>\n                  </div>\n\n                  <div className='stat-item'>\n                    <span className='stat-label'>{t.pageCount}</span>\n                    <span className='stat-value'>{selectedPages.size}</span>\n                  </div>\n                </div>\n\n                <div className='action-buttons'>\n                  <button className='btn-download btn-primary' onClick={handleDownloadExtracted}>\n                    <IconDownload />\n                    <span>{t.download}</span>\n                  </button>\n                  <button className='btn-action btn-secondary' onClick={handleBackToTools}>\n                    <IconExtract />\n                    <span>{t.extractAnother}</span>\n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* ==== Processing Card ==== */}\n          {file && (\n            <div className='card compression-card'>\n              {/* ---- File header ---- */}\n              <div className='file-info'>\n                <IconFile />\n                <div className='file-details'>\n                  <h3>{file.name}</h3>\n                  <p>\n                    {t.originalSize}: {formatBytes(originalSize)}\n                  </p>\n                  {pageCount > 0 && (\n                    <p className='page-count'>\n                      {pageCount} {pageCount !== 1 ? t.pages : t.page}\n                    </p>\n                  )}\n                </div>\n                <button className='btn-icon btn-danger' onClick={handleBackToTools} title={t.removeFile} disabled={processing}>\n                  <IconTrash />\n                </button>\n              </div>\n\n              {/* ---- Quality/Pages Slider for COMPRESSOR ---- */}\n              {selectedTool === \"compressor\" && !processing && (\n                <div className='quality-control-card'>\n                  <label htmlFor='quality-slider-card'>\n                    <strong>{t.qualityLabel}:</strong> {quality}%\n                  </label>\n                  <div className='quality-slider-container'>\n                    <span className='quality-label-left'>{t.qualityLow}</span>\n                    <input\n                      id='quality-slider-card'\n                      type='range'\n                      min='0'\n                      max='100'\n                      value={quality}\n                      onChange={e => setQuality(parseInt(e.target.value))}\n                      className='quality-slider'\n                    />\n                    <span className='quality-label-right'>{t.qualityHigh}</span>\n                  </div>\n                  <p className='quality-description'>{t.qualityDescription}</p>\n                  <button className='btn-secondary btn-recompress' onClick={handleRecompress} disabled={processing}>\n                    <IconCompress />\n                    <span>Recompress with new quality</span>\n                  </button>\n                </div>\n              )}\n\n              {/* ---- Pages per Split for SPLITTER ---- */}\n              {selectedTool === \"splitter\" && !processing && (\n                <div className='quality-control-card'>\n                  <label htmlFor='pages-per-split-card'>\n                    <strong>{t.pagesPerSplit}:</strong> {pagesPerSplit}\n                  </label>\n                  <div className='quality-slider-container'>\n                    <span className='quality-label-left'>1</span>\n                    <input\n                      id='pages-per-split-card'\n                      type='range'\n                      min='1'\n                      max={pageCount || 50}\n                      value={pagesPerSplit}\n                      onChange={e => setPagesPerSplit(parseInt(e.target.value))}\n                      className='quality-slider'\n                    />\n                    <span className='quality-label-right'>{pageCount || 50}</span>\n                  </div>\n                  <p className='quality-description'>{t.pagesPerSplitDesc}</p>\n\n                  {pageCount > 0 && (\n                    <div className='split-preview'>\n                      <p>\n                        <strong>{t.splitPreview}:</strong>\n                      </p>\n                      <p>\n                        {t.willCreate} <strong>{numSplits}</strong> {numSplits !== 1 ? t.pdfs : t.pdf}\n                      </p>\n                    </div>\n                  )}\n\n                  <button className='btn-secondary btn-recompress' onClick={handleResplit} disabled={processing}>\n                    <IconSplit />\n                    <span>Re-split with new page count</span>\n                  </button>\n                </div>\n              )}\n\n              {/* ---- Progress while processing ---- */}\n              {processing && (\n                <div className='progress-section'>\n                  <div className='progress-bar'>\n                    <div className='progress-fill' style={{ width: `${progress}%` }}></div>\n                  </div>\n                  <div className='progress-info'>\n                    <p className='progress-text'>{progressMessage}</p>\n                    <p className='progress-percent'>{progress}%</p>\n                  </div>\n                </div>\n              )}\n\n              {/* ---- Error ---- */}\n              {error && (\n                <div className='error-message'>\n                  <IconAlert />\n                  <div>\n                    <strong>{t.error}</strong>\n                    <p>{error}</p>\n                  </div>\n                </div>\n              )}\n\n              {/* ---- Warning ---- */}\n              {warning && !error && (\n                <div className='warning-message'>\n                  <IconInfo />\n                  <div>\n                    <strong>{t.note}</strong>\n                    <p>{warning}</p>\n                  </div>\n                </div>\n              )}\n\n              {/* ---- COMPRESSOR Result ---- */}\n              {selectedTool === \"compressor\" && compressedBlob && !processing && !error && (\n                <div className='result-section'>\n                  <div className={`success-banner ${metTarget ? \"target-met\" : \"\"}`}>\n                    {metTarget ? <IconCheck /> : <IconInfo />}\n                    <div>\n                      <strong>{metTarget ? t.compressionSuccessful : t.compressionComplete}</strong>\n                      <p>\n                        {t.reducedBy} {formatBytes(savedBytes)} ({compressionRatio}%)\n                      </p>\n                    </div>\n                  </div>\n\n                  {metTarget && language === \"pt\" && (\n                    <div style={{ textAlign: \"center\", margin: \"20px 0\" }}>\n                      <img src={RonaldoGif} alt='Cristiano Ronaldo SIUUU' style={{ maxWidth: \"300px\", borderRadius: \"10px\" }} />\n                    </div>\n                  )}\n\n                  <div className='result-stats'>\n                    <div className='stat-item'>\n                      <span className='stat-label'>{t.originalSizeLabel}</span>\n                      <span className='stat-value'>{formatBytes(originalSize)}</span>\n                    </div>\n\n                    <div className='stat-item'>\n                      <span className='stat-label'>{t.compressedSize}</span>\n                      <span className={`stat-value ${metTarget ? \"success\" : \"warning\"}`}>{formatBytes(compressedSize)}</span>\n                    </div>\n\n                    <div className='stat-item'>\n                      <span className='stat-label'>{t.sizeReduction}</span>\n                      <span className='stat-value success'>{compressionRatio}%</span>\n                    </div>\n\n                    <div className='stat-item'>\n                      <span className='stat-label'>{t.bytesSaved}</span>\n                      <span className='stat-value'>{formatBytes(savedBytes)}</span>\n                    </div>\n\n                    <div className='stat-item'>\n                      <span className='stat-label'>{t.targetLabel}</span>\n                      <span className={`stat-value ${metTarget ? \"success\" : \"warning\"}`}>{metTarget ? t.met : t.exceeded}</span>\n                    </div>\n\n                    <div className='stat-item'>\n                      <span className='stat-label'>{t.pageCount}</span>\n                      <span className='stat-value'>{pageCount}</span>\n                    </div>\n                  </div>\n\n                  <div className='action-buttons'>\n                    <button className='btn-download btn-primary' onClick={handleDownloadCompressed}>\n                      <IconDownload />\n                      <span>{t.download}</span>\n                    </button>\n                    <button className='btn-action btn-secondary' onClick={handleBackToTools}>\n                      <IconCompress />\n                      <span>{t.compressAnother}</span>\n                    </button>\n                  </div>\n                </div>\n              )}\n\n              {/* ---- SPLITTER Result ---- */}\n              {selectedTool === \"splitter\" && splitResults && !processing && !error && (\n                <div className='result-section'>\n                  <div className='success-banner target-met'>\n                    <IconCheck />\n                    <div>\n                      <strong>{t.splitSuccessful}</strong>\n                      <p>\n                        Created {splitResults.numSplits} PDF{splitResults.numSplits !== 1 ? \"s\" : \"\"}\n                      </p>\n                    </div>\n                  </div>\n\n                  <div className='split-results'>\n                    <h4>Split Files:</h4>\n                    {splitResults.splits.map((split, idx) => (\n                      <div key={idx} className='split-item'>\n                        <div className='split-info'>\n                          <IconFile />\n                          <div>\n                            <p className='split-name'>\n                              Split {idx + 1}: Pages {split.startPage}-{split.endPage}\n                            </p>\n                            <p className='split-size'>{formatBytes(split.bytes.length)}</p>\n                          </div>\n                        </div>\n                        <button className='btn-icon btn-primary' onClick={() => handleDownloadSplit(split)} title={t.download}>\n                          <IconDownload />\n                        </button>\n                      </div>\n                    ))}\n                  </div>\n\n                  <div className='action-buttons'>\n                    <button className='btn-download btn-primary' onClick={handleDownloadAllSplits}>\n                      <IconDownload />\n                      <span>{t.downloadAll}</span>\n                    </button>\n                    <button className='btn-action btn-secondary' onClick={handleBackToTools}>\n                      <IconSplit />\n                      <span>{t.splitAnother}</span>\n                    </button>\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </main>\n\n      {/* ---------- Footer ---------- */}\n      <footer className='footer'>\n        <div className='footer-content'>\n          <p>{t.footer}</p>\n          <a\n            href='https://github.com/Joaosilva27/pdf-compressor'\n            target='_blank'\n            rel='noopener noreferrer'\n            className='github-link'\n            aria-label='GitHub Repository'\n          >\n            <IconGitHub />\n            <span>{t.githubText}</span>\n          </a>\n        </div>\n      </footer>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}